{"version":3,"sources":["contants.js","providers/authProvider.js","providers/dataProvider.js","utilities/LoginPage.js","password/index.js","providers/routes.js","layout/logo.png","layout/AppBar.js","layout/SubMenu.js","components/CustomDelete.js","components/PaginationCustom.js","parties/index.js","items/index.js","categories/index.js","expenses/index.js","expense_types/index.js","expense_views/index.js","inventories/index.js","orders/OrderEdit.js","orders/index.js","manual_orders/index.js","purchase_orders/index.js","purchase_order_costing/index.js","purchase_items/index.js","dashboard/CardWithIcon.js","dashboard/cartouche.png","order_reports/index.js","purchase_order_reports/index.js","van_reports/index.js","daily_invoice_reports/index.js","invoices/logo.png","invoices/InvoiceShow.js","invoices/index.js","purchase_invoices/InvoiceShow.js","purchase_invoices/index.js","transactions/logo.png","transactions/CardWithIcon.js","transactions/cartouche.png","transactions/index.js","layout/Menu.js","layout/index.js","dashboard/MonthlyRevenue.js","dashboard/NewOrders.js","dashboard/NewCustomers.js","dashboard/PendingOrders.js","dashboard/OrderChart.js","dashboard/Dashboard.js","dashboard/index.js","App.js","reportWebVitals.js","index.js"],"names":["app","api","defaultEmail","currencySymbol","currencyCode","colorOne","colorTwo","vans","expenses","getDaysBetweenDates","startDate","endDate","now","clone","dates","isSameOrBefore","push","format","add","uniqueValuesFromArray","value","index","self","indexOf","discounts","label","weeks","filterAmounts","boxTypes","payments","status","tax","adminRole","superAdminRole","validateEmail","mail","test","sleep","ms","Promise","resolve","setTimeout","filter","array","element","cross","tempArray","i","length","name","van","type","sort","key","a","b","passwordValidator","password","extra","login","username","request","Request","method","body","JSON","stringify","headers","Headers","fetch","then","response","Error","statusText","json","auth","localStorage","setItem","catch","error","console","log","logout","getItem","Authorization","parse","token","removeItem","checkError","reject","checkAuth","getPermissions","role","getIdentity","id","Date","fullName","user_id","avatar","apiUrl","httpClient","fetchUtils","fetchJson","dataProvider","getList","resource","params","pagination","page","perPage","field","order","query","range","url","zlFetch","data","total","parseInt","getOne","getMany","ids","getManyReference","target","get","split","pop","updateMany","alert","delete","deleteMany","getListSimple","create","update","image","rawFile","convertFileToBase64","file","reader","FileReader","onload","result","onerror","readAsDataURL","MyLoginPage","Login","Password","notify","useNotify","authProvider","useAuthProvider","string","React","confirmPassword","showPassword","values","setValues","handleChange","prop","event","handleClickShowPassword","handleMouseDownPassword","preventDefault","Card","style","marginTop","Title","title","CardContent","FormControl","Grid","container","item","xs","autoFocus","variant","size","required","onChange","InputProps","endAdornment","InputAdornment","IconButton","onClick","onMouseDown","Visibility","VisibilityOff","marginBottom","Button","startIcon","color","user","axios","post","er","exact","path","render","useStyles","makeStyles","flex","textOverflow","whiteSpace","overflow","spacer","ManagePassword","forwardRef","props","ref","MenuItemLink","paddingLeft","to","primaryText","leftIcon","sidebarIsOpen","CustomUserMenu","UserMenu","CustomAppBar","classes","AppBar","elevation","userMenu","Typography","className","src","logo","width","theme","icon","minWidth","spacing","transition","sidebarIsClosed","SubMenu","handleToggle","isOpen","children","dense","translate","useTranslate","useSelector","state","admin","ui","sidebarOpen","header","MenuItem","button","ListItemIcon","Tooltip","placement","Collapse","in","timeout","unmountOnExit","List","component","disablePadding","CustomDeleteButton","showDialog","handleClick","setState","handleCloseClick","handleDelete","dispatchCrudDelete","startUndoable","record","undoable","this","disableLable","classnames","deleteButton","Dialog","fullWidth","open","onClose","aria-label","action","onSubmit","DialogTitle","DialogContent","DialogContentText","DialogActions","Component","defaultProps","redirect","compose","connect","crudDelete","withStyles","palette","main","backgroundColor","fade","CustomPagination","Pagination","rowsPerPageOptions","PartyTitle","UserEditToolbar","Toolbar","SaveButton","PartyFilter","Filter","TextInput","source","alwaysOn","CustomDeleteWrapper","CustomDelete","PartyListPrint","Datagrid","ImageField","EmailField","BooleanField","EditButton","PartyList","tableRef","marginRight","trigger","float","fontSize","pageStyle","content","el","list","filters","bulkActionButtons","show","Show","SimpleShowLayout","refresh","useRefresh","useRedirect","Create","onSuccess","onFailure","SimpleForm","validate","multiline","rows","edit","Edit","toolbar","RadioButtonGroupInput","choices","PersonIcon","ItemTitle","ItemFilter","rowClick","ReferenceField","reference","placeholder","ReferenceInput","SelectInput","optionText","ImageInput","accept","maxSize","alt","KitchenIcon","CategoryTitle","CategoryFilter","CategoryIcon","ShowGuesser","ExpenseFilter","DateInput","filterToQuery","searchText","AutocompleteInput","expenseTypes","setExpenseTypes","listExpenseTypes","setListExpenseTypes","expenseType","setExpenseType","loading","setLoading","moment","date","setDate","useDataProvider","processExpenseType","expense_type_id","amount","default_amount","extend","loadData","expense_types","updated_expense_types","map","temp_updated_expense_types","addExpense","tempExpenseTypes","forEach","toString","parseFloat","am","Loading","loadingPrimary","loadingSecondary","padding","paddingBottom","md","Autocomplete","options","getOptionLabel","e_type","renderInput","FormHelperText","tempExpenseType","j","e","expense_type","changeAmount","changeExtra","emptyText","ShowButton","DeleteButton","NumberInput","ExpenseIcon","defaultValue","process_expense","expense","ExpenseListView","setExpenses","setHeaders","totalAmounts","setTotalAmounts","expenses_data","Object","keys","processed_expenses","undefined","processed_total_amounts","reduce","expense_types_keys","Math","max","apply","concat","Array","abs","fill","new_expenses","componentRef","handlePrint","useReactToPrint","current","margin","Table","TableHead","TableRow","TableCell","TableBody","row","toFixed","hasCreate","empty","InventoryTitle","InventoryFilter","sortable","setChoices","newIndex","setNewIndex","item_id","newChoices","selling_price","startAdornment","position","newSellingPrice","temp","addSellingPrice","DateField","showTime","loadSellingPrice","inputProps","min","ListAlt","getUpdatedTotal","cart","tempItems","totalSum","totalTax","price","buying_price","quantity","inventory_id","sub_total","total_tax","Cart","submitOrder","setData","del","align","RemoveCircle","newData","handleRemoveCartItem","Link","colSpan","root","headings","form","textInput","OrderEdit","useState","setOrder","inventories","setInventories","setQuantity","sellPrice","setSellPrice","inventory","setInventory","setStatus","setVan","useEffect","singleOrder","available","remaining_unit","updatedData","order_code","created_at","party_id","party_business_name","Select","displayEmpty","Number","isInteger","completeInventory","items","clash","findIndex","OrderFilter","business_name","fontWeight","ShoppingCartIcon","edge","AddShoppingCart","parties","setParties","party","setParty","costPrice","setCostPrice","manual","bank","van_id","setValue","FormLabel","newValue","RadioGroup","FormControlLabel","control","Radio","cursor","disabled","readonly","PrintUpperTableFun","sr","window","location","PrintUpperTable","OrderListRows","print","setPrint","onAfterPrint","onBeforeGetContent","getTotalCount","typeIndex","t1","t2","t3","Money","setItems","boxType","setBoxType","setPrice","box","newCart","tempItemValidate","newId","ArrayField","NumberField","costs","setCosts","rawData","againElement","finalOutput","submitCost","item_type","res","err","display","justifyContent","textAlign","tempCosts","cost_price","changeCost","filterDefaultValues","current_date","Receipt","PrintItemWiseDetails","output","str","allCart","normalize","border","borderRadius","marginLeft","toLocaleDateString","textDecoration","borderBottom","columns","selector","paginationComponentOptions","selectAllRowsItem","selectAllRowsItemText","summaryRef","ProductionQuantityLimitsIcon","card","minHeight","flexDirection","background","alignItems","CardWithIcon","subtitle","Box","createElement","Divider","ReportFilter","Report","totalProfit","totalRevenue","totalBuying","tabsData","setTabsData","tabsOutput","tempData","profit","styles","leftCol","Tile","sub","cartItem","cartIndex","total_with_tax","total_profit","ReportList","FileCopyIcon","totalExpense","setTotalExpense","filterIsExists","filter_name","searchParams","URLSearchParams","href","p","filter_keys","getTotalExpense","start_date","end_date","needToSplit","created_dates","exploded_date","join","discount_amount","total_without_discount","group","r","obj","carts","newCarts","neutralData","LocalShippingIcon","Content","daily_reports","total_amount","transactions_total","transactions","paddingRight","transaction","DailyInvoicesParent","DailyInvoices","CustomerField","address","contact_number","InvoiceShow","height","invoices","margin0","margin1","bank_visible","opacity","gutterBottom","rightAlignedCell","InvoicePrint","expand","PagesIcon","verticalAlign","InvoicePrintWrapper","email","setEmail","setLoding","sendEmail","copyStyles","printIframe","document","contentDocument","toBeRemovedAndReplaced","removed","replace","invoice_message","getElementsByTagName","innerHTML","emails","CircularProgress","permissions","usePermissions","updatePrice","discount","setDiscount","purchase_order","setPurchase_order","browserUrl","purchase_order_id","out","partialSum","round","TransactionFilter","Total","revenue","setRevenue","loadRevenue","ShowPartyTransactions","setTransactions","getTransactions","filterValues","allowPrint","party_name","paid","custom_purchase_invoice_id","purchase_invoice_id","basePath","TransactionCenter","TransactionPrintWrapper","setAllowPrint","ListResult","ListActions","TopToolbar","cloneElement","context","CreateButton","ExportButton","TransactionList","actions","Logo","TransactionShow","PartySingleTransaction","PartyTransactions","AttachMoneyIcon","Menu","orders","products","reportings","extras","menu","DashboardSharp","categories","manual_orders","purchase_orders","purchase_order_costing","purchase_items","order_reports","purchase_order_reports","daily_invoice_reports","van_reports","purchase_invoices","expense_views","CustomSidebar","Sidebar","primary","secondary","light","dark","contrastText","default","shape","overrides","RaMenuItemLink","active","MuiPaper","elevation1","boxShadow","backgroundClip","MuiButton","contained","MuiButtonBase","top","right","MuiAppBar","colorSecondary","MuiLinearProgress","colorPrimary","barColorPrimary","MuiDrawer","MuiFilledInput","MuiSnackbarContent","Layout","appBar","sidebar","MonthlyRevenue","NewOrders","link","linkContent","NewCustomers","aMonthAgo","subDays","getDate","setHours","setMinutes","setSeconds","setMilliseconds","useQueryWithStore","payload","has_ordered","first_seen_gte","toISOString","visitors","loaded","nb","CustomerIcon","ListItem","ListItemAvatar","Avatar","ListItemText","flexGrow","cost","text","PendingOrders","customers","CardHeader","customer_id","ListItemSecondaryAction","lastDay","lastMonthDays","from","_","dateFormatter","getRevenuePerDay","daysWithRevenue","acc","curr","day","aggregateOrdersByDay","getTime","OrderChart","ResponsiveContainer","AreaChart","x1","y1","x2","y2","offset","stopColor","stopOpacity","XAxis","dataKey","scale","domain","addDays","tickFormatter","YAxis","unit","CartesianGrid","strokeDasharray","formatter","Intl","NumberFormat","currency","labelFormatter","Area","stroke","strokeWidth","flexColumn","rightCol","singleCol","topZeroMargin","Spacer","VerticalSpacer","Dashboard","recentOrders","newOrders","version","useVersion","isXSmall","useMediaQuery","breakpoints","down","isSmall","fetchOrders","useCallback","date_gte","aggregations","stats","pendingOrders","toLocaleString","minimumFractionDigits","maximumFractionDigits","pendingOrdersCustomers","prev","customer","nbNewOrders","nbPendingReviews","pendingReviews","pendingReviewsCustomers","App","userToken","token_id","Admin","layout","dashboard","loginPage","LoginPage","customRoutes","Resource","proxied","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","arguments","ReactDOM","getElementById"],"mappings":"8QAAaA,EAAM,CACjBC,IAAK,4CAELC,aAAc,iCACdC,eAAgB,OAChBC,aAAc,MACdC,SAAU,UACVC,SAAU,UACVC,KAAM,CACJ,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,UAEFC,SAAU,CACR,WACA,cACA,cACA,QACA,MACA,OACA,SACA,YACA,WACA,UACA,WACA,cAEFC,oBAAqB,SAAUC,EAAWC,GAIxC,IAHA,IAAIC,EAAMF,EAAUG,QAClBC,EAAQ,GAEHF,EAAIG,eAAeJ,IACxBG,EAAME,KAAKJ,EAAIK,OAAO,eACtBL,EAAIM,IAAI,EAAG,QAEb,OAAOJ,GAETK,sBAAuB,SAAUC,EAAOC,EAAOC,GAC7C,OAAOA,EAAKC,QAAQH,KAAWC,GAEjCG,UAAW,CACT,CACEC,MAAO,KACPL,MAAO,GAET,CACEK,MAAO,KACPL,MAAO,KAET,CACEK,MAAO,MACPL,MAAO,IAET,CACEK,MAAO,MACPL,MAAO,MAGXM,MAAO,CACL,CACED,MAAO,oBACPL,MAAO,WAET,CACEK,MAAO,qBACPL,MAAO,YAET,CACEK,MAAO,qBACPL,MAAO,YAET,CACEK,MAAO,qBACPL,MAAO,YAET,CACEK,MAAO,qBACPL,MAAO,aAGXO,cAAe,CACb,CACEF,MAAO,mBACPL,MAAO,KAET,CACEK,MAAO,mBACPL,MAAO,KAET,CACEK,MAAO,mBACPL,MAAO,KAET,CACEK,MAAO,mBACPL,MAAO,KAET,CACEK,MAAO,mBACPL,MAAO,MAGXQ,SAAU,CAAC,WAAY,WAAY,cACnCC,SAAU,CAAC,OAAQ,UACnBC,OAAQ,CAAC,WAAY,YAAa,YAClCC,IAAK,GACLC,UAAW,QACXC,eAAgB,aAChBC,cAAe,SAAUC,GACvB,QAAI,gDAAgDC,KAAKD,IAG3DE,MAAO,SAACC,GACN,OAAO,IAAIC,SAAQ,SAACC,GAAD,OAAaC,WAAWD,EAASF,OAEtDI,OAAQ,SAACC,EAAOC,GAEd,IAFyC,IAAlBC,IAAiB,yDAClCC,EAAY,GACTC,EAAI,EAAGA,EAAIJ,EAAMK,OAAQD,IAC5BF,EAEAF,EAAMI,GAAGE,OAASL,EAAQK,MAC1BN,EAAMI,GAAGG,MAAQN,EAAQM,KACzBP,EAAMI,GAAGI,OAASP,EAAQO,MAE1BL,EAAU9B,KAAK2B,EAAMI,IAGnBJ,EAAMI,GAAGE,OAASL,EAAQK,MAAQN,EAAMI,GAAGG,MAAQN,EAAQM,KAC7DJ,EAAU9B,KAAK2B,EAAMI,IAI3B,OAAOD,GAETM,KAAM,SAACT,GAAyB,IAAlBU,EAAiB,uDAAX,OAClB,OAAOV,EAAMS,MAAK,SAACE,EAAGC,GACpB,OAAID,EAAED,GAAOE,EAAEF,GAAa,EACxBC,EAAED,GAAOE,EAAEF,IAAc,EACtB,OAIAG,EAAoB,SAACC,GAA0B,IAAhBC,EAAe,uDAAP,GAClD,OAAKD,GAAYA,EAAST,QAAU,EAC3BU,EAAQ,4BACbD,EAAST,OAAS,EAAUU,EAAQ,sCACjC,ICtJM,GAEbC,MAAO,YAA6B,IAA1BC,EAAyB,EAAzBA,SAAUH,EAAe,EAAfA,SACZI,EAAU,IAAIC,QAAQ9D,EAAIC,IAAM,aAAc,CAClD8D,OAAQ,OACRC,KAAMC,KAAKC,UAAU,CAAEN,WAAUH,aACjCU,QAAS,IAAIC,QAAQ,CAAE,eAAgB,uBAEzC,OAAOC,MAAMR,GACVS,MAAK,SAACC,GACL,GAAIA,EAASzC,OAAS,KAAOyC,EAASzC,QAAU,IAC9C,MAAM,IAAI0C,MAAMD,EAASE,YAE3B,OAAOF,EAASG,UAEjBJ,MAAK,SAACK,GACLC,aAAaC,QAAQ,OAAQZ,KAAKC,UAAUS,OAE7CG,OAAM,SAACC,GAEN,MADAC,QAAQC,IAAIF,GACN,IAAIP,MAAM,4BAItBU,OAAQ,WACN,GAAIN,aAAaO,QAAQ,QAAS,CAChC,IAAMtB,EAAU,IAAIC,QAAQ9D,EAAIC,IAAM,SAAU,CAC9C8D,OAAQ,MACRI,QAAS,IAAIC,QAAQ,CACnB,eAAgB,mBAChBgB,cACE,UAAYnB,KAAKoB,MAAMT,aAAaO,QAAQ,SAASG,UAG3D,OAAOjB,MAAMR,GACVS,MAAK,SAACC,GACL,GAAIA,EAASzC,OAAS,KAAOyC,EAASzC,QAAU,IAC9C,MAAM,IAAI0C,MAAMD,EAASE,YAE3B,OAAOF,EAASG,UAEjBJ,MAAK,WAEJ,OADAM,aAAaW,WAAW,QACjBhD,QAAQC,aAEhBsC,OAAM,eAEX,OAAOvC,QAAQC,WAGjBgD,WAAY,YAAiB,IAAd1D,EAAa,EAAbA,OACb,OAAe,MAAXA,GAA6B,MAAXA,GACpB8C,aAAaW,WAAW,QACjBhD,QAAQkD,UAEVlD,QAAQC,WAGjBkD,UAAW,WACT,OAAOd,aAAaO,QAAQ,QAAU5C,QAAQC,UAAYD,QAAQkD,UAGpEE,eAAgB,WACd,IAAMhB,EAAOV,KAAKoB,MAAMT,aAAaO,QAAQ,SAC7C,OAAIR,EACKpC,QAAQC,QAAQmC,EAAKiB,MAEvBrD,QAAQkD,UAEjBI,YAAa,WACX,IAAIP,EAAQ,CACVQ,GAAI7B,KAAKC,UAAU6B,QACnBC,SAAU,SAIZ,OAFIpB,aAAaO,QAAQ,UACvBG,EAAQrB,KAAKoB,MAAMT,aAAaO,QAAQ,UACnC5C,QAAQC,QAAQ,CACrByD,QAASX,EAAMW,QACfH,GAAIR,EAAMA,MACVU,SAAUV,EAAMrC,KAChBiD,OAAQ,oD,4CC/ERC,EAASnG,EAAIC,IACbmG,EAAaC,IAAWC,UAExBC,EAAe,CACnBC,QAAQ,WAAD,4BAAE,WAAOC,EAAUC,GAAjB,6BAAApD,EAAA,+DACmBoD,EAAOC,WAAzBC,EADD,EACCA,KAAMC,EADP,EACOA,QADP,EAEkBH,EAAOtD,KAAxB0D,EAFD,EAECA,MAAOC,EAFR,EAEQA,MACTC,EAAQ,CACZ5D,KAAMa,KAAKC,UAAU,CAAC4C,EAAOC,IAC7BE,MAAOhD,KAAKC,UAAU,EAAE0C,EAAO,GAAKC,EAASD,EAAOC,EAAU,IAC9DnE,OAAQuB,KAAKC,UAAUwC,EAAOhE,SAE1BwE,EARC,UAQQf,GARR,OAQiBM,EARjB,YAQ6BvC,oBAAU8C,IARvC,kBASAG,IAAQD,GAAK5C,MAAK,SAACC,GACxB,IAAQP,EAAkBO,EAAlBP,KAAMG,EAAYI,EAAZJ,QAId,MAAO,CACLiD,KAAMpD,EACNqD,MALYlD,EAAQ,oBAClBmD,SAASnD,EAAQ,qBACjBH,EAAKhB,YAbJ,2CAAF,qDAAC,GAqBRuE,OAAQ,SAACd,EAAUC,GACjB,IAAMQ,EAAG,UAAMf,GAAN,OAAeM,EAAf,YAA2BC,EAAOZ,IAC3C,OAAOM,EAAWc,GAAK5C,MAAK,kBAAe,CACzC8C,KAD0B,EAAG1C,UAKjC8C,QAAS,SAACf,EAAUC,GAClB,IAAMM,EAAQ,CACZtE,OAAQuB,KAAKC,UAAU,CAAE4B,GAAIY,EAAOe,OAEhCP,EAAG,UAAMf,GAAN,OAAeM,EAAf,YAA2BvC,oBAAU8C,IAC9C,OAAOZ,EAAWc,GAAK5C,MAAK,kBAAe,CAAE8C,KAAjB,EAAG1C,UAGjCgD,iBAAkB,SAACjB,EAAUC,GAC3B,MAA0BA,EAAOC,WAAzBC,EAAR,EAAQA,KAAMC,EAAd,EAAcA,QACd,EAAyBH,EAAOtD,KAAxB0D,EAAR,EAAQA,MAAOC,EAAf,EAAeA,MACTC,EAAQ,CACZ5D,KAAMa,KAAKC,UAAU,CAAC4C,EAAOC,IAC7BE,MAAOhD,KAAKC,UAAU,EAAE0C,EAAO,GAAKC,EAASD,EAAOC,EAAU,IAC9DnE,OAAQuB,KAAKC,UAAL,2BACHwC,EAAOhE,QADJ,kBAELgE,EAAOiB,OAASjB,EAAOZ,OAGtBoB,EAAG,UAAMf,GAAN,OAAeM,EAAf,YAA2BvC,oBAAU8C,IAE9C,OAAOZ,EAAWc,GAAK5C,MAAK,gBAAGH,EAAH,EAAGA,QAAH,MAAwB,CAClDiD,KAD0B,EAAY1C,KAEtC2C,MAAOC,SAASnD,EAAQyD,IAAI,iBAAiBC,MAAM,KAAKC,MAAO,SAInEC,WAAY,SAACtB,EAAUC,GACrBsB,MAAM,cACN,IAAMhB,EAAQ,CACZtE,OAAQuB,KAAKC,UAAU,CAAE4B,GAAIY,EAAOe,OAEtC,OAAOrB,EAAW,GAAD,OAAID,GAAJ,OAAaM,EAAb,YAAyBvC,oBAAU8C,IAAU,CAC5DjD,OAAQ,MACRC,KAAMC,KAAKC,UAAUwC,EAAOU,QAC3B9C,MAAK,kBAAe,CAAE8C,KAAjB,EAAG1C,UAGbuD,OAAQ,SAACxB,EAAUC,GAAX,OACNN,EAAW,GAAD,OAAID,GAAJ,OAAaM,EAAb,YAAyBC,EAAOZ,IAAM,CAC9C/B,OAAQ,WACPO,MAAK,kBAAe,CAAE8C,KAAjB,EAAG1C,UAEbwD,WAAY,SAACzB,EAAUC,GACrB,IAAMM,EAAQ,CACZtE,OAAQuB,KAAKC,UAAU,CAAE4B,GAAIY,EAAOe,OAEhCP,EAAG,UAAMf,GAAN,OAAeM,EAAf,YAA2BvC,oBAAU8C,IAC9C,OAAOZ,EAAWc,EAAK,CACrBnD,OAAQ,WACPO,MAAK,kBAAe,CAAE8C,KAAjB,EAAG1C,UAEbyD,cAAc,WAAD,4BAAE,WAAO1B,EAAUC,GAAjB,eAAApD,EAAA,6DACP4D,EADO,UACEf,GADF,OACWM,EADX,YACuBvC,oBAAUwC,IADjC,kBAENN,EAAWc,GAAK5C,MAAK,YAC1B,MAAO,CACL8C,KAFsC,EAAX1C,UAFlB,2CAAF,qDAAC,GAQd0D,OAAQ,SAAC3B,EAAUC,GACjB,OAAOS,IAAQ,GAAD,OAAIhB,GAAJ,OAAaM,GAAY,CACrC1C,OAAQ,OACRC,KAAM0C,EAAOU,OACZ9C,MAAK,SAACC,GACP,MAAO,CACL6C,KAAK,2BAAMV,EAAOU,MAAd,IAAoBtB,GAAIvB,EAASuB,UAK3CuC,OAAQ,SAAC5B,EAAUC,GACjB,IAAMQ,EAAG,UAAMf,GAAN,OAAeM,EAAf,YAA2BC,EAAOZ,IAC3C,OAAOqB,IAAQD,EAAK,CAClBnD,OAAQ,MACRC,KAAM0C,EAAOU,OACZ9C,MAAK,SAACC,GACP,MAAO,CACL6C,KAAM7C,EAASP,WAMR,6BACVuC,GADL,IAEE8B,OAAQ,SAAC5B,EAAUC,GACjB,GAAKA,EAAOU,KAAKkB,OAAsB,UAAb7B,EAEnB,CACL,IAAI6B,EAAQ5B,EAAOU,KAAKkB,MAAMC,QAAU7B,EAAOU,KAAKkB,MAAQ,KAC5D,OAAIA,EACKE,EAAoBF,GAAOhE,MAAK,SAACgE,GACtC,OAAO/B,EAAa8B,OAAO5B,EAApB,2BACFC,GADE,IAELU,KAAK,2BACAV,EAAOU,MADR,IAEFkB,gBAKC/B,EAAa8B,OAAO5B,EAApB,2BACFC,GADE,IAELU,KAAK,eACAV,EAAOU,SAjBhB,OAAOb,EAAa8B,OAAO5B,EAAUC,IAuBzC0B,OAAQ,SAAC3B,EAAUC,GACjB,GAAKA,EAAOU,KAAKkB,OAAsB,UAAb7B,EAEnB,CACL,IAAI6B,EAAQ5B,EAAOU,KAAKkB,MACxB,OAAOE,EAAoBF,GAAOhE,MAAK,SAACgE,GACtC,OAAO/B,EAAa6B,OAAO3B,EAApB,2BACFC,GADE,IAELU,KAAK,2BACAV,EAAOU,MADR,IAEFkB,gBARN,OAAO/B,EAAa6B,OAAO3B,EAAUC,MAgBrC8B,EAAsB,SAACC,GAAD,OAC1B,IAAIlG,SAAQ,SAACC,EAASiD,GACpB,IAAMiD,EAAS,IAAIC,WACnBD,EAAOE,OAAS,kBAAMpG,EAAQkG,EAAOG,SACrCH,EAAOI,QAAUrD,EACjBiD,EAAOK,cAAcN,EAAKF,a,iBClKfS,EANK,kBAClB,cAACC,EAAA,EAAD,K,0JC6JaC,EA5IE,WACf,IAAMC,EAASC,cACTC,EAAeC,cACfvE,EAAQ,SAACwE,GAA4B,IAApBpG,EAAmB,uDAAZ,QAC5BgG,EAAOI,EAAQpG,IAEjB,EAA4BqG,WAAe,CACzC/F,SAAU,GACVgG,gBAAiB,GACjBC,cAAc,IAHhB,mBAAOC,EAAP,KAAeC,EAAf,KAKMC,EAAe,SAACC,GAAD,OAAU,SAACC,GAC9BH,EAAU,2BAAKD,GAAN,kBAAeG,EAAOC,EAAMpC,OAAOvG,WAGxC4I,EAA0B,WAC9BJ,EAAU,2BAAKD,GAAN,IAAcD,cAAeC,EAAOD,iBAEzCO,EAA0B,SAACF,GAC/BA,EAAMG,kBAiCR,OACE,eAACC,EAAA,EAAD,CACEC,MAAO,CACLC,UAAW,IAFf,UAKE,cAACC,EAAA,EAAD,CAAOC,MAAO,oBACd,cAACC,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,UACE,eAACC,EAAA,EAAD,CAAMC,WAAS,EAAf,UACE,cAACD,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,IAAD,CACEC,WAAS,EACTrJ,MAAM,eACNsJ,QAAQ,WACRC,KAAK,QACL7H,KAAMwG,EAAOD,aAAe,OAAS,WACrCtI,MAAOuI,EAAOlG,SACdwH,UAAQ,EACRC,SAAUrB,EAAa,YACvBsB,WAAY,CACVC,aACE,cAACC,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CACEC,QAASvB,EACTwB,YAAavB,EAFf,SAIGN,EAAOD,aACN,cAAC+B,EAAA,EAAD,IAEA,cAACC,EAAA,EAAD,SAMVtB,MAAO,CACLuB,aAAc,QAIpB,cAACjB,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,SACE,cAAC,IAAD,CACEpJ,MAAM,uBACNsJ,QAAQ,WACRC,KAAK,QACL7H,KAAMwG,EAAOD,aAAe,OAAS,WACrCtI,MAAOuI,EAAOF,gBACdwB,UAAQ,EACRC,SAAUrB,EAAa,mBACvBsB,WAAY,CACVC,aACE,cAACC,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CACEC,QAASvB,EACTwB,YAAavB,EAFf,SAIGN,EAAOD,aACN,cAAC+B,EAAA,EAAD,IAEA,cAACC,EAAA,EAAD,SAMVtB,MAAO,CACLuB,aAAc,QAIpB,cAACjB,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,SACE,cAACe,EAAA,EAAD,CACEC,UAAW,cAAC,IAAD,IACXd,QAAQ,YACRe,MAAM,UACNP,QA3GS,WACrBlC,EAAaxD,cAAcvB,KAA3B,+BAAAhB,EAAA,MAAgC,WAAOyI,GAAP,eAAAzI,EAAA,yDACP,IAAnBqG,EAAOlG,UAA4C,IAA1BkG,EAAOF,gBADN,uBAE5B1E,EAAM,2BAFsB,8BAK1BvB,EAAkBmG,EAAOlG,SAAU,QALT,uBAM5BsB,EAAMvB,EAAkBmG,EAAOlG,SAAU,SANb,8BAS1BD,EAAkBmG,EAAOF,gBAAiB,gBAThB,uBAU5B1E,EAAMvB,EAAkBmG,EAAOF,gBAAiB,iBAVpB,iCAaxBvC,EAAMlH,EAAIC,IAAM,kBAbQ,UAcxB+L,IACHC,KAAK/E,EADF,2BACYyC,GADZ,IACoB7D,GAAIiG,EAAK9F,WAChC3B,MAAK,SAAC8C,GACLrC,EAAM,iCAAkC,WACxC6E,EAAU,CACRnG,SAAU,GACVgG,gBAAiB,GACjBC,cAAc,OAGjB5E,OAAM,SAACoH,GACNnH,EAAM,6BAzBoB,8EAAhC,wDAsGU,0CC3IC,GACb,cAAC,IAAD,CAAOoH,OAAK,EAACC,KAAK,aAAaC,OAAQ,kBAAM,cAAC,EAAD,Q,kECNhC,OAA0B,iCCOnCC,GAAYC,aAAW,CAC3BhC,MAAO,CACLiC,KAAM,EACNC,aAAc,WACdC,WAAY,SACZC,SAAU,UAEZC,OAAQ,CACNJ,KAAM,KAIJK,GAAiBC,sBAAW,SAACC,EAAOC,GACxC,OACE,cAACC,EAAA,EAAD,CACE7C,MAAO,CACL8C,YAAa,IAEfF,IAAKA,EACLG,GAAG,aACHC,YAAa,kBACbC,SAAU,cAAC,IAAD,IACV9B,QAASwB,EAAMxB,QACf+B,eAAa,OAKbC,GAAiB,SAACR,GAAD,OACrB,cAACS,EAAA,EAAD,2BAAcT,GAAd,aAAsB,cAACF,GAAD,QAwBTY,GArBM,SAACV,GACpB,IAAMW,EAAUpB,KAChB,OACE,eAACqB,GAAA,EAAD,2BAAYZ,GAAZ,IAAmBa,UAAW,EAAGC,SAAU,cAAC,GAAD,IAA3C,UACE,cAACC,GAAA,EAAD,CACE/C,QAAQ,KACRe,MAAM,UACNiC,UAAWL,EAAQnD,MACnBzE,GAAG,sBAEL,qBACEkI,IAAKC,GACL7D,MAAO,CACL8D,MAAO,MAGX,sBAAMH,UAAWL,EAAQd,c,sGCxCzBN,GAAYC,cAAW,SAAC4B,GAAD,MAAY,CACvCC,KAAM,CAAEC,SAAUF,EAAMG,QAAQ,IAChChB,cAAe,CACb,MAAO,CACLJ,YAAaiB,EAAMG,QAAQ,GAC3BC,WAAY,wDAGhBC,gBAAiB,CACf,MAAO,CACLtB,YAAaiB,EAAMG,QAAQ,GAC3BC,WAAY,4DA8CHE,GAzCC,SAAC,GAA2D,IAAzDC,EAAwD,EAAxDA,aAAcC,EAA0C,EAA1CA,OAAQ1L,EAAkC,EAAlCA,KAAMmL,EAA4B,EAA5BA,KAAMQ,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,MACvDC,EAAYC,eACZrB,EAAUpB,KACVgB,EAAgB0B,cAAY,SAACC,GAAD,OAAWA,EAAMC,MAAMC,GAAGC,eAEtDC,EACJ,eAACC,GAAA,EAAD,CAAUT,MAAOA,EAAOU,QAAM,EAAChE,QAASmD,EAAxC,UACE,cAACc,GAAA,EAAD,CAAczB,UAAWL,EAAQU,KAAjC,SACGO,EAAS,cAAC,KAAD,IAAiBP,IAE7B,cAACN,GAAA,EAAD,CAAY/C,QAAQ,UAAUe,MAAM,gBAApC,SACGgD,EAAU7L,QAKjB,OACE,eAAC,WAAD,WACGqK,GAAiBqB,EAChBU,EAEA,cAACI,GAAA,EAAD,CAASlF,MAAOuE,EAAU7L,GAAOyM,UAAU,QAA3C,SACGL,IAGL,cAACM,GAAA,EAAD,CAAUC,GAAIjB,EAAQkB,QAAQ,OAAOC,eAAa,EAAlD,SACE,cAACC,GAAA,EAAD,CACElB,MAAOA,EACPmB,UAAU,MACVC,gBAAc,EACdlC,UACET,EAAgBI,EAAQJ,cAAgBI,EAAQc,gBALpD,SAQGI,U,obClCLsB,G,+MACJjB,MAAQ,CACNkB,YAAY,G,EAGdC,YAAc,WACZ,EAAKC,SAAS,CAAEF,YAAY,K,EAG9BG,iBAAmB,WACjB,EAAKD,SAAS,CAAEF,YAAY,K,EAG9BI,aAAe,SAACxG,GACdA,EAAMG,iBACN,EAAKmG,SAAS,CAAEF,YAAY,IAC5B,MACE,EAAKpD,MADCyD,EAAR,EAAQA,mBAAoBC,EAA5B,EAA4BA,cAAehK,EAA3C,EAA2CA,SAAUiK,EAArD,EAAqDA,OAArD,EAA6DC,SAG3DF,EAAcD,EAAmB/J,EAAUiK,EAAO5K,GAAI4K,IAEtDF,EAAmB/J,EAAUiK,EAAO5K,GAAI4K,I,6CAI5C,WACE,IAAQP,EAAeS,KAAK3B,MAApBkB,WACR,EAKIS,KAAK7D,MALT,IACEtL,aADF,MACU,mBADV,MAEEiM,eAFF,MAEY,GAFZ,EAGEK,EAHF,EAGEA,UACA8C,EAJF,EAIEA,aAEF,OACE,eAAC,WAAD,WACE,cAAC,KAAD,CACEtF,QAASqF,KAAKR,YACd3O,MAAOoP,EAAe,GAAKpP,EAC3BsM,UAAW+C,KACT,mBACApD,EAAQqD,aACRhD,GANJ,SAUE,cAAC,KAAD,KAFI,UAIN,cAACiD,GAAA,EAAD,CACEC,WAAS,EACTC,KAAMf,EACNgB,QAASP,KAAKN,iBACdc,aAAW,gBAJb,SAME,uBAAMC,OAAO,IAAItN,OAAO,OAAOuN,SAAUV,KAAKL,aAA9C,UACE,cAACgB,GAAA,EAAD,2BACA,cAACC,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,iDAIF,eAACC,GAAA,EAAD,WACE,cAAC,KAAD,CACEvO,KAAK,SACL1B,MAAM,mBACNsM,UAAW+C,KACT,mBACApD,EAAQqD,aACRhD,GANJ,SAUE,cAAC,KAAD,KAFI,UAIN,cAAC,KAAD,CAAQtM,MAAM,mBAAmB8J,QAASqF,KAAKN,iBAA/C,SACE,cAAC,KAAD,qB,GA1EiBqB,aAuGjCzB,GAAmB0B,aAAe,CAChCC,SAAU,OACVlB,UAAU,GAGGmB,YACbC,aAAQ,KAAM,CAAEtB,mBAAeD,mBAAoBwB,OACnDlD,KACAmD,cA5Ha,SAAC9D,GAAD,MAAY,CACzB4C,aAAc,CACZjF,MAAOqC,EAAM+D,QAAQnN,MAAMoN,KAC3B,UAAW,CACTC,gBAAiBC,gBAAKlE,EAAM+D,QAAQnN,MAAMoN,KAAM,KAEhD,uBAAwB,CACtBC,gBAAiB,qBAkHVN,CAIb5B,I,uECvIaoC,GANU,SAACvF,GAAD,OACvB,cAACwF,GAAA,EAAD,aACEC,mBAAoB,CAAC,EAAG,GAAI,GAAI,GAAI,IAAK,IAAK,IAAK,IAAK,MACpDzF,KC6BF0F,GAAa,SAAC,GAAgB,IAAd/B,EAAa,EAAbA,OACpB,OAAO,4CAAeA,EAAM,aAASA,EAAOzN,MAAS,OAEjDyP,GAAkB,SAAC3F,GAAD,OACtB,cAAC4F,GAAA,EAAD,2BAAa5F,GAAb,aACE,cAAC6F,GAAA,EAAD,2BAAgB7F,GAAhB,IAAuBtL,MAAM,sBAG3BoR,GAAc,SAAC9F,GAAD,OAClB,cAAC+F,GAAA,EAAD,2BAAY/F,GAAZ,aACE,cAACgG,GAAA,EAAD,CACEtR,MAAM,mBACNuR,OAAO,OACPC,UAAQ,EACRlI,QAAQ,WACRkG,WAAS,QAITiC,GAAsB,SAAC,GAAgB,IAAdxC,EAAa,EAAbA,OAC7B,OACE,cAACyC,GAAD,CACE3C,oBAAoB,EACpBC,eAAe,EACfhK,SAAU,UACViK,OAAQA,EACRC,UAAU,EACVE,cAAc,KAIduC,G,gKACJ,WACE,OACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CACEN,OAAO,SACPjF,UAAU,mBACVxD,MAAM,cACN9I,MAAM,WAER,cAAC,KAAD,CAAWuR,OAAO,SAClB,cAACO,GAAA,EAAD,CAAYP,OAAO,UACnB,cAAC,KAAD,CAAWA,OAAO,kBAClB,cAAC,KAAD,CAAWA,OAAO,YAClB,cAAC,KAAD,CAAWA,OAAO,mBAClB,cAACQ,GAAA,EAAD,CAAcR,OAAO,iBAAiBvR,MAAM,iBAC5C,cAACgS,GAAA,EAAD,CAAYhS,MAAM,KAClB,cAAC,GAAD,W,GAjBqB+H,aAuBvBkK,GAAY,SAAC3G,GACjB,IAAI4G,EACJ,OACE,mCACE,sBACEvJ,MAAO,CACLwJ,YAAa,IAFjB,UAKE,cAAC,KAAD,CACEC,QAAS,WACP,OACE,qBACEzJ,MAAO,CACLC,UAAW,GACXsB,aAAc,GACdmI,MAAO,SAJX,SAOE,cAAClI,EAAA,EAAD,CACEb,QAAQ,YACRe,MAAM,UACND,UAAW,cAAC,KAAD,CAAOkI,SAAS,YAH7B,sBAUNC,UAAW,eACXC,QAAS,kBAAMN,KAEjB,cAAC,GAAD,aAAgB3G,IAAK,SAACkH,GAAD,OAASP,EAAWO,IAASnH,UAoJ3C,IACboH,KAhJsB,SAACpH,GACvB,OACE,cAAC,KAAD,yBACEqH,QAAS,cAAC,GAAD,KACLrH,GAFN,IAGEsH,mBAAmB,EACnBjR,KAAM,CAAE0D,MAAO,KAAMC,MAAO,QAC5BJ,WAAY,cAAC,GAAD,IALd,SAOE,cAAC,GAAD,eAAeoG,QAwInBuH,KApIgB,SAACvH,GAAD,OAChB,cAACwH,GAAA,EAAD,2BAAUxH,GAAV,IAAiBxC,MAAO,cAAC,GAAD,IAAxB,SACE,eAACiK,GAAA,EAAD,WACE,cAAC,KAAD,CAAWxB,OAAO,SAClB,cAACO,GAAA,EAAD,CAAYP,OAAO,UACnB,cAAC,KAAD,CAAWA,OAAO,kBAClB,cAAC,KAAD,CAAWA,OAAO,YAClB,cAAC,KAAD,CAAWA,OAAO,0BA8HtB5K,OApEkB,SAAC2E,GACnB,IAAM5D,EAASC,cACTqL,EAAUC,eACV7C,EAAW8C,eAMjB,OACE,cAACC,GAAA,EAAD,2BACM7H,GADN,IAEE8H,UARc,WAChB1L,EAAO,8BACP0I,EAAS,YACT4C,KAMEK,UAAW,SAAC1N,GACV+B,EAAO/B,EAAKpD,KAAM,UAJtB,SAOE,eAAC+Q,GAAA,EAAD,WACE,cAAChC,GAAA,EAAD,CACEC,OAAO,OACP/B,WAAS,EACTlG,QAAQ,WACRiK,SAAU/J,eACV7J,MAAM,aAER,cAAC2R,GAAA,EAAD,CACEC,OAAO,QACP/B,WAAS,EACTlG,QAAQ,WACRiK,SAAU/J,eACV9H,KAAK,UAEP,cAAC4P,GAAA,EAAD,CACEC,OAAO,WACP/B,WAAS,EACTlG,QAAQ,WACRiK,SAAU/J,eACV9H,KAAK,aAEP,cAAC4P,GAAA,EAAD,CACEtR,MAAM,gBACNuR,OAAO,gBACP/B,WAAS,EACTlG,QAAQ,WACRiK,SAAU/J,iBAEZ,cAAC8H,GAAA,EAAD,CACEC,OAAO,UACP/B,WAAS,EACTlG,QAAQ,WACRiK,SAAU/J,eACVgK,WAAS,EACTC,KAAM,IAER,cAACnC,GAAA,EAAD,CACEtR,MAAM,iBACNuR,OAAO,iBACP/B,WAAS,EACTlG,QAAQ,WACRiK,SAAU/J,wBAUlBkK,KA3HgB,SAACpI,GACjB,IAAM5D,EAASC,cACTqL,EAAUC,eACCC,eAMjB,OACE,cAACS,GAAA,EAAD,2BACMrI,GADN,IAEExC,MAAO,cAAC,GAAD,IACPuK,UAAW,SAAC1N,GACV+B,EAAO/B,EAAKpD,KAAM,SAClByQ,KAEF9D,UAAU,EAPZ,SASE,eAACoE,GAAA,EAAD,CAAYM,QAAS,cAAC,GAAD,IAArB,UACE,cAACtC,GAAA,EAAD,CACEtR,MAAM,gBACNuR,OAAO,gBACP/B,WAAS,EACTlG,QAAQ,WACRiK,SAAU/J,iBAEZ,cAAC8H,GAAA,EAAD,CACEC,OAAO,UACP/B,WAAS,EACTlG,QAAQ,WACRiK,SAAU/J,eACVgK,WAAS,EACTC,KAAM,IAER,cAACnC,GAAA,EAAD,CACEtR,MAAM,iBACNuR,OAAO,iBACP/B,WAAS,EACTlG,QAAQ,WACRiK,SAAU/J,iBAEZ,cAACqK,GAAA,EAAD,CACEtC,OAAO,SACPvR,MAAM,eACN8T,QAAS,CACP,CAAEzP,GAAI,MAAO7C,KAAM,OACnB,CAAE6C,GAAI,KAAM7C,KAAM,gBA6E5BmL,KAAMoH,KACNvS,KAAM,W,gECrPFwS,GAAY,SAAC,GAAgB,IAAd/E,EAAa,EAAbA,OACnB,OAAO,yCAAYA,EAAM,aAASA,EAAOzN,MAAS,OAE9CyP,GAAkB,SAAC3F,GAAD,OACtB,cAAC4F,GAAA,EAAD,2BAAa5F,GAAb,aACE,cAAC6F,GAAA,EAAD,2BAAgB7F,GAAhB,IAAuBtL,MAAM,qBAG3BiU,GAAa,SAAC3I,GAAD,OACjB,cAAC+F,GAAA,EAAD,2BAAY/F,GAAZ,aACE,cAACgG,GAAA,EAAD,CACEtR,MAAM,mBACNuR,OAAO,OACPC,UAAQ,EACRlI,QAAQ,WACRkG,WAAS,QAmKA,IACbkD,KAhKsB,SAACpH,GACvB,OACE,cAAC,KAAD,2BACMA,GADN,IAEEsH,mBAAmB,EAEnBD,QAAS,cAAC,GAAD,IACTzN,WAAY,cAAC,GAAD,IALd,SAOE,eAAC0M,GAAA,EAAD,CAAUsC,SAAS,OAAnB,UACE,cAACrC,GAAA,EAAD,CACEN,OAAO,UACPjF,UAAU,mBACVxD,MAAM,aACN9I,MAAM,UAER,cAAC,KAAD,CAAWuR,OAAO,SAClB,cAAC4C,GAAA,EAAD,CAAgB5C,OAAO,cAAc6C,UAAU,aAA/C,SACE,cAAC,KAAD,CAAW7C,OAAO,WAEpB,cAAC,KAAD,CAAWA,OAAO,UAClB,cAACQ,GAAA,EAAD,CAAcR,OAAO,cAAcvR,MAAM,YACzC,cAAC+R,GAAA,EAAD,CAAcR,OAAO,kBAAkBvR,MAAM,mBAC7C,cAACgS,GAAA,EAAD,WA0INrL,OA7EwB,SAAC2E,GACzB,IAAM5D,EAASC,cACTqL,EAAUC,eACV7C,EAAW8C,eAMjB,OACE,cAACC,GAAA,EAAD,2BACM7H,GADN,IAEE8H,UARc,WAChB1L,EAAO,4BACP0I,EAAS,UACT4C,KAMEK,UAAW,SAAC1N,GACV+B,EAAO/B,EAAKpD,KAAM,UAJtB,SAOE,eAAC+Q,GAAA,EAAD,WACE,cAAChC,GAAA,EAAD,CACEC,OAAO,OACP/B,WAAS,EACT6E,YAAY,SACZhL,WAAS,EACTC,QAAQ,WACRiK,SAAU,CAAC/J,kBAEb,cAAC8K,GAAA,EAAD,CACE/C,OAAO,cACP6C,UAAU,aACV5E,WAAS,EACT+D,SAAU,CAAC/J,gBACXF,QAAQ,WALV,SAOE,cAACiL,GAAA,EAAD,CAAaC,WAAW,WAE1B,cAACX,GAAA,EAAD,CACEtC,OAAO,MACPvR,MAAM,UACN8T,QAAS,CACP,CAAEzP,GAAI,MAAO7C,KAAM,OACnB,CAAE6C,GAAI,KAAM7C,KAAM,SAGtB,cAACqS,GAAA,EAAD,CACEtC,OAAO,UACPvR,MAAM,iBACN8T,QAAS,CACP,CAAEzP,GAAI,MAAO7C,KAAM,OACnB,CAAE6C,GAAI,KAAM7C,KAAM,SAGtB,cAACiT,GAAA,EAAD,CACElD,OAAO,QACPmD,OAAO,mCACPC,QAAS,IAHX,SAKE,cAAC9C,GAAA,EAAD,CAAYN,OAAO,mBAsB3BsB,KAhBsB,SAACvH,GAAD,OACtB,cAACwH,GAAA,EAAD,2BAAUxH,GAAV,IAAiBxC,MAAO,cAAC,GAAD,IAAxB,SACE,eAACiK,GAAA,EAAD,WACE,cAAC,KAAD,CAAWxB,OAAO,OAClB,cAAC,KAAD,CAAWA,OAAO,SAClB,cAAC4C,GAAA,EAAD,CAAgB5C,OAAO,cAAc6C,UAAU,aAA/C,SACE,cAAC,KAAD,CAAW7C,OAAO,WAEpB,cAAC,KAAD,CAAWA,OAAO,UAClB,cAACM,GAAA,EAAD,CAAYN,OAAO,QAAQjF,UAAU,YAAYsI,IAAI,sBAQzDlB,KAvIsB,SAACpI,GACvB,IAAM0H,EAAUC,eACVvL,EAASC,cACf,OACE,cAACgM,GAAA,EAAD,2BACMrI,GADN,IAEE4D,UAAU,EACVpG,MAAO,cAAC,GAAD,IACPuK,UAAW,SAAC1N,GACV+B,EAAO/B,EAAKpD,KAAM,SAClByQ,KANJ,SASE,eAACM,GAAA,EAAD,CAAYM,QAAS,cAAC,GAAD,IAArB,UACE,cAACtC,GAAA,EAAD,CACEC,OAAO,OACP/B,WAAS,EACT+D,SAAU,CAAC/J,gBACXF,QAAQ,aAEV,cAACgL,GAAA,EAAD,CACE/C,OAAO,cACP6C,UAAU,aACV5E,WAAS,EACT+D,SAAU,CAAC/J,gBACXF,QAAQ,WALV,SAOE,cAACiL,GAAA,EAAD,CAAaC,WAAW,WAE1B,cAACX,GAAA,EAAD,CACEtC,OAAO,MACPvR,MAAM,UACN8T,QAAS,CACP,CAAEzP,GAAI,MAAO7C,KAAM,OACnB,CAAE6C,GAAI,KAAM7C,KAAM,SAGtB,cAACqS,GAAA,EAAD,CACEtC,OAAO,UACPvR,MAAM,iBACN8T,QAAS,CACP,CAAEzP,GAAI,MAAO7C,KAAM,OACnB,CAAE6C,GAAI,KAAM7C,KAAM,SAGtB,cAACiT,GAAA,EAAD,CACElD,OAAO,QACPmD,OAAO,mCACPC,QAAS,IAHX,SAKE,cAAC9C,GAAA,EAAD,CAAYN,OAAO,mBAsF3B/P,KAAM,QACNmL,KAAMkI,M,gCC7LFC,GAAgB,SAAC,GAAgB,IAAd7F,EAAa,EAAbA,OACvB,OAAO,6CAAgBA,EAAM,aAASA,EAAOzN,MAAS,OAElDyP,GAAkB,SAAC3F,GAAD,OACtB,cAAC4F,GAAA,EAAD,2BAAa5F,GAAb,aACE,cAAC6F,GAAA,EAAD,2BAAgB7F,GAAhB,IAAuBtL,MAAM,yBAG3B+U,GAAiB,SAACzJ,GAAD,OACrB,cAAC+F,GAAA,EAAD,2BAAY/F,GAAZ,aACE,cAACgG,GAAA,EAAD,CACEtR,MAAM,uBACNuR,OAAO,OACPC,UAAQ,EACRlI,QAAQ,WACRkG,WAAS,QA8EA,IACb7I,OAvC4B,SAAC2E,GAC7B,IAAM5D,EAASC,cACTqL,EAAUC,eACV7C,EAAW8C,eAMjB,OACE,cAACC,GAAA,EAAD,2BACM7H,GADN,IAEE8H,UARc,WAChB1L,EAAO,iCACP0I,EAAS,eACT4C,KAMEK,UAAW,SAAC1N,GACV+B,EAAO/B,EAAKpD,KAAM,UAJtB,SAOE,cAAC+Q,GAAA,EAAD,UACE,cAAChC,GAAA,EAAD,CACEC,OAAO,OACP/B,WAAS,EACT6E,YAAY,SACZhL,WAAS,EACTC,QAAQ,mBAiBhBoJ,KA5E0B,SAACpH,GAC3B,OACE,cAAC,KAAD,2BAAUA,GAAV,IAAiBsH,mBAAmB,EAAOD,QAAS,cAAC,GAAD,IAApD,SACE,eAACf,GAAA,EAAD,CAAUsC,SAAS,OAAnB,UAEE,cAAC,KAAD,CAAW3C,OAAO,SAClB,cAACS,GAAA,EAAD,WAuEN0B,KAlE0B,SAACpI,GAC3B,IAAM0H,EAAUC,eACVvL,EAASC,cACf,OACE,cAACgM,GAAA,EAAD,2BACMrI,GADN,IAEE4D,UAAU,EACVpG,MAAO,cAAC,GAAD,IACPuK,UAAW,SAAC1N,GACV+B,EAAO/B,EAAKpD,KAAM,SAElByQ,KAPJ,SAUE,cAACM,GAAA,EAAD,CAAYM,QAAS,cAAC,GAAD,IAArB,SACE,cAACtC,GAAA,EAAD,CACEC,OAAO,OACP/B,WAAS,EACT+D,SAAU,CAAC/J,gBACXF,QAAQ,mBAgDhB9H,KAAM,aACNmL,KAAMqI,KACNnC,KAAMoC,M,uKC9EFhE,GAAkB,SAAC3F,GAAD,OACtB,cAAC4F,GAAA,EAAD,2BAAa5F,GAAb,aACE,cAAC6F,GAAA,EAAD,2BAAgB7F,GAAhB,IAAuBtL,MAAM,wBAG3BkV,GAAgB,SAAC5J,GAAD,OACpB,eAAC+F,GAAA,EAAD,2BAAY/F,GAAZ,cACE,cAAC6J,GAAA,EAAD,CAAW5D,OAAO,aAAaC,UAAQ,EAAClI,QAAQ,aAChD,cAAC6L,GAAA,EAAD,CAAW5D,OAAO,WAAWC,UAAQ,EAAClI,QAAQ,aAC9C,cAACgL,GAAA,EAAD,CACE/C,OAAO,eACP6C,UAAU,gBACV5C,UAAQ,EACRlI,QAAQ,WACRlE,QAAS,IACToK,WAAS,EACT4F,cAAe,SAACC,GAAD,MAAiB,CAAE7T,KAAM6T,IAP1C,SASE,cAACC,GAAA,EAAD,CAAmBd,WAAW,gBAwSrB,IACb7N,OArO2B,SAAC2E,GAC5B,IAAM5D,EAASC,cACTyI,EAAW8C,eACXF,EAAUC,eAChB,EAAwClL,WAAe,IAAvD,mBAAOwN,EAAP,KAAqBC,EAArB,KACA,EAAgDzN,WAAe,IAA/D,mBAAO0N,EAAP,KAAyBC,EAAzB,KACA,EAAsC3N,aAAtC,mBAAO4N,EAAP,KAAoBC,EAApB,KACA,EAA8B7N,YAAe,GAA7C,mBAAO8N,EAAP,KAAgBC,EAAhB,KACA,EAAwB/N,WAAegO,OAASvW,OAAO,eAAvD,mBAAOwW,EAAP,KAAaC,EAAb,KACMnR,EAAeoR,eACfC,EAAqB,SAACR,EAAa/V,GACvC,OAAO,2BACF+V,GADL,IAEEtR,GAAIzE,EACJwW,gBAAiBT,EAAYtR,GAC7BgS,OAAQV,EAAYW,eACpBC,OAA4B,SAApBZ,EAAYnU,KACpBS,MAAO,QAGLuU,EAAQ,uCAAG,kCAAA3U,EAAA,6DACfiU,GAAW,GADI,SAEuBhR,EAAa4B,cACjD,iBAHa,gBAED+P,EAFC,EAEP9Q,KAGJ+Q,EAAwBnY,EACzBoD,KAAK8U,GACLE,KAAI,SAACrV,EAAG1B,GAAJ,OAAcuW,EAAmB7U,EAAG1B,MAC3C4V,EAAgBkB,GACZE,EAA6BF,EAAsBzV,QACrD,SAACK,GAAD,MAAiB,SAAVA,EAAEE,QAEXkU,EAAoBkB,GACpBhB,EAAegB,EAA2B,IAC1Cd,GAAW,GAdI,4CAAH,qDAgBRe,EAAU,uCAAG,8BAAAhV,EAAA,6DACZmU,GACHtO,EAAO,sBAAuB,SAE1BoP,EAAmB,GACzBvB,EAAawB,SAAQ,SAAC5N,GACPA,EAAKkN,OAAOW,WACJ5Q,MAAM,KAAKuQ,KAAI,SAACrV,GAAD,OAAO2V,WAAW3V,MAC9CyV,SAAQ,SAACG,GACXA,GAAMA,EAAK,GACbJ,EAAiBvX,KAAK,CACpByW,OACAK,OAAQY,WAAWC,GACnBd,gBAAiBjN,EAAKiN,gBACtBnU,MAAOkH,EAAKlH,cAKdwD,EAnBW,UAmBFlH,EAAIC,IAnBF,qBAoBX+L,IACHC,KAAK/E,EAAK,CACT1G,SAAU+X,IAEXjU,MAAK,YAAc,EAAX8C,KACP+B,EAAO,+BAAgC,WACvC0I,EAAS,aACT4C,OAED3P,OAAM,SAAC+D,GACNM,EAAO,sBAAuB,YA9BjB,2CAAH,qDA4ChB,OADAK,YAAgByO,EAAU,IACtBX,EAAgB,cAACsB,GAAA,EAAD,CAASC,eAAe,GAAGC,iBAAiB,KACtD9B,EAAahU,OAanB,cAACmH,EAAA,EAAD,CACEY,QAAQ,YACRX,MAAO,CACL2O,QAAS,IAHb,SAME,eAACtO,EAAA,EAAD,CAAawG,WAAS,EAAtB,UACE,eAACvG,EAAA,EAAD,CACEC,WAAS,EACT2D,QAAS,EACTlE,MAAO,CACL4O,cAAe,GAJnB,UAOE,eAACtO,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,UACE,cAACC,GAAA,EAAD,CACE9X,MAAOgW,EACPlM,SAAU,SAACnB,EAAO3I,GACZA,GACFiW,EAAejW,IAGnB+X,QAASjC,EACTkC,eAAgB,SAACC,GAAD,gBAAeA,EAAOpW,OACtCqW,YAAa,SAAC5S,GAAD,OACX,cAAC,IAAD,2BACMA,GADN,IAEEjF,MAAM,GACNsJ,QAAQ,WACRC,KAAK,cAIX,cAACuO,GAAA,EAAD,wCAEF,cAAC7O,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,cAACrN,EAAA,EAAD,CACEC,UAAW,cAAC,KAAD,IACXd,QAAQ,YACRe,MAAM,UACNmF,WAAS,EACT1F,QAAS,WACP,IAAIiO,EAAe,2BACdpC,GADc,IAEjBtR,GAAIkR,EAAahU,SAEnBiU,EACEjX,EACGoD,KADH,uBACY4T,GADZ,CAC0BwC,KACvBpB,KAAI,SAACrV,EAAG0W,GAAJ,mBAAC,eACD1W,GADA,IAEH+C,GAAI2T,SAfd,mCAyBJ,sBAAKrP,MAAO,CAAEuB,aAAc,IAA5B,UACE,cAAC,IAAD,CACEvK,MAAOqW,EACP1M,QAAQ,WACRC,KAAK,QACLiG,WAAS,EACT9N,KAAK,OACL+H,SAAU,SAACwO,GAAD,OAAOhC,EAAQgC,EAAE/R,OAAOvG,UAEpC,cAACmY,GAAA,EAAD,+DAIF,cAAC7O,EAAA,EAAD,CACEC,WAAS,EACT2D,QAAS,EACTlE,MAAO,CACL2O,QAAS,GAJb,SAOG/B,EAAaoB,KAAI,SAACuB,GAAD,OAChB,sBAAKvP,MAAO,CAAEuB,aAAc,IAA5B,UACE,cAACjB,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,GAAvB,SACE,cAAC,IAAD,CACE7O,MAAO,CAAE2O,QAAS,GAClBtX,MAAK,UAAKkY,EAAa1W,KAAlB,YAA0BjD,EAAIG,eAA9B,KACL4K,QAAQ,WACRC,KAAK,QACL5J,MAAOuY,EAAa7B,OACpB5M,SAAU,SAACwO,IAnHR,SAAC5T,EAAIgS,GACxB,IAAMS,EAAgB,aAAOvB,GAC7BuB,EAAiBzS,GAAIgS,OAASA,EAC9Bb,EAAgBsB,GAiHEqB,CAAaD,EAAa7T,GAAI4T,EAAE/R,OAAOvG,YAI5CuY,EAAa3B,QACZ,cAAC,IAAD,CACE5N,MAAO,CAAE2O,QAAS,GAClBtX,MAAM,gBACNsJ,QAAQ,WACRC,KAAK,QACL5J,MAAOuY,EAAajW,MACpBwH,SAAU,SAACwO,IA1HT,SAAC5T,EAAIpC,GACvB,IAAM6U,EAAgB,aAAOvB,GAC7BuB,EAAiBzS,GAAIpC,MAAQA,EAC7BuT,EAAgBsB,GAwHEsB,CAAYF,EAAa7T,GAAI4T,EAAE/R,OAAOvG,YArBPuY,EAAa7T,SA4BxD,8BACE,cAAC8F,EAAA,EAAD,CACExB,MAAO,CAAEC,UAAW,IACpBwB,UAAW,cAAC,KAAD,IACXd,QAAQ,YACRe,MAAM,UACNP,QAAS+M,EALX,gCA1HN,cAACnO,EAAA,EAAD,CACEY,QAAQ,YACRX,MAAO,CACL2O,QAAS,IAHb,SAME,yEA6IN5E,KAtSyB,SAACpH,GAC1B,OACE,cAAC,KAAD,2BAAUA,GAAV,IAAiBsH,mBAAmB,EAAOD,QAAS,cAAC,GAAD,IAApD,SACE,eAACf,GAAA,EAAD,CAAUsC,SAAS,OAAnB,UACE,cAACC,GAAA,EAAD,CACE5C,OAAO,kBACP6C,UAAU,gBACVpU,MAAO,eAHT,SAKE,cAAC,KAAD,CAAWuR,OAAO,WAEpB,cAAC,KAAD,CAAWA,OAAO,SAASvR,MAAK,iBAAYzB,EAAIG,eAAhB,OAChC,cAAC,KAAD,CAAW6S,OAAO,QAAQvR,MAAO,SAAUqY,UAAU,OACrD,cAAC,KAAD,CAAW9G,OAAO,SAClB,cAAC,KAAD,CAAWA,OAAO,aAAavR,MAAO,eACtC,cAACgS,GAAA,EAAD,IACA,cAACsG,GAAA,EAAD,IACA,cAACC,GAAA,EAAD,WAsRN7E,KAjRyB,SAACpI,GAC1B,IAAM0H,EAAUC,eACVvL,EAASC,cACf,OACE,cAACgM,GAAA,EAAD,2BACMrI,GADN,IAEE4D,UAAU,EACVmE,UAAW,SAAC1N,GACV+B,EAAO/B,EAAKpD,KAAM,SAClByQ,KALJ,SAQE,eAACM,GAAA,EAAD,CAAYM,QAAS,cAAC,GAAD,IAArB,UACE,cAACU,GAAA,EAAD,CACE/C,OAAO,kBACP6C,UAAU,gBACV5E,WAAS,EACT+D,SAAU,CAAC/J,gBACXF,QAAQ,WACRlE,QAAS,IACTgQ,cAAe,SAACC,GAAD,MAAiB,CAAE7T,KAAM6T,IAP1C,SASE,cAACC,GAAA,EAAD,CAAmBd,WAAW,WAEhC,cAACgE,GAAA,EAAD,CACEjH,OAAO,SACPjI,QAAQ,WACRkG,WAAS,EACT+D,SAAU,CAAC/J,gBACXxJ,MAAK,iBAAYzB,EAAIG,eAAhB,OAEP,cAAC4S,GAAA,EAAD,CACEC,OAAO,QACPjI,QAAQ,WACRkG,WAAS,EACT+D,SAAU,CAAC/J,gBACXxJ,MAAK,yBA8ObwB,KAAM,WACNmL,KAAM8L,KACN5F,KAAMoC,M,qBC/UFhE,GAAkB,SAAC3F,GAAD,OACtB,cAAC4F,GAAA,EAAD,2BAAa5F,GAAb,aACE,cAAC6F,GAAA,EAAD,2BAAgB7F,GAAhB,IAAuBtL,MAAM,wBA8FlB,IACb2G,OA9C2B,SAAC2E,GAC5B,IAAM5D,EAASC,cACTqL,EAAUC,eACV7C,EAAW8C,eAMjB,OACE,cAACC,GAAA,EAAD,2BACM7H,GADN,IAEE8H,UARc,WAChB1L,EAAO,gCACP0I,EAAS,kBACT4C,KAMEK,UAAW,SAAC1N,GACV+B,EAAO/B,EAAKpD,KAAM,UAJtB,SAOE,eAAC+Q,GAAA,EAAD,WACE,cAAChC,GAAA,EAAD,CACEC,OAAO,OACP/B,WAAS,EACT+D,SAAU,CAAC/J,gBACXF,QAAQ,aAEV,cAACkP,GAAA,EAAD,CACEjH,OAAO,iBACPjI,QAAQ,WACRkG,WAAS,EACT+D,SAAU,CAAC/J,gBACXxJ,MAAK,yBAAoBzB,EAAIG,eAAxB,KACLga,aAAc,aAiBtBhG,KA7FyB,SAACpH,GAC1B,OACE,cAAC,KAAD,2BAAUA,GAAV,IAAiBsH,mBAAmB,EAApC,SACE,eAAChB,GAAA,EAAD,CAAUsC,SAAS,OAAnB,UACE,cAAC,KAAD,CAAW3C,OAAO,OAClB,cAAC,KAAD,CAAWA,OAAO,SAClB,cAAC,KAAD,CAAWA,OAAO,iBAAiBvR,MAAO,mBAC1C,cAAC,KAAD,CAAWuR,OAAO,aAAavR,MAAO,eACtC,cAACgS,GAAA,EAAD,IACA,cAACsG,GAAA,EAAD,IACA,cAACC,GAAA,EAAD,WAoFN7E,KA/EyB,SAACpI,GAC1B,IAAM0H,EAAUC,eACVvL,EAASC,cACf,OACE,cAACgM,GAAA,EAAD,2BACMrI,GADN,IAEE4D,UAAU,EACVmE,UAAW,SAAC1N,GACV+B,EAAO/B,EAAKpD,KAAM,SAClByQ,KALJ,SAQE,eAACM,GAAA,EAAD,CAAYM,QAAS,cAAC,GAAD,IAArB,UACE,cAACtC,GAAA,EAAD,CACEC,OAAO,OACP/B,WAAS,EACT+D,SAAU,CAAC/J,gBACXF,QAAQ,aAEV,cAACkP,GAAA,EAAD,CACEjH,OAAO,iBACPjI,QAAQ,WACRkG,WAAS,EACT+D,SAAU,CAAC/J,gBACXxJ,MAAK,yBAAoBzB,EAAIG,eAAxB,KACLga,aAAc,aAuDtBlX,KAAM,gBACNmL,KAAM8L,KACN5F,KAAMoC,M,4EC7GFC,GAAgB,SAAC5J,GAAD,OACpB,eAAC+F,GAAA,EAAD,2BAAY/F,GAAZ,cACE,cAAC6J,GAAA,EAAD,CAAW5D,OAAO,aAAaC,UAAQ,EAAClI,QAAQ,aAChD,cAAC6L,GAAA,EAAD,CAAW5D,OAAO,WAAWC,UAAQ,EAAClI,QAAQ,aAC9C,cAACgL,GAAA,EAAD,CACE/C,OAAO,eACP6C,UAAU,gBACV5C,UAAQ,EACRlI,QAAQ,WACRlE,QAAS,IACToK,WAAS,EACT4F,cAAe,SAACC,GAAD,MAAiB,CAAE7T,KAAM6T,IAP1C,SASE,cAACC,GAAA,EAAD,CAAmBd,WAAW,gBAI9BmE,GAAkB,SAACC,GACvB,MAAO,CACLvU,GAAIuU,EAAQvU,GACZgS,OAAQuC,EAAQvC,OAChBL,KAAM4C,EAAQ5C,KACd/T,MAAO2W,EAAQ3W,MACfiW,aAAcU,EAAQV,aAAa1W,OAGjCqX,GAAkB,SAACvN,GACvB,MAAgCvD,WAAe,IAA/C,mBAAOhJ,EAAP,KAAiB+Z,EAAjB,KACA,EAA8B/Q,WAAe,IAA7C,mBAAOrF,EAAP,KAAgBqW,EAAhB,KACA,EAAwChR,WAAe,IAAvD,mBAAOiR,EAAP,KAAqBC,EAArB,KACAlR,aAAgB,WACd,IAAMmR,EAAgBC,OAAOC,KAAK9N,EAAM3F,MAAMgR,KAC5C,SAACxN,GAAD,OAAUmC,EAAM3F,KAAKwD,MAEvB,GAAI+P,EAAc3X,OAAS,EAAG,CAC5B,IAAI8X,EAAqB,GAEzBH,EAAcnC,SAAQ,SAAC5N,QAC8BmQ,IAA/CD,EAAmBlQ,EAAK+O,aAAa1W,MACvC6X,EAAmBlQ,EAAK+O,aAAa1W,MAAQ,CAACmX,GAAgBxP,IAE9DkQ,EAAmBlQ,EAAK+O,aAAa1W,MAAMjC,KACzCoZ,GAAgBxP,OAItB,IAAMoQ,EAA0BJ,OAAOC,KAAKC,GAAoB1C,KAAI,SAACsB,GAAD,OAClEoB,EAAmBpB,GAAGuB,QAAO,SAAC3X,EAAGC,GAAJ,OAAUD,EAAIC,EAAEuU,SAAQ,MAEvD4C,EAAgBM,GAChB,IAAME,EAAqBN,OAAOC,KAAKC,GACvCN,EAAWU,GACX,IAAMhG,EAAOiG,KAAKC,IAAIC,MACpB,KACAH,EAAmB9C,KAAI,SAAC/U,GAAD,OAASyX,EAAmBzX,GAAKL,WAG1DkY,EAAmB9C,KAAI,SAAC/U,GACtB,IAAIL,EAAS8X,EAAmBzX,GAAKL,OACrC8X,EAAmBzX,GAAOyX,EAAmBzX,GAAKiY,OAChD,IAAIC,MAAMJ,KAAKK,IAAIxY,EAASkS,IAAOuG,KAAK,UAI5C,IADA,IAAMC,EAAe,GACZ3Y,EAAI,EAAGA,EAAImS,EAAMnS,IACxB2Y,EAAa1a,KAAK,IAEpB4Z,OAAOjR,OAAOmR,GAAoB1C,KAAI,SAACiB,GACrCA,EAAOjB,KAAI,SAACiC,EAAShZ,GACnBqa,EAAara,GAAOL,KAAKqZ,SAG7BE,EAAYmB,QAEZnB,EAAY,IACZC,EAAW,IACXE,EAAgB,MAEjB,CAAC3N,IACJ,IAAM4O,EAAenS,WACfoS,EAAcC,2BAAgB,CAClC5H,QAAS,kBAAM0H,EAAaG,WAE9B,OAAItb,EAASwC,OAAS,EAElB,qCACE,cAAC4I,EAAA,EAAD,CACExB,MAAO,CACL2R,OAAQ,GACRjI,MAAO,SAET/I,QAAQ,YACRe,MAAM,UACND,UAAW,cAAC,KAAD,CAAOkI,SAAS,YAC3BxI,QAASqQ,EARX,mBAYA,eAACI,GAAA,EAAD,CAAOhR,KAAK,QAAQgC,IAAK2O,EAAzB,UACE,cAACM,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACG/X,EAAQiU,KAAI,SAAC/U,EAAKhC,GAAN,OACX,eAAC8a,GAAA,EAAD,WACG9Y,EADH,IACSrD,EAAIG,eADb,MAAgBkB,MAIlB,eAAC8a,GAAA,EAAD,oBAAkBnc,EAAIG,eAAtB,YAGJ,eAACic,GAAA,EAAD,WACG5b,EAAS4X,KAAI,SAACiE,GAAD,OACZ,cAACH,GAAA,EAAD,UACGG,EAAIjE,KAAI,SAACiC,EAAShZ,GAAV,OACP,cAAC8a,GAAA,EAAD,UACG9B,GACC,gCACGA,EAAQvC,OAAOwE,QAAQ,GACvBjC,EAAQ3W,OAAR,aAAuB2W,EAAQ3W,OAChC,cAAC6V,GAAA,EAAD,UAAiBc,EAAQ5C,WALfpW,WAYtB,eAAC6a,GAAA,EAAD,WACGzB,EAAarC,KAAI,SAACN,EAAQzW,GAAT,OAChB,cAAC8a,GAAA,EAAD,UACE,iCAASrE,EAAOwE,QAAQ,MADVjb,MAIlB,cAAC8a,GAAA,EAAD,UACE,iCACG1B,EAAaQ,QAAO,SAAC3X,EAAGC,GAAJ,OAAUD,EAAIC,IAAG,GAAG+Y,QAAQ,mBAU7D,cAACnS,EAAA,EAAD,CACEY,QAAQ,WACRX,MAAO,CACL2O,QAAS,IAHb,kCA0BS,IACb5E,KAjByB,SAACpH,GAC1B,OACE,cAAC,KAAD,2BACMA,GADN,IAEEqH,QAAS,cAAC,GAAD,IACTC,mBAAmB,EACnB1N,YAAY,EACZ4V,WAAW,EACX1V,QAAS,IACT2V,OAAO,EAPT,SASE,cAAC,GAAD,QAOJvZ,KAAM,gBACNmL,KAAM8L,M,qBC5JFuC,GAAiB,SAAC,GAAe,EAAb/L,OAExB,OAAO,8CAEHgC,GAAkB,SAAC3F,GAAD,OACtB,cAAC4F,GAAA,EAAD,2BAAa5F,GAAb,aACE,cAAC6F,GAAA,EAAD,2BAAgB7F,GAAhB,IAAuBtL,MAAM,0BAG3Bib,GAAkB,SAAC3P,GAAD,OACtB,eAAC+F,GAAA,EAAD,2BAAY/F,GAAZ,cACE,cAAC6J,GAAA,EAAD,CACE5D,OAAO,aACPvR,MAAM,cACNsJ,QAAQ,WACRkI,UAAQ,IAEV,cAAC8C,GAAA,EAAD,CACE/C,OAAO,UACP6C,UAAU,QACV5C,UAAQ,EACRlI,QAAQ,WACRlE,QAAS,IACTgQ,cAAe,SAACC,GAAD,MAAiB,CAAE7T,KAAM6T,IAN1C,SAQE,cAACC,GAAA,EAAD,CAAmBd,WAAW,gBA2QrB,IACb9B,KAxQoB,SAACpH,GACrB,OACE,cAAC,KAAD,2BACMA,GADN,IAEEqH,QAAS,cAAC,GAAD,IACTC,mBAAmB,EACnBjR,KAAM,CAAE0D,MAAO,KAAMC,MAAO,QAC5BJ,WAAY,cAAC,GAAD,IALd,SAOE,eAAC0M,GAAA,EAAD,CAAUsC,SAAS,OAAnB,UACE,cAACC,GAAA,EAAD,CAAgB5C,OAAO,UAAU6C,UAAU,QAA3C,SACE,cAAC,KAAD,CAAW7C,OAAO,WAEpB,cAAC,KAAD,CACEA,OAAO,eACPvR,MAAK,uBAAkBzB,EAAIG,eAAtB,OAEP,cAAC,KAAD,CACE6S,OAAO,gBACPvR,MAAK,wBAAmBzB,EAAIG,eAAvB,OAEP,cAAC,KAAD,CAAW6S,OAAO,OAAOvR,MAAM,gBAC/B,cAAC,KAAD,CAAWuR,OAAO,iBAAiBvR,MAAM,oBACzC,cAAC+R,GAAA,EAAD,CAAcR,OAAO,gBAAgBvR,MAAM,UAAUkb,UAAU,IAC/D,cAACnJ,GAAA,EAAD,CAAcR,OAAO,SAASvR,MAAM,eAAekb,UAAU,IAC7D,cAAC,KAAD,CAAW3J,OAAO,OAAOvR,MAAM,iBAgPrC2G,OAnIsB,SAAC2E,GACvB,IAAM5D,EAASC,cACTqL,EAAUC,eACV7C,EAAW8C,eACjB,EAA8BnL,WAAe,IAA7C,mBAAO+L,EAAP,KAAgBqH,EAAhB,KACA,EAAgCpT,WAAe,GAA/C,mBAAOqT,EAAP,KAAiBC,EAAjB,KACMvW,EAAeoR,eA6BrB,OACE,cAAC/C,GAAA,EAAD,2BAAY7H,GAAZ,IAAmB8H,UA7BH,WAChB1L,EAAO,kCACP0I,EAAS,gBACT4C,KA0BA,SACE,eAACM,GAAA,EAAD,WACE,cAACgB,GAAA,EAAD,CACE/C,OAAO,UACP6C,UAAU,QACV5E,WAAS,EACT+D,SAAU,CAAC/J,gBACXF,QAAQ,WACRG,SAAU,SAACnB,GAAD,OAhCQgT,EAgCoBhT,OA/B5CxD,EACG4B,cAAc,cAAe,CAAE4U,YAC/BzY,MAAK,YAAe,IACb0Y,EADY,EAAX5V,KACiBgR,KAAI,SAACxN,EAAMvJ,GAAP,MAAkB,CAC5CyE,GAAI4S,WAAW9N,EAAKqS,eACpBha,KAAK,UAAD,OAAO2H,EAAKqS,cAAZ,cAA+BrS,EAAK6M,MACxCrW,MAAOsX,WAAW9N,EAAKqS,mBAEzBL,EAAWI,GACXF,EAAYE,EAAWha,WAExB8B,OAAM,SAACC,OAZa,IAACgY,GAiClBlW,QAAS,IACTgQ,cAAe,SAACC,GAAD,MAAiB,CAAE7T,KAAM6T,IAR1C,SAUE,cAACC,GAAA,EAAD,CAAmBd,WAAW,WAEhC,cAACgE,GAAA,EAAD,CACEjH,OAAO,eACP/B,WAAS,EACT6E,YAAY,MACZd,SAAU,CAAC/J,gBACXxJ,MAAM,eACNsJ,QAAQ,WACRI,WAAY,CACV+R,eACE,cAAC7R,EAAA,EAAD,CAAgB8R,SAAS,QAAzB,SACGnd,EAAIG,oBAKb,cAAC,IAAD,CACE8Q,WAAS,EACT6E,YAAY,MACZrU,MAAM,gBACNsJ,QAAQ,WACRC,KAAK,QACL7H,KAAK,SACL8H,UAAQ,EACRC,SAAU,SAACnB,GAAD,OA/CM,SAACqT,GACvB,IAAIC,EAAI,aAAO9H,GACf8H,EAAKR,GAAY,CACf/W,GAAIsX,EACJna,KAAK,UAAD,OAAOma,GAAoC,EAA3C,YACJhc,MAAOgc,GAETR,EAAWS,GAwCgBC,CAAgB5E,WAAW3O,EAAMpC,OAAOvG,SAC7D+J,WAAY,CACV+R,eACE,cAAC7R,EAAA,EAAD,CAAgB8R,SAAS,QAAzB,SACGnd,EAAIG,kBAIXiK,MAAO,CACLuB,aAAc,MAGlB,cAACsO,GAAA,EAAD,CACEjH,OAAO,OACP/B,WAAS,EACT6E,YAAY,MACZrU,MAAM,QACNsJ,QAAQ,WACRiK,SAAU,CAAC/J,gBACXE,WAAY,CACV+R,eAAgB,cAAC7R,EAAA,EAAD,CAAgB8R,SAAS,QAAzB,kBAGnB5H,EAAQvS,OAAS,GAChB,cAACsS,GAAA,EAAD,CACE7T,MAAM,wBACNuR,OAAO,gBACPuC,QAASA,EACTP,SAAU,CAAC/J,gBACXoR,KAAK,WA8Bf/H,KAvBoB,SAACvH,GAAD,OACpB,cAACwH,GAAA,EAAD,2BAAUxH,GAAV,IAAiBxC,MAAO,cAAC,GAAD,IAAxB,SACE,eAACiK,GAAA,EAAD,WACE,cAAC,KAAD,CAAWxB,OAAO,OAClB,cAAC4C,GAAA,EAAD,CAAgB5C,OAAO,UAAU6C,UAAU,QAA3C,SACE,cAAC,KAAD,CAAW7C,OAAO,WAEpB,cAAC,KAAD,CACEA,OAAO,eACPvR,MAAK,uBAAkBzB,EAAIG,eAAtB,OAEP,cAAC,KAAD,CACE6S,OAAO,gBACPvR,MAAK,wBAAmBzB,EAAIG,eAAvB,OAEP,cAAC,KAAD,CAAW6S,OAAO,SAClB,cAACuK,GAAA,EAAD,CAAWvK,OAAO,OAAOwK,UAAQ,WAQrCrI,KA5OoB,SAACpI,GACrB,MAA8BvD,WAAe,IAA7C,mBAAO+L,EAAP,KAAgBqH,EAAhB,KACA,EAAgCpT,WAAe,GAA/C,mBAAOqT,EAAP,KAAiBC,EAAjB,KACMvW,EAAeoR,eAEf8F,EAAmB,SAACV,GACxBxW,EACG4B,cAAc,cAAe,CAAE4U,YAC/BzY,MAAK,YAAe,IACb0Y,EADY,EAAX5V,KACiBgR,KAAI,SAACxN,EAAMvJ,GAAP,MAAkB,CAC5CyE,GAAI4S,WAAW9N,EAAKqS,eACpBha,KAAK,UAAD,OAAO2H,EAAKqS,cAAZ,cAA+BrS,EAAK6M,MACxCrW,MAAOsX,WAAW9N,EAAKqS,mBAEzBL,EAAWI,GACXF,EAAYE,EAAWha,WAExB8B,OAAM,SAACC,QAmBZ,OARAyE,aAAgB,WACdjD,EACGgB,OAAO,cAAe,CAAEzB,GAAIiH,EAAMjH,KAClCxB,MAAK,YAAe,IAAZ8C,EAAW,EAAXA,KACPqW,EAAiBrW,EAAK2V,YAEvBjY,OAAM,SAACC,SACT,IAED,cAACqQ,GAAA,EAAD,2BAAUrI,GAAV,IAAiB4D,UAAU,EAA3B,SACE,eAACoE,GAAA,EAAD,CAAYM,QAAS,cAAC,GAAD,IAArB,UACE,cAACU,GAAA,EAAD,CACE/C,OAAO,UACP6C,UAAU,QACV5E,WAAS,EACT+D,SAAU,CAAC/J,gBACXF,QAAQ,WACRG,SAAU,SAACnB,GAAD,OAAW0T,EAAiB1T,EAAMpC,OAAOvG,QANrD,SAQE,cAAC4U,GAAA,EAAD,CAAaC,WAAW,WAE1B,cAACgE,GAAA,EAAD,aACEjH,OAAO,eACP7H,WAAY,CACVuS,WAAY,CACVtC,IAAK,IACLuC,IAAK,KAGT1M,WAAS,EACT6E,YAAY,MACZd,SAAU,CAAC/J,gBACXxJ,MAAM,eACNsJ,QAAQ,YAZV,aAac,CACVmS,eACE,cAAC7R,EAAA,EAAD,CAAgB8R,SAAS,QAAzB,SACGnd,EAAIG,oBAKb,cAAC,IAAD,CACE8Q,WAAS,EACT6E,YAAY,MACZrU,MAAM,gBACNsJ,QAAQ,WACRC,KAAK,QACL7H,KAAK,SACL8H,UAAQ,EACRC,SAAU,SAACnB,GAAD,OA3DM,SAACqT,GACvB,IAAIC,EAAI,aAAO9H,GACf8H,EAAKR,GAAY,CACf/W,GAAIsX,EACJna,KAAK,UAAD,OAAOma,GAAoC,EAA3C,YACJhc,MAAOgc,GAETR,EAAWS,GAoDgBC,CAAgB5E,WAAW3O,EAAMpC,OAAOvG,SAC7D+J,WAAY,CACV+R,eACE,cAAC7R,EAAA,EAAD,CAAgB8R,SAAS,QAAzB,SACGnd,EAAIG,kBAIXiK,MAAO,CACLuB,aAAc,MAGjB4J,EAAQvS,OAAS,GAChB,cAACsS,GAAA,EAAD,CACE7T,MAAM,wBACNuR,OAAO,gBACPuC,QAASA,EACTP,SAAU,CAAC/J,gBACXoR,KAAK,WA6IflD,QAAS,CACP1X,MAAO,aAETwB,KAAM,cACNmL,KAAMwP,M,oDC9SFC,GAAkB,SAACC,GACvB,IAAIC,EAAS,aAAOD,GACdE,EAAWD,EAAU9C,QACzB,SAAC3X,EAAGC,GAAJ,OAAUD,EAAIC,EAAC,MAAYA,EAAC,WAC5B,GAEI0a,EAAWF,EAAU9C,QAAO,SAAC3X,EAAGC,GAAJ,OAAUD,EAAIC,EAAC,IAAUA,EAAC,WAAc,GAkB1E,MAjBW,CACTua,KAAMC,EAAU3F,KAAI,SAACxN,GAAD,gBAClBsT,MAAOxF,WAAW9N,EAAKsT,OAAO5B,QAAQ,GACtC6B,aAAcvT,EAAKuT,aACnBpc,IAAK2W,WAAW9N,EAAK7I,KACrBqc,SAAUxT,EAAKwT,SACf/W,OAAQqR,WAAW9N,EAAKsT,OAAStT,EAAKwT,UAAU9B,QAAQ,GACxDS,QAASnS,EAAKmS,QACdsB,aAAczT,EAAKyT,aACnB9T,MAAOK,EAAKL,OARM,6BASJK,EAAKyT,cATD,oBAUbzT,EAAKwQ,KAVQ,KAYpB/T,MAAOqR,WAAWsF,GAAYtF,WAAWuF,GACzCK,UAAW5F,WAAWsF,GACtBO,UAAW7F,WAAWuF,KAIpBO,GAAO,SAAC,GAAyC,IAAvCpX,EAAsC,EAAtCA,KAAMqX,EAAgC,EAAhCA,YAAaC,EAAmB,EAAnBA,QAASC,EAAU,EAAVA,IAE1C,GAAwB,GAApBvX,EAAK0W,KAAK9a,OAAa,OAAO,0DAOlC,OACE,eAACgZ,GAAA,EAAD,CAAOhR,KAAK,QAAZ,UACE,cAACiR,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACGyC,GACC,cAACxC,GAAA,EAAD,CACE/R,MAAO,CACL8D,MAAO,MAIb,cAACiO,GAAA,EAAD,mBACA,cAACA,GAAA,EAAD,CAAWyC,MAAM,QAAjB,sBACA,eAACzC,GAAA,EAAD,CAAWyC,MAAM,QAAjB,wBAAqC5e,EAAIG,eAAzC,OACA,eAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,qBAAkC5e,EAAIG,eAAtC,OACA,eAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,mBAAgC5e,EAAIG,eAApC,YAGJ,eAACic,GAAA,EAAD,WACGhV,EAAK0W,KAAK1F,KAAI,SAACxN,EAAMvJ,GACpB,IAAIgG,EAAQqR,WAAW9N,EAAKsT,OAAStT,EAAKwT,SAG1C,OAFmB/W,EACnBA,GAASuD,EAAKwT,SAAWxT,EAAK7I,IAE5B,eAACma,GAAA,EAAD,WACGyC,GACC,cAACxC,GAAA,EAAD,UACE,cAAC0C,GAAA,EAAD,CACEtT,QAAS,kBAlCE,SAACzF,GAC5B,IAAIgZ,EAAO,eAAQ1X,GACnB0X,EAAQhB,KAAOgB,EAAQhB,KAAKpb,QAAO,SAACkI,GAAD,OAAUA,EAAKyT,cAAgBvY,KAClEgZ,EAAO,2BAAQA,GAAYjB,GAAgBiB,EAAQhB,OACnDY,EAAQI,GA8BuBC,CAAqBnU,EAAKyT,eACzCvS,MAAM,YAIZ,cAACqQ,GAAA,EAAD,UACE,cAAC6C,GAAA,EAAD,CAAM7R,GAAE,iBAAYvC,EAAKmS,QAAjB,SAAiCpV,OAAO,SAAhD,SACGiD,EAAKL,UAGV,cAAC4R,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SAA0BhU,EAAKwT,WAC/B,cAACjC,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SAA0BhU,EAAKsT,QAC/B,cAAC/B,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SAA0BhU,EAAK7I,IAAM6I,EAAKwT,WAC1C,cAACjC,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCAASvX,EAAMiV,QAAQ,SAlBZjb,MAuBnB,eAAC6a,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAWyC,MAAM,QAAQK,QAASN,EAAM,EAAI,EAA5C,SACE,iCAASvX,EAAKmX,UAAUjC,QAAQ,OAElC,cAACH,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCAASxX,EAAKkX,UAAUhC,QAAQ,UAGpC,eAACJ,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAWyC,MAAM,QAAQK,QAASN,EAAM,EAAI,EAA5C,SACE,4CAAe3e,EAAIG,eAAnB,SAEF,cAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCAASxX,EAAKC,MAAMiV,QAAQ,UAGhC,cAACJ,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CAAWyC,MAAM,QAAQK,QAAS,EAAlC,SACE,cAACrT,EAAA,EAAD,CACEC,UAAW,cAAC,KAAD,IACXd,QAAQ,YACRe,MAAM,UACNP,QAASkT,EAJX,qCAcNnS,GAAYC,aAAW,CAC3B2S,KAAM,CACJ7U,UAAW,OAGb8U,SAAU,CACRpD,OAAQ,YAEVqD,KAAM,CACJlR,MAAO,QAGTmR,UAAW,CACThV,UAAW,GAEb5I,MAAO,CACLqK,MAAO,kBACPiI,SAAU,GACVgI,OAAQ,aA4WGuD,GAxWG,SAACvS,GACjB,IAAMW,EAAUpB,KACVnD,EAASC,cACTqL,EAAUC,eACV7C,EAAW8C,eACjB,EAAwBnL,IAAM+V,SAAS,CACrCzB,KAAM,GACNS,UAAW,EACXD,UAAW,EACXjX,MAAO,IAJT,mBAAOD,EAAP,KAAasX,EAAb,KAMA,EAA8BlV,IAAM+V,UAAS,GAA7C,mBAAOjI,EAAP,KAAgBC,EAAhB,KACA,EAA0B/N,IAAM+V,WAAhC,mBAAOxY,EAAP,KAAcyY,EAAd,KACA,EAAsChW,IAAM+V,SAAS,IAArD,mBAAOE,EAAP,KAAoBC,EAApB,KACA,EAAgClW,IAAM+V,SAAS,GAA/C,mBAAOnB,EAAP,KAAiBuB,EAAjB,KACA,EAAkCnW,IAAM+V,SAAS,GAAjD,mBAAOK,EAAP,KAAkBC,EAAlB,KACA,EAAkCrW,IAAM+V,SAAS,IAAjD,mBAAOO,EAAP,KAAkBC,EAAlB,KACA,EAA4BvW,IAAM+V,SAAS,aAA3C,mBAAOzd,EAAP,KAAeke,EAAf,KACA,GAAsBxW,IAAM+V,SAASvf,EAAIO,KAAK,IAA9C,qBAAO2C,GAAP,MAAY+c,GAAZ,MACAzW,IAAM0W,WAAU,YACA,uCAAG,gCAAA5c,EAAA,6DACfiU,GAAW,GADI,kBAGuBhR,EAAagB,OAAO,SAAU,CAChEzB,GAAIiH,EAAMjH,KAJC,uBAGCqa,EAHD,EAGL/Y,KAGRoY,EAASW,GACTF,GAAOE,EAAYjd,KACnBwb,EAAQ,2BACHtX,GADE,IAEL0W,KAAMqC,EAAYrC,MACfD,GAAgBsC,EAAYrC,QAEjCkC,EAAUG,EAAYre,QAbT,UAeLyE,EAAa4B,cAAc,cAAe,CAC9CiY,WAAW,IAhBF,QAmBbX,GALIA,EAdS,OAkBXrY,MAECgR,KAAI,SAACxN,GAAD,MAAW,CACd9E,GAAI8E,EAAK9E,GACTyE,MAAOK,EAAKL,MACZ2T,MAAOxF,WAAW9N,EAAKqS,eAAeX,QAAQ,GAC9C6B,aAAczF,WAAW9N,EAAKuT,cAAc7B,QAAQ,GACpDva,IAAK6I,EAAK7I,IACVqc,SAAU,EACVrB,QAASnS,EAAKmS,QACd3B,IAAKxQ,EAAKyV,eACV5I,KAAM7M,EAAK6M,KAAK5P,MAAM,KAAK,OAE5BzE,MAAK,SAACE,EAAGC,GAAJ,OAAUA,EAAEuC,GAAKxC,EAAEwC,MAC3B4Z,EAAeD,GACfM,EAAaN,EAAY,GAAG3Z,IAC5B+Z,EAAaJ,EAAY,GAAGvB,OAlCf,kDAoCb/U,EAAO,0BAA2B,SAClC0I,EAAS,WACT4C,IAtCa,QAyCf8C,GAAW,GAzCI,0DAAH,qDA2CdU,KACC,IACH,IA8EMwG,GAAW,uCAAG,4BAAAnb,EAAA,6DACdgd,EAAc,CAChBxe,SACAoB,OACA4a,KAAM1W,EAAK0W,KACXzW,MAAOD,EAAKC,MACZkX,UAAWnX,EAAKmX,WANA,kBASVhY,EAAa8B,OAAO,SAAU,CAClCvC,GAAIiH,EAAMjH,GACVsB,KAAMkZ,IAXQ,OAahBzO,EAAS,WACT4C,IAdgB,gDAgBhBtL,EAAO,KAAMnF,KAAM,SAhBH,yDAAH,qDAmBjB,OAAIsT,EAAgB,cAACsB,GAAA,EAAD,CAASC,eAAe,GAAGC,iBAAiB,KACvD/R,EAEL,mCACE,eAACoD,EAAA,EAAD,CAAM4D,UAAWL,EAAQwR,KAAzB,UACE,cAAC5U,EAAA,EAAD,CAAOC,MAAM,eACb,cAACC,EAAA,EAAD,UACE,eAACE,EAAA,EAAD,CAAMC,WAAS,EAAC2D,QAAS,EAAzB,UACE,eAAC5D,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,UACE,uBAAOkD,UAAWL,EAAQjM,MAA1B,oBACA,uBACA,qCAAQsF,EAAMwZ,iBAEhB,eAAC7V,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,UACE,uBAAOkD,UAAWL,EAAQjM,MAA1B,kCACA,uBACA,qCAAQsF,EAAMyZ,iBAEhB,eAAC9V,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,UACE,uBAAOkD,UAAWL,EAAQjM,MAA1B,mBACA,uBACA,+BACE,cAACud,GAAA,EAAD,CAAM7R,GAAE,mBAAcpG,EAAM0Z,SAApB,SAAqC9Y,OAAO,SAApD,SACGZ,EAAM2Z,2BAIb,eAAChW,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,UACE,uBAAOlL,UAAWL,EAAQjM,MAA1B,oBACA,uBACiB,YAAhBsF,EAAMjF,QACS,YAAhBiF,EAAMjF,QACU,aAAhBiF,EAAMjF,OACJ,cAAC2I,EAAA,EAAD,CAAasD,UAAWL,EAAQ0R,KAAMpU,KAAK,QAA3C,SACE,cAAC2V,GAAA,EAAD,CACE1V,UAAQ,EACR7J,MAAOU,EACPoJ,SAAU,SAACnB,GACTiW,EAAUjW,EAAMpC,OAAOvG,QAEzBwf,cAAY,EACZ3P,WAAS,EACTlG,QAAQ,WACR+K,YAAY,QATd,SAWG9V,EAAI8B,OAAOsW,KAAI,SAACxN,EAAMvJ,GAAP,OACd,cAACiO,GAAA,EAAD,CAAsBlO,MAAOwJ,EAA7B,SACGA,GADYvJ,UAOrB,+BAAO0F,EAAMjF,YAGjB,eAAC4I,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,UACE,uBAAOlL,UAAWL,EAAQjM,MAA1B,iBACA,uBACiB,YAAhBsF,EAAMjF,QACS,YAAhBiF,EAAMjF,QACU,aAAhBiF,EAAMjF,OACJ,cAAC2I,EAAA,EAAD,CAAasD,UAAWL,EAAQ0R,KAAMpU,KAAK,QAA3C,SACE,cAAC2V,GAAA,EAAD,CACE1V,UAAQ,EACR7J,MAAO8B,GACPgI,SAAU,SAACnB,GACTkW,GAAOlW,EAAMpC,OAAOvG,QAEtBwf,cAAY,EACZ3P,WAAS,EACTlG,QAAQ,WACR+K,YAAY,QATd,SAWG9V,EAAIO,KAAK6X,KAAI,SAACrV,EAAG0W,GAAJ,OACZ,cAACnK,GAAA,EAAD,CAAkBlO,MAAO2B,EAAzB,SACGA,GADY0W,UAOrB,+BAAO1S,EAAM7D,UAGC,YAAhB6D,EAAMjF,QACU,YAAhBiF,EAAMjF,QACU,aAAhBiF,EAAMjF,SACN,cAAC4I,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,SACE,eAACJ,EAAA,EAAD,CAAasD,UAAWL,EAAQ0R,KAAMpU,KAAK,QAA3C,UACE,oBAAI+C,UAAWL,EAAQyR,SAAvB,sBACA,eAACzU,EAAA,EAAD,CAAMC,WAAS,EAAC2D,QAAS,EAAzB,UACE,cAAC5D,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,cAAC0H,GAAA,EAAD,CACE1V,UAAQ,EACR7J,MAAO0e,EACP5U,SAAU,SAACnB,GACTgW,EAAahW,EAAMpC,OAAOvG,OAC1Bye,EACEJ,EAAY/c,QACV,SAACkI,GAAD,OAAUA,EAAK9E,IAAMiE,EAAMpC,OAAOvG,SAClC,GAAG8c,QAGT0C,cAAY,EACZ3P,WAAS,EACTlG,QAAQ,WACR+K,YAAY,QAdd,SAgBG2J,EAAYrH,KAAI,SAAC0H,EAAWze,GAAZ,OACf,cAACiO,GAAA,EAAD,CAAsBlO,MAAO0e,EAAUha,GAAvC,mBACMga,EAAUvV,MADhB,cAC2BvK,EAAIG,eAD/B,YACiD2f,EAAU5B,MAD3D,aACqE4B,EAAUrI,OADhEpW,UAMrB,cAACqJ,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,cAAC,IAAD,CACEhI,WAAS,EACT6E,YAAY,MACZrU,MAAM,WACNsJ,QAAQ,WACRC,KAAK,QACL7H,KAAK,SACL8H,UAAQ,EACR7J,MAAOgd,EACPlT,SAAU,SAACnB,GAAD,OAAW4V,EAAY5V,EAAMpC,OAAOvG,QAC9C+J,WAAY,CACV+R,eACE,cAAC7R,EAAA,EAAD,CAAgB8R,SAAS,QAAzB,gBAKJ/S,MAAO,CACLuB,aAAc,QAIpB,cAACjB,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,cAAC,IAAD,CACEhI,WAAS,EACT6E,YAAY,MACZrU,MAAM,gBACNsJ,QAAQ,WACRC,KAAK,QACL7H,KAAK,SACL8H,UAAQ,EACR7J,MAAOwe,EACP1U,SAAU,SAACnB,GAAD,OAAW8V,EAAa9V,EAAMpC,OAAOvG,QAC/C+J,WAAY,CACV+R,eACE,cAAC7R,EAAA,EAAD,CAAgB8R,SAAS,QAAzB,SACGnd,EAAIG,kBAIXiK,MAAO,CACLuB,aAAc,QAIpB,cAACjB,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,cAACrN,EAAA,EAAD,CACEC,UAAW,cAAC,KAAD,IACXd,QAAQ,YACRe,MAAM,UACNmF,WAAS,EACT1F,QAzQF,WACpB,GAAgB,IAAZ6S,GAAkB1F,WAAW0F,IAAa,EAG5C,OAFAjV,EAAO,2CAA4C,cACnDwW,EAAY,IAGd,GAAKkB,OAAOC,UAAU1C,EAAW,IAAjC,CASA,IALA,IAAI2C,EAAoB,aACnBtB,EAAY/c,QAAO,SAACkI,GAAD,OAAUA,EAAK9E,IAAMga,MAC3C,GACEkB,EAAK,aAAO5Z,EAAK0W,MACjBmD,GAAQ,EACHle,EAAI,EAAGA,EAAIie,EAAMhe,OAAQD,IAChC,GAAIie,EAAMje,GAAGsb,cAAgByB,EAAW,CACtC,GAAIkB,EAAMje,GAAGqb,SAAW,EAAI2C,EAAkB3F,IAK5C,YAJAjS,EAAO,gDAAD,OAC4C4X,EAAkB3F,IAD9D,WAEJ,SAGG4F,EAAMje,GAAGqb,UAAY1F,WAAW0F,GACvC6C,GAAQ,EACRF,EAAoBC,EAAMje,GAC1B,MAKJ,GAFKke,IAAOF,EAAkB3C,SAAW1F,WAAW0F,IACpD2C,EAAkB1C,aAAeyB,EACJ,GAAzBiB,EAAkB3F,IAGf,GAAI2F,EAAkB3C,SAAW2C,EAAkB3F,IACxDjS,EAAO,gDAAD,OAC4C4X,EAAkB3F,IAD9D,WAEJ,aAHG,CAOF6F,GAAOD,EAAMhgB,KAAK+f,GAIvB,IAAIhD,EAAS,aAAOiD,GACpB,IACEjD,EAAUA,EAAUmD,WAAU,SAACtW,GAAD,OAAUA,EAAK9E,IAAMga,MAAY5B,MAC7D0B,EACF,MAAO7a,IACT,IAAMiZ,EAAWD,EAAU9C,QACzB,SAAC3X,EAAGC,GAAJ,OAAUD,EAAIC,EAAC,MAAYA,EAAC,WAC5B,GAEI0a,EAAWF,EAAU9C,QACzB,SAAC3X,EAAGC,GAAJ,OAAUD,EAAIC,EAAC,IAAUA,EAAC,WAC1B,GAEE8Z,EAAO,CACToD,SAAU1Z,EAAM0Z,SAChB3C,KAAMC,EAAU3F,KAAI,SAACxN,GAAD,MAAW,CAC7BsT,MAAOxF,WAAW9N,EAAKsT,OAAO5B,QAAQ,GACtC6B,aAAcvT,EAAKuT,aACnBpc,IAAK2W,WAAW9N,EAAK7I,KACrBqc,SAAUxT,EAAKwT,SACf/W,OAAQqR,WAAW9N,EAAKsT,OAAStT,EAAKwT,UAAU9B,QAAQ,GACxDS,QAASnS,EAAKmS,QACdsB,aAAczT,EAAKyT,aACnB9T,MAAOK,EAAKL,MACZ6Q,IAAKxQ,EAAKwQ,QAEZ/T,MAAOqR,WAAWsF,GAAYtF,WAAWuF,GACzCK,UAAW5F,WAAWsF,GACtBO,UAAW7F,WAAWuF,IAExBS,EAAQrB,GACRsC,EAAY,UA5CVxW,EAAO,+BAAgC,cAzBvCA,EAAO,iDAAkD,UA6PvC,gCAcV,eAACuB,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,UACE,oBAAIkD,UAAWL,EAAQyR,SAAvB,kBACA,cAAC,GAAD,CACE/X,KAAMA,EACNqX,YAAaA,GACbC,QAASA,EACTC,IACkB,YAAhB5X,EAAMjF,QAAwC,YAAhBiF,EAAMjF,sBAW1C,ICjgBRqf,GAAc,SAACpU,GAAD,OAClB,eAAC+F,GAAA,EAAD,2BAAY/F,GAAZ,cACE,cAACgG,GAAA,EAAD,CACEtR,MAAM,SACNuR,OAAO,aACPC,UAAQ,EACRlI,QAAQ,WACRkG,WAAS,IAEX,cAAC8E,GAAA,EAAD,CACE/C,OAAO,WACP6C,UAAU,UACV5C,UAAQ,EACRlI,QAAQ,WACRlE,QAAS,IACTgQ,cAAe,SAACC,GAAD,MAAiB,CAAEsK,cAAetK,IANnD,SAQE,cAACC,GAAA,EAAD,CAAmBd,WAAW,oBAEhC,cAACD,GAAA,EAAD,CACET,QAASvV,EAAI8B,OAAOsW,KAAI,SAACxN,GAAD,MAAW,CAAE9E,GAAI8E,EAAM3H,KAAM2H,MACrDoI,OAAO,SACPvR,MAAM,SACNsJ,QAAQ,aAEV,cAACiL,GAAA,EAAD,CACET,QAASvV,EAAIO,KAAK6X,KAAI,SAACxN,GAAD,MAAW,CAAE9E,GAAI8E,EAAM3H,KAAM2H,MACnDoI,OAAO,MACPvR,MAAM,MACNsJ,QAAQ,aAEV,cAAC6L,GAAA,EAAD,CAAW5D,OAAO,aAAavR,MAAM,OAAOsJ,QAAQ,kBAqEzC,IACboJ,KAnEuB,SAACpH,GACxB,OACE,cAAC,KAAD,2BACMA,GADN,IAEEsH,mBAAmB,EACnBD,QAAS,cAAC,GAAD,IACThR,KAAM,CAAE0D,MAAO,KAAMC,MAAO,QAC5BJ,WAAY,cAAC,GAAD,IALd,SAOE,eAAC0M,GAAA,EAAD,CAAUsC,SAAS,OAAnB,UACE,cAAC,KAAD,CACE3C,OAAO,aACPvR,MAAM,SACN2I,MAAO,CACLiX,WAAY,UAGhB,cAACzL,GAAA,EAAD,CAAgB5C,OAAO,WAAW6C,UAAU,UAA5C,SACE,cAAC,KAAD,CAAW7C,OAAO,oBAEpB,cAAC,KAAD,CAAWA,OAAO,cAAcvR,MAAM,QAAQkb,UAAU,IACxD,cAAC,KAAD,CAAW3J,OAAO,iBAAiBvR,MAAM,WAAWkb,UAAU,IAC9D,cAAC,KAAD,CACE3J,OAAO,QACPvR,MAAK,uBAAkBzB,EAAIG,eAAtB,OAEP,cAAC,KAAD,CAAW6S,OAAO,WAClB,cAAC,KAAD,CAAWA,OAAO,aAAavR,MAAM,eACrC,cAAC,KAAD,CAAWuR,OAAO,QAClB,cAAC,KAAD,CAAWA,OAAO,aAAavR,MAAM,gBAuC3CwB,KAAM,SACNmL,KAAMkT,KACNnM,KAAMmK,GACNnG,QAAS,CAAE1X,MAAO,e,sDCxEd0f,GAAc,SAACpU,GAAD,OAClB,eAAC+F,GAAA,EAAD,2BAAY/F,GAAZ,cACE,cAACgG,GAAA,EAAD,CACEtR,MAAM,SACNuR,OAAO,aACPC,UAAQ,EACRlI,QAAQ,WACRkG,WAAS,IAEX,cAAC8E,GAAA,EAAD,CACE/C,OAAO,WACP6C,UAAU,UACV5C,UAAQ,EACRlI,QAAQ,WACRlE,QAAS,IACTgQ,cAAe,SAACC,GAAD,MAAiB,CAAEsK,cAAetK,IANnD,SAQE,cAACC,GAAA,EAAD,CAAmBd,WAAW,oBAEhC,cAACD,GAAA,EAAD,CACET,QAASvV,EAAI8B,OAAOsW,KAAI,SAACxN,GAAD,MAAW,CAAE9E,GAAI8E,EAAM3H,KAAM2H,MACrDoI,OAAO,SACPvR,MAAM,SACNsJ,QAAQ,aAEV,cAACiL,GAAA,EAAD,CACET,QAASvV,EAAIO,KAAK6X,KAAI,SAACxN,GAAD,MAAW,CAAE9E,GAAI8E,EAAM3H,KAAM2H,MACnDoI,OAAO,MACPvR,MAAM,MACNsJ,QAAQ,aAEV,cAAC6L,GAAA,EAAD,CAAW5D,OAAO,aAAavR,MAAM,OAAOsJ,QAAQ,kBAuClDyT,GAAO,SAAC,GAAoC,IAAlCpX,EAAiC,EAAjCA,KAAMqX,EAA2B,EAA3BA,YAAaC,EAAc,EAAdA,QAEjC,GAAwB,GAApBtX,EAAK0W,KAAK9a,OAAa,OAAO,0DAMlC,OACE,eAACgZ,GAAA,EAAD,CAAOhR,KAAK,QAAZ,UACE,cAACiR,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CACE/R,MAAO,CACL8D,MAAO,MAGX,cAACiO,GAAA,EAAD,mBACA,cAACA,GAAA,EAAD,CAAWyC,MAAM,QAAjB,sBACA,eAACzC,GAAA,EAAD,CAAWyC,MAAM,QAAjB,wBAAqC5e,EAAIG,eAAzC,OACA,eAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,qBAAkC5e,EAAIG,eAAtC,OACA,eAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,mBAAgC5e,EAAIG,eAApC,YAGJ,eAACic,GAAA,EAAD,WACGhV,EAAK0W,KAAK1F,KAAI,SAACxN,EAAMvJ,GACpB,IAAIgG,EAAQqR,WAAW9N,EAAKsT,OAAStT,EAAKwT,SAG1C,OAFmB/W,EACnBA,GAASuD,EAAKwT,SAAWxT,EAAK7I,IAE5B,eAACma,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,UACE,cAAC7Q,EAAA,EAAD,CACEiW,KAAK,MACLnQ,aAAW,WACX7F,QAAS,kBAhCI,SAACzF,GAC5B,IAAIgZ,EAAO,eAAQ1X,GACnB0X,EAAQhB,KAAOgB,EAAQhB,KAAKpb,QAAO,SAACkI,GAAD,OAAUA,EAAKyT,cAAgBvY,KAClE4Y,EAAQI,GA6BqBC,CAAqBnU,EAAKyT,eAH3C,SAKE,cAACQ,GAAA,EAAD,CAAc/S,MAAM,cAGxB,cAACqQ,GAAA,EAAD,UACE,cAAC6C,GAAA,EAAD,CAAM7R,GAAE,iBAAYvC,EAAKmS,QAAjB,SAAiCpV,OAAO,SAAhD,SACGiD,EAAKL,UAGV,cAAC4R,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SAA0BhU,EAAKwT,WAC/B,cAACjC,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SAA0BhU,EAAKsT,QAC/B,cAAC/B,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SAA0BhU,EAAK7I,IAAM6I,EAAKwT,WAC1C,cAACjC,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCAASvX,EAAMiV,QAAQ,SAnBZjb,MAwBnB,eAAC6a,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,IACA,cAACA,GAAA,EAAD,CAAWyC,MAAM,UACjB,cAACzC,GAAA,EAAD,CAAWyC,MAAM,UACjB,cAACzC,GAAA,EAAD,CAAWyC,MAAM,UACjB,cAACzC,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCAASxX,EAAKmX,UAAUjC,QAAQ,OAElC,cAACH,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCAASxX,EAAKkX,UAAUhC,QAAQ,UAGpC,eAACJ,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAWyC,MAAM,QAAQK,QAAS,EAAlC,SACE,4CAAejf,EAAIG,eAAnB,SAEF,cAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCAASxX,EAAKC,MAAMiV,QAAQ,UAGhC,cAACJ,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CAAWyC,MAAM,QAAQK,QAAS,EAAlC,SACE,cAACrT,EAAA,EAAD,CACEC,UAAW,cAAC,KAAD,IACXd,QAAQ,YACRe,MAAM,UACNP,QAASkT,EAJX,kCAcNnS,GAAYC,aAAW,CAC3B2S,KAAM,CACJ7U,UAAW,OAGb8U,SAAU,CACRpD,OAAQ,YAEVqD,KAAM,CACJlR,MAAO,QAGTmR,UAAW,CACThV,UAAW,KA+YA,IACb8J,KA1hBuB,SAACpH,GACxB,OACE,cAAC,KAAD,2BACMA,GADN,IAEEsH,mBAAmB,EACnBD,QAAS,cAAC,GAAD,IACThR,KAAM,CAAE0D,MAAO,KAAMC,MAAO,QAC5BJ,WAAY,cAAC,GAAD,IALd,SAOE,eAAC0M,GAAA,EAAD,CAAUsC,SAAU,SAAC7P,GAAD,wBAAmBA,IAAvC,UACE,cAAC,KAAD,CACEkN,OAAO,aACPvR,MAAM,SACN2I,MAAO,CACLiX,WAAY,UAGhB,cAACzL,GAAA,EAAD,CAAgB5C,OAAO,WAAW6C,UAAU,UAA5C,SACE,cAAC,KAAD,CAAW7C,OAAO,oBAEpB,cAAC,KAAD,CAAWA,OAAO,cAAcvR,MAAM,QAAQkb,UAAU,IACxD,cAAC,KAAD,CAAW3J,OAAO,iBAAiBvR,MAAM,WAAWkb,UAAU,IAC9D,cAAC,KAAD,CACE3J,OAAO,QACPvR,MAAK,uBAAkBzB,EAAIG,eAAtB,OAEP,cAAC,KAAD,CAAW6S,OAAO,WAClB,cAAC,KAAD,CAAWA,OAAO,aAAavR,MAAM,eACrC,cAAC,KAAD,CAAWuR,OAAO,QAClB,cAAC,KAAD,CAAWA,OAAO,aAAavR,MAAM,gBA8f3CwB,KAAM,gBACNmL,KAAMoT,KACNpZ,OAhZwB,SAAC2E,GACzB,IAAMW,EAAUpB,KACVnD,EAASC,cACTqL,EAAUC,eACV7C,EAAW8C,eACjB,EAAwBnL,WAAe,CACrCsU,KAAM,GACNS,UAAW,EACXD,UAAW,EACXjX,MAAO,IAJT,mBAAOD,EAAP,KAAasX,EAAb,KAMA,EAA8BlV,WAAe,IAA7C,mBAAOiY,EAAP,KAAgBC,EAAhB,KACA,EAAsClY,WAAe,IAArD,mBAAOiW,EAAP,KAAoBC,EAApB,KACA,EAA0BlW,WAAe,IAAzC,mBAAOmY,EAAP,KAAcC,EAAd,KACA,EAAgCpY,WAAe,GAA/C,mBAAO4U,EAAP,KAAiBuB,EAAjB,KACA,EAAkCnW,WAAe,GAAjD,mBAAOqY,EAAP,KAAkBC,EAAlB,KACA,EAAsBtY,WAAexJ,EAAIO,KAAK,IAA9C,mBAAO2C,EAAP,KAAY+c,EAAZ,KACA,EAAkCzW,WAAe,GAAjD,mBAAOoW,EAAP,KAAkBC,GAAlB,KACA,GAAkCrW,WAAe,IAAjD,qBAAOsW,GAAP,MAAkBC,GAAlB,MACA,GAA8BvW,YAAe,GAA7C,qBAAO8N,GAAP,MAAgBC,GAAhB,MACA/N,aAAgB,YACA,uCAAG,gCAAAlG,EAAA,6DACfiU,IAAW,GADI,SAEiBhR,EAAa4B,cAAc,WAF5C,uBAEDsZ,EAFC,EAEPra,KAFO,SAIPb,EAAa4B,cAAc,cAAe,CAC9CiY,WAAW,IALA,OAQfX,GALIA,EAHW,OAObrY,MAECgR,KAAI,SAACxN,GAAD,MAAW,CACd9E,GAAI8E,EAAK9E,GACTyE,MAAOK,EAAKL,MACZ2T,MAAOxF,WAAW9N,EAAKqS,eAAeX,QAAQ,GAC9C6B,aAAczF,WAAW9N,EAAKuT,cAAc7B,QAAQ,GACpDva,IAAK6I,EAAK7I,IACVqc,SAAU,EACVrB,QAASnS,EAAKmS,QACd3B,IAAKxQ,EAAKyV,eACV5I,KAAM7M,EAAK6M,KAAK5P,MAAM,KAAK,OAE5BzE,MAAK,SAACE,EAAGC,GAAJ,OAAUA,EAAEuC,GAAKxC,EAAEwC,MAC3B4Z,EAAeD,GACfiC,EAAWD,GACX1B,GAAaN,EAAY,IACzBI,GAAaJ,EAAY,GAAGvB,OAC5B4D,EAAarC,EAAY,GAAGtB,cAC5ByD,EAASH,EAAQ,IACjBlK,IAAW,GA3BI,4CAAH,qDA6BdU,KACC,IACH,IA8EMwG,GAAW,uCAAG,8BAAAnb,EAAA,6DACd+Z,EADc,eACFjW,IACX0W,KAAOT,EAAKS,KAAK1F,KAAI,SAACxN,GAAD,mBAAC,eACtBA,GADqB,IAExB7I,KAAM6I,EAAK7I,IAAM6I,EAAKwT,UAAU9B,QAAQ,QAE1Ce,EAAK0E,OAAS,EACd1E,EAAK2E,KAAO5gB,GACZic,EAAK4E,OAAS/e,EACdqU,IAAW,GACLrQ,EAAMlH,EAAIC,IAAM,SAVJ,SAWZ+L,IACHC,KAAK/E,EAAKmW,GACV/Y,MAAK,SAACC,GACLgT,IAAW,GACXpO,EAAO,oCACP0I,EAAS,kBACT4C,OAED3P,OAAM,SAACC,GACNoE,EAAOpE,EAAO,SACdwS,IAAW,MArBG,OAuBlBA,IAAW,GAvBO,4CAAH,qDAyBjB,GAA0B/N,WAAe,MAAzC,qBAAOpI,GAAP,MAAc8gB,GAAd,MAKA,OAAI5K,GAAgB,cAACsB,GAAA,EAAD,CAASC,eAAe,GAAGC,iBAAiB,KAG5D,eAAC3O,EAAA,EAAD,CAAM4D,UAAWL,EAAQwR,KAAzB,UACE,cAAC5U,EAAA,EAAD,CAAOC,MAAM,qBACb,cAACC,EAAA,EAAD,UACE,eAACE,EAAA,EAAD,CAAMC,WAAS,EAAC2D,QAAS,EAAzB,UACE,cAAC5D,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,eAACxO,EAAA,EAAD,CAAasD,UAAWL,EAAQ0R,KAAMpU,KAAK,QAA3C,UACE,cAACmX,GAAA,EAAD,CAAWnS,UAAU,SAASjC,UAAWL,EAAQyR,SAAjD,mBAGA,cAACjG,GAAA,EAAD,CACE9X,MAAOugB,EACPzW,SAAU,SAACnB,EAAOqY,GACZA,GAAYA,EAAStc,IAAI8b,EAASQ,IAExCjJ,QAASsI,EACTrI,eAAgB,SAACuI,GAAD,OAAWA,EAAMP,eACjC9H,YAAa,SAAC5S,GAAD,OACX,cAAC,IAAD,2BACMA,GADN,IAEEjF,MAAM,GACNsJ,QAAQ,WACRC,KAAK,mBAMf,cAACN,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,eAACxO,EAAA,EAAD,CAAasD,UAAWL,EAAQ0R,KAAMpU,KAAK,QAA3C,UACE,cAACmX,GAAA,EAAD,CAAWnS,UAAU,SAASjC,UAAWL,EAAQyR,SAAjD,iBAGA,cAACwB,GAAA,EAAD,CACE1V,UAAQ,EACR7J,MAAO8B,EACPgI,SAAU,SAACnB,GACTkW,EAAOlW,EAAMpC,OAAOvG,QAEtBwf,cAAY,EACZ3P,WAAS,EACTlG,QAAQ,WACR+K,YAAY,QATd,SAWG9V,EAAIO,KAAK6X,KAAI,SAAClV,EAAK7B,GAAN,OACZ,cAACiO,GAAA,EAAD,CAAsBlO,MAAO8B,EAA7B,SACGA,GADY7B,aAOvB,cAACqJ,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,SACE,eAACJ,EAAA,EAAD,CAAasD,UAAWL,EAAQ0R,KAAMpU,KAAK,QAA3C,UACE,cAACmX,GAAA,EAAD,CAAWnS,UAAU,SAASjC,UAAWL,EAAQyR,SAAjD,6CAGA,eAACkD,GAAA,EAAD,CAAYjhB,MAAOA,GAAO8J,SA9DnB,SAACnB,GACpBmY,GAASnY,EAAMpC,OAAOvG,QA6DV,UACE,cAACkhB,GAAA,EAAD,CACElhB,MAAM,MACNmhB,QAAS,cAACC,GAAA,EAAD,IACT/gB,MAAM,QAER,cAAC6gB,GAAA,EAAD,CAAkBlhB,MAAM,KAAKmhB,QAAS,cAACC,GAAA,EAAD,IAAW/gB,MAAM,eAI7D,cAACiJ,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,SACE,eAACJ,EAAA,EAAD,CAAasD,UAAWL,EAAQ0R,KAAMpU,KAAK,QAA3C,UACE,eAACmX,GAAA,EAAD,CAAWnS,UAAU,SAASjC,UAAWL,EAAQyR,SAAjD,gCACsB,MACpB,cAACH,GAAA,EAAD,CAAM7R,GAAG,sBAAsBxF,OAAO,SAAtC,2BAGC,SACD,sBACEyC,MAAO,CACL0B,MAAO9L,EAAIK,SACXoiB,OAAQ,WAEVlX,QAAO,sBAAE,4BAAAjI,EAAA,sEAECiD,EAAa4B,cAAc,cAAe,CAC9CiY,WAAW,IAHR,OAMPX,GALIA,EADG,OAKLrY,MAECgR,KAAI,SAACxN,GAAD,MAAW,CACd9E,GAAI8E,EAAK9E,GACTyE,MAAOK,EAAKL,MACZ2T,MAAOxF,WAAW9N,EAAKqS,eAAeX,QAAQ,GAC9C6B,aAAczF,WAAW9N,EAAKuT,cAAc7B,QAC1C,GAEFva,IAAK6I,EAAK7I,IACVqc,SAAU,EACVrB,QAASnS,EAAKmS,QACd3B,IAAKxQ,EAAKyV,eACV5I,KAAM7M,EAAK6M,KAAK5P,MAAM,KAAK,OAE5BzE,MAAK,SAACE,EAAGC,GAAJ,OAAUA,EAAEuC,GAAKxC,EAAEwC,MAC3B4Z,EAAeD,GACftW,EAAO,kCAAmC,WAtBnC,2CALX,+BANF,OAwCA,eAACuB,EAAA,EAAD,CAAMC,WAAS,EAAC2D,QAAS,EAAzB,UACE,cAAC5D,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,cAACC,GAAA,EAAD,CACE9X,MAAO0e,GACP5U,SAAU,SAACnB,EAAOqY,GAChB,GAAIA,GAAYA,EAAStc,GAAI,CAC3Bia,GAAaqC,GACb,IAAItC,EAAYL,EAAY/c,QAC1B,SAACkI,GAAD,OAAUA,EAAK9E,IAAMsc,EAAStc,MAC9B,GACF+Z,GAAaC,EAAU5B,OACvB4D,EAAahC,EAAU3B,gBAM3BhF,QAASsG,EACTrG,eAAgB,SAAC0G,GAAD,gBACXA,EAAUvV,MADC,cACUvK,EAAIG,eADd,YACgC2f,EAAU5B,MAD1C,aACoD4B,EAAUrI,OAE9E6B,YAAa,SAAC5S,GAAD,OACX,cAAC,IAAD,2BACMA,GADN,IAEEjF,MAAM,GACNsJ,QAAQ,WACRC,KAAK,gBAKb,cAACN,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,cAAC,IAAD,CACEhI,WAAS,EACT6E,YAAY,MACZrU,MAAM,WACNsJ,QAAQ,WACRC,KAAK,QACL7H,KAAK,SACL8H,UAAQ,EACR7J,MAAOgd,EACPlT,SAAU,SAACnB,GAAD,OAAW4V,EAAY5V,EAAMpC,OAAOvG,QAC9C+J,WAAY,CACV+R,eACE,cAAC7R,EAAA,EAAD,CAAgB8R,SAAS,QAAzB,gBAGJ/S,MAAO,CACLuB,aAAc,QAIpB,cAACjB,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,cAAC,IAAD,CACEhI,WAAS,EACTyR,UAAQ,EACR5M,YAAY,MACZrU,MAAM,aACNsJ,QAAQ,WACRC,KAAK,QACL7H,KAAK,SACL8H,UAAQ,EACR7J,MAAOygB,EACPc,UAAQ,EACRzX,SAAU,SAACnB,GAAD,OAAW+X,EAAa/X,EAAMpC,OAAOvG,QAC/C+J,WAAY,CACV+R,eACE,cAAC7R,EAAA,EAAD,CAAgB8R,SAAS,QAAzB,SACGnd,EAAIG,kBAIXiK,MAAO,CACLuB,aAAc,QAIpB,cAACjB,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,cAAC,IAAD,CACEhI,WAAS,EACT6E,YAAY,MACZrU,MAAM,gBACNsJ,QAAQ,WACRC,KAAK,QACL7H,KAAK,SACL8H,UAAQ,EACR7J,MAAOwe,EACP1U,SAAU,SAACnB,GAAD,OAAW8V,GAAa9V,EAAMpC,OAAOvG,QAC/C+J,WAAY,CACV+R,eACE,cAAC7R,EAAA,EAAD,CAAgB8R,SAAS,QAAzB,SACGnd,EAAIG,kBAIXiK,MAAO,CACLuB,aAAc,QAIpB,cAACjB,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,cAACrN,EAAA,EAAD,CACEC,UAAW,cAAC,KAAD,IACXd,QAAQ,YACRe,MAAM,UACNmF,WAAS,EACT1F,QArUE,WACpB,GAAgB,IAAZ6S,GAAkB1F,WAAW0F,IAAa,EAG5C,OAFAjV,EAAO,2CAA4C,cACnDwW,EAAY,IAGd,GAAKkB,OAAOC,UAAU1C,EAAW,IAAjC,CASA,IALA,IAAI2C,EAAoB,aACnBtB,EAAY/c,QAAO,SAACkI,GAAD,OAAUA,EAAK9E,IAAMga,GAAUha,OACrD,GACEkb,EAAK,aAAO5Z,EAAK0W,MACjBmD,GAAQ,EACHle,EAAI,EAAGA,EAAIie,EAAMhe,OAAQD,IAChC,GAAIie,EAAMje,GAAGsb,cAAgByB,GAAUha,GAAI,CACzC,GAAIkb,EAAMje,GAAGqb,SAAW,EAAI2C,EAAkB3F,IAK5C,YAJAjS,EAAO,gDAAD,OAC4C4X,EAAkB3F,IAD9D,WAEJ,SAGG4F,EAAMje,GAAGqb,UAAY1F,WAAW0F,GACvC6C,GAAQ,EACRF,EAAoBC,EAAMje,GAC1B,MAKJ,GAFKke,IAAOF,EAAkB3C,SAAW1F,WAAW0F,IACpD2C,EAAkB1C,aAAeyB,GAAUha,GACd,GAAzBib,EAAkB3F,IAGf,GAAI2F,EAAkB3C,SAAW2C,EAAkB3F,IACxDjS,EAAO,gDAAD,OAC4C4X,EAAkB3F,IAD9D,WAEJ,aAHG,CAOF6F,GAAOD,EAAMhgB,KAAK+f,GAIvB,IAAIhD,EAAS,aAAOiD,GACpB,IACEjD,EAAUA,EAAUmD,WAAU,SAACtW,GAAD,OAAUA,EAAK9E,IAAMga,GAAUha,OAAKoY,MAChE0B,EACF,MAAO7a,IACT,IAAMiZ,EAAWD,EAAU9C,QACzB,SAAC3X,EAAGC,GAAJ,OAAUD,EAAIC,EAAC,MAAYA,EAAC,WAC5B,GAEI0a,EAAWF,EAAU9C,QACzB,SAAC3X,EAAGC,GAAJ,OAAUD,EAAIC,EAAC,IAAUA,EAAC,WAC1B,GAEE8Z,EAAO,CACToD,SAAUkB,EAAM7b,GAChBgY,KAAMC,EAAU3F,KAAI,SAACxN,GAAD,MAAW,CAC7BsT,MAAOxF,WAAW9N,EAAKsT,OAAO5B,QAAQ,GACtC6B,aAAcvT,EAAKuT,aACnBpc,IAAK2W,WAAW9N,EAAK7I,KACrBqc,SAAUxT,EAAKwT,SACf/W,OAAQqR,WAAW9N,EAAKsT,OAAStT,EAAKwT,UAAU9B,QAAQ,GACxDS,QAASnS,EAAKmS,QACdsB,aAAczT,EAAKyT,aACnB9T,MAAOK,EAAKL,MACZ6Q,IAAKxQ,EAAKwQ,QAEZ/T,MAAOqR,WAAWsF,GAAYtF,WAAWuF,GACzCK,UAAW5F,WAAWsF,GACtBO,UAAW7F,WAAWuF,IAExBS,EAAQrB,GACRsC,EAAY,UA5CVxW,EAAO,+BAAgC,cAzBvCA,EAAO,iDAAkD,UAyT3C,gCAaR,eAACuB,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,UACE,cAACsX,GAAA,EAAD,CAAWnS,UAAU,SAASjC,UAAWL,EAAQyR,SAAjD,kBAGA,cAAC,GAAD,CAAM/X,KAAMA,EAAMqX,YAAaA,GAAaC,QAASA,gBAYjEvF,QAAS,CAAE1X,MAAO,kB,yECzjBd0f,GAAc,SAACpU,GAAD,OAClB,eAAC+F,GAAA,EAAD,2BAAY/F,GAAZ,cACE,cAACgJ,GAAA,EAAD,CACE/C,OAAO,WACP6C,UAAU,UACV5C,UAAQ,EACRlI,QAAQ,WACRlE,QAAS,IACTgQ,cAAe,SAACC,GAAD,MAAiB,CAAEsK,cAAetK,IANnD,SAQE,cAACC,GAAA,EAAD,CAAmBd,WAAW,oBAEhC,cAACD,GAAA,EAAD,CACET,QAASvV,EAAIO,KAAK6X,KAAI,SAACxN,GAAD,MAAW,CAAE9E,GAAI8E,EAAM3H,KAAM2H,MACnDoI,OAAO,MACPvR,MAAM,MACNsJ,QAAQ,WACRkI,UAAQ,IAEV,cAAC2D,GAAA,EAAD,CAAW5D,OAAO,aAAaC,UAAQ,EAAClI,QAAQ,aAChD,cAAC6L,GAAA,EAAD,CAAW5D,OAAO,WAAWC,UAAQ,EAAClI,QAAQ,kBAO5C6X,GAAqB,SAAC7V,GAC1B,MAAwBvD,WAAe,IAAvC,mBAAOpC,EAAP,KAAasX,EAAb,KACAlV,aAAgB,WACdkV,EACE9D,OAAOC,KAAK9N,EAAM3F,MACfgR,KAAI,SAACxN,GAAD,OAAUmC,EAAM3F,KAAKwD,MACzBxH,MAAK,SAACE,EAAGC,GAAJ,OAAUD,EAAEuf,GAAKtf,EAAEsf,SAE5B,CAAC9V,EAAM3F,OACV,IAAIC,EAAQ,EACZ,OACE,cAAC2U,GAAA,EAAD,CAAOhR,KAAK,QAAZ,SACE,cAACoR,GAAA,EAAD,UACGhV,EAAKgR,KAAI,SAACrR,GAET,OADAM,EAAQ,EAEN,qCACE,eAAC6U,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,UACE,sBAAK/R,MAAO,CAAE8C,YAAa,IAA3B,UACE,0CACCnG,EAAM8b,QAGX,eAAC1G,GAAA,EAAD,CAAWyC,MAAM,QAAjB,UACE,cAAC,KAAD,CACErT,QAAS,WACPuX,OAAO5R,KAAP,qCACgCnK,EAAMjB,IACpC,WAIJrE,MAAM,mBARR,SAUE,cAAC,KAAD,KAHI,UAKN,cAAC,KAAD,CACE8J,QAAS,WACPuX,OAAOC,SAAP,4BAAuChc,EAAMjB,KAG/CrE,MAAM,OALR,SAOE,cAAC,KAAD,KAHI,UAKN,cAAC0R,GAAD,CACE3C,oBAAoB,EACpBC,eAAe,EACfhK,SAAU,kBACViK,OAAQ3J,EACR4J,UAAU,UAIhB,cAACuL,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CAAW8C,QAAS,EAApB,SACE,qBAAK7U,MAAO,CAAE8C,YAAa,IAA3B,SACE,kDACe,IACb,sBAAM9C,MAAO,CAAE0B,MAAO,WAAtB,SACG/E,EAAM4a,MAAMP,yBAMvB,cAAClF,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CAAW8C,QAAS,EAApB,SACE,sBAAK7U,MAAO,CAAE8C,YAAa,IAA3B,UACE,6CACCnG,EAAMyZ,kBAIb,cAACtE,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CAAW8C,QAAS,EAApB,SACE,sBAAK7U,MAAO,CAAE8C,YAAa,IAA3B,UACE,4CACCnG,EAAM7D,WAIb,cAACgZ,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CAAW8C,QAAS,EAApB,SACE,eAACjD,GAAA,EAAD,CACEhR,KAAK,QACLZ,MAAO,CACLuB,aAAc,IAHlB,UAME,cAACsQ,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,oBACA,cAACA,GAAA,EAAD,mBACA,cAACA,GAAA,EAAD,uBACA,eAACA,GAAA,EAAD,CAAWyC,MAAM,QAAjB,mBACS5e,EAAIG,eADb,OAGA,eAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,mBACS5e,EAAIG,eADb,YAKJ,eAACic,GAAA,EAAD,WACGrV,EAAM+W,KAAK1F,KAAI,SAAC0F,GAEf,OADAzW,GAASqR,WAAWoF,EAAKzW,OAEvB,eAAC6U,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAW/R,MAAO,CAAE8D,MAAO,OAA3B,SACG4P,EAAK7a,OAER,cAACkZ,GAAA,EAAD,CAAW/R,MAAO,CAAE8D,MAAO,OAA3B,SACG4P,EAAK3a,OAER,cAACgZ,GAAA,EAAD,CAAW/R,MAAO,CAAE8D,MAAO,MAA3B,SACG4P,EAAKM,WAER,cAACjC,GAAA,EAAD,CAAWyC,MAAM,QAAQxU,MAAO,CAAE8D,MAAO,OAAzC,SACG4P,EAAKI,QAER,cAAC/B,GAAA,EAAD,CAAWyC,MAAM,QAAQxU,MAAO,CAAE8D,MAAO,OAAzC,SACG4P,EAAKzW,cAKd,eAAC6U,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAWyC,MAAM,QAAQK,QAAS,EAAlC,SACE,4CAAejf,EAAIG,eAAnB,SAEF,cAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCAASvX,EAAMiV,QAAQ,+BAc3C0G,G,gKACJ,WACE,OAAO,cAAC,GAAD,eAAwBpS,KAAK7D,Y,GAFVvD,aAMxByZ,GAAgB,SAAClW,GACrB,IACI4G,EADJ,EAA0BnK,YAAe,GAAzC,mBAAO0Z,EAAP,KAAcC,EAAd,KAEA,OACE,mCACGvI,OAAOC,KAAK9N,EAAM3F,MAAMpE,OAAS,GAChC,sBACEoH,MAAO,CACLwJ,YAAa,IAFjB,UAKE,cAAC,KAAD,CACEwP,aAAc,kBAAMD,GAAS,IAC7BtP,QAAS,WACP,OACE,qBACEzJ,MAAO,CACL0J,MAAO,QACPzJ,UAAW,GACXsB,aAAc,IAJlB,SAOE,cAACC,EAAA,EAAD,CACEb,QAAQ,YACRe,MAAM,UACND,UAAW,cAAC,KAAD,CAAOkI,SAAS,YAH7B,sBAUNsP,mBAAkB,sBAAE,sBAAA/f,EAAA,6DAClB6f,GAAS,GADS,SAEZnjB,EAAIqC,MAAM,GAFE,2CAIpB2R,UAAW,eACXC,QAAS,kBAAMN,KAEjB,cAAC,GAAD,aACE3G,IAAK,SAACkH,GAAD,OAASP,EAAWO,GACzBgP,MAAOA,GACHnW,UAmBVuW,GAAgB,SAAClc,EAAMmc,GAC3B,OAAOnc,EAAK0W,KACTpb,QAAO,SAACK,GAAD,OAAOA,EAAEI,OAASnD,EAAI4B,SAAS2hB,MACtCtI,QAAO,SAAC3X,EAAGC,GAAJ,OAAUD,EAAIoV,WAAWnV,EAAC,YAAe,IAE/Cib,GAAO,SAAC,GAAyC,IAAvCpX,EAAsC,EAAtCA,KAAMqX,EAAgC,EAAhCA,YAAaC,EAAmB,EAAnBA,QAASxd,EAAU,EAAVA,IAC1C,GAAyB,IAArBkG,EAAK0W,KAAK9a,OAAc,OAAO,0DACnC,IAUIwgB,EAAKF,GAAclc,EAAM,GACzBqc,EAAKH,GAAclc,EAAM,GACzBsc,EAAKJ,GAAclc,EAAM,GAC7B,OACE,eAAC4U,GAAA,EAAD,CAAOhR,KAAK,QAAZ,UACE,cAACiR,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CACE/R,MAAO,CACL8D,MAAO,MAGX,cAACiO,GAAA,EAAD,mBACA,cAACA,GAAA,EAAD,CAAWyC,MAAM,QAAjB,kBACA,cAACzC,GAAA,EAAD,CAAWyC,MAAM,QAAjB,sBACA,eAACzC,GAAA,EAAD,CAAWyC,MAAM,QAAjB,mBAAgC5e,EAAIG,eAApC,OACA,eAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,mBAAgC5e,EAAIG,eAApC,YAGJ,eAACic,GAAA,EAAD,WACGhV,EAAK0W,KAAK1F,KAAI,SAACxN,EAAMvJ,GACpB,OACE,eAAC6a,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,UACE,cAAC7Q,EAAA,EAAD,CACEiW,KAAK,MACLnQ,aAAW,WACX7F,QAAS,kBArCI,SAACzF,GAC5B,IAAIgZ,EAAO,eAAQ1X,GACnB0X,EAAQhB,KAAOgB,EAAQhB,KAAKpb,QAAO,SAACkI,GAAD,OAAUA,EAAK9E,KAAOA,KACzD,IAAMuB,EAAQyX,EAAQhB,KAAK7C,QACzB,SAAC3X,EAAGC,GAAJ,OAAUD,EAAIoV,WAAWnV,EAAC,OAAamV,WAAWnV,EAAC,YACnD,GAEFub,EAAQzX,MAAQA,EAChBqX,EAAQI,GA6BqBC,CAAqBnU,EAAK9E,KAH3C,SAKE,cAAC+Y,GAAA,EAAD,CAAc/S,MAAM,cAGxB,cAACqQ,GAAA,EAAD,UACE,cAAC6C,GAAA,EAAD,CAAM7R,GAAE,iBAAYvC,EAAKmS,QAAjB,SAAiCpV,OAAO,SAAhD,SACGiD,EAAK3H,SAIV,cAACkZ,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SAA0BhU,EAAKzH,OAC/B,cAACgZ,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SAA0BhU,EAAKwT,WAC/B,cAACjC,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACGlG,WAAW9N,EAAKsT,OAAO5B,QAAQ,KAElC,cAACH,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCACGlG,WAAW9N,EAAKsT,MAAQxF,WAAW9N,EAAKwT,WAAW9B,QAClD,SAxBOjb,MA+BnB,eAAC6a,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAWyC,MAAM,QAAQK,QAAS,EAAlC,SACE,4CAAejf,EAAIG,eAAnB,SAEF,cAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCAASlG,WAAWtR,EAAKC,OAAOiV,QAAQ,UAG5C,cAACJ,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,CAAWyC,MAAM,QAAQK,QAAS,EAAlC,UACE,8CADF,IAC4B,iCAASuE,IADrC,IACmDxjB,EAAI4B,SAAS,GADhE,IACqE,IACnE,iCAAS6hB,IAFX,KAE0BzjB,EAAI4B,SAAS,GAFvC,KAE4C,iCAAS8hB,IAAa,IAC/D1jB,EAAI4B,SAAS,QAGlB,cAACsa,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CAAWyC,MAAM,QAAQK,QAAS,EAAlC,SACE,eAACrT,EAAA,EAAD,CACEC,UAAW,cAAC,KAAD,IACXd,QAAQ,YACRe,MAAM,UACNP,QAASkT,EAJX,UAMGvd,EAAM,MAAQ,SANjB,gCAcNoL,GAAYC,aAAW,CAC3B2S,KAAM,CACJ7U,UAAW,OAGb8U,SAAU,CACRpD,OAAQ,YAEVqD,KAAM,CACJlR,MAAO,QAGTmR,UAAW,CACThV,UAAW,KAspBA,IACb8J,KArxBuB,SAACpH,GACxB,OACE,cAAC,KAAD,yBACEpG,WAAY,cAAC,GAAD,KACRoG,GAFN,IAGEqH,QAAS,cAAC,GAAD,IACThR,KAAM,CAAE0D,MAAO,KAAMC,MAAO,QAJ9B,SAME,cAAC,GAAD,QA8wBJ9D,KAAM,kBACNmL,KAAMuV,KACNvb,OAvpB2B,SAAC2E,GAC5B,IAAMW,EAAUpB,KACVnD,EAASC,cACTqL,EAAUC,eACV7C,EAAW8C,eACjB,EAAwBnL,WAAe,CACrCsU,KAAM,GACNzW,MAAO,IAFT,mBAAOD,EAAP,KAAasX,EAAb,KAIA,EAA8BlV,WAAe,IAA7C,mBAAOiY,EAAP,KAAgBC,EAAhB,KACA,EAA0BlY,WAAe,IAAzC,mBAAOwX,EAAP,KAAc4C,EAAd,KACA,EAA0Bpa,WAAe,IAAzC,mBAAOmY,EAAP,KAAcC,EAAd,KACA,EAAgCpY,WAAe,GAA/C,mBAAO4U,EAAP,KAAiBuB,EAAjB,KACA,EAAsBnW,WAAexJ,EAAIO,KAAK,IAA9C,mBAAO2C,EAAP,KAAY+c,EAAZ,KACA,EAA8BzW,WAAexJ,EAAI4B,SAAS,IAA1D,mBAAOiiB,EAAP,KAAgBC,EAAhB,KACA,EAAwBta,WAAe,IAAvC,mBAAOoB,EAAP,KAAa/F,GAAb,KACA,GAA0B2E,WAAe,GAAzC,qBAAO0U,GAAP,MAAc6F,GAAd,MACA,GAA8Bva,YAAe,GAA7C,qBAAO8N,GAAP,MAAgBC,GAAhB,MACA/N,aAAgB,YACA,uCAAG,gCAAAlG,EAAA,6DACfiU,IAAW,GADI,SAEiBhR,EAAa4B,cAAc,WAF5C,uBAEDsZ,EAFC,EAEPra,KAFO,SAIPb,EAAa4B,cAAc,QAAS,CACxCiY,WAAW,IALA,OAGXrC,EAHW,OAOb3W,KAAKhE,MAAK,SAACE,EAAGC,GAAJ,OAAUD,EAAEL,KAAOM,EAAEN,QAEjC2gB,EAAS7F,GACT2D,EAAWD,GACX5c,GAAQkZ,EAAU,IAClB6D,EAASH,EAAQ,IACjBlK,IAAW,GAbI,4CAAH,qDAedU,KACC,IACH,IAsDMwG,GAAW,uCAAG,8BAAAnb,EAAA,6DACd+Z,EADc,eACFjW,IACX0W,KAAOT,EAAKS,KAAK1F,KAAI,SAACxN,GAAD,mBAAC,eACtBA,GADqB,IAExBvD,MAAOqR,WACLA,WAAW9N,EAAKsT,OAASxF,WAAW9N,EAAKwT,WACzC9B,QAAQ,GACV4B,MAAOxF,WAAW9N,EAAKsT,OAAO5B,QAAQ,QAExCe,EAAK4E,OAAS/e,EACdqU,IAAW,GACLrQ,EAAMlH,EAAIC,IAAM,kBAXJ,SAYZ+L,IACHC,KAAK/E,EAAKmW,GACV/Y,MAAK,WACJiT,IAAW,GACXpO,EAAO,sCACP0I,EAAS,oBACT4C,OAED3P,OAAM,SAACC,GACNoE,EAAOpE,EAAO,SACdwS,IAAW,MAtBG,OAwBlBA,IAAW,GAxBO,2CAAH,qDA2BjB,OAAID,GAAgB,cAACsB,GAAA,EAAD,CAASC,eAAe,GAAGC,iBAAiB,KAG5D,eAAC3O,EAAA,EAAD,CAAM4D,UAAWL,EAAQwR,KAAzB,UACE,cAAC5U,EAAA,EAAD,CAAOC,MAAM,uBACb,cAACC,EAAA,EAAD,UACE,eAACE,EAAA,EAAD,CAAMC,WAAS,EAAC2D,QAAS,EAAzB,UACE,cAAC5D,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,eAACxO,EAAA,EAAD,CAAasD,UAAWL,EAAQ0R,KAAMpU,KAAK,QAA3C,UACE,eAACmX,GAAA,EAAD,CAAWnS,UAAU,SAASjC,UAAWL,EAAQyR,SAAjD,qBACW,MACT,cAACH,GAAA,EAAD,CAAM7R,GAAG,kBAAkBxF,OAAO,SAAlC,uBAGC,SACD,sBACEyC,MAAO,CACL0B,MAAO9L,EAAIK,SACXoiB,OAAQ,WAEVlX,QAAO,sBAAE,4BAAAjI,EAAA,sEAECiD,EAAa4B,cAAc,UAAW,CAC1CiY,WAAW,IAHR,OACDqB,EADC,OAKLra,KACFsa,EAAWD,GACXtY,EAAO,gCAAiC,WAPjC,2CALX,6BANF,OAyBA,cAAC+P,GAAA,EAAD,CACE9X,MAAOugB,EACPzW,SAAU,SAACnB,EAAOqY,GACZA,GAAYA,EAAStc,IAAI8b,EAASQ,IAExCjJ,QAASsI,EACTrI,eAAgB,SAACuI,GAAD,OAAWA,EAAMP,eACjC9H,YAAa,SAAC5S,GAAD,OACX,cAAC,IAAD,2BACMA,GADN,IAEEjF,MAAM,GACNsJ,QAAQ,WACRC,KAAK,mBAMf,cAACN,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,eAACxO,EAAA,EAAD,CAAasD,UAAWL,EAAQ0R,KAAMpU,KAAK,QAA3C,UACE,cAACmX,GAAA,EAAD,CAAWnS,UAAU,SAASjC,UAAWL,EAAQyR,SAAjD,iBAGA,cAACwB,GAAA,EAAD,CACE1V,UAAQ,EACR7J,MAAO8B,EACPgI,SAAU,SAACnB,GACTkW,EAAOlW,EAAMpC,OAAOvG,QAEtBwf,cAAY,EACZ3P,WAAS,EACTlG,QAAQ,WACR+K,YAAY,QATd,SAWG9V,EAAIO,KAAK6X,KAAI,SAAClV,EAAK7B,GAAN,OACZ,cAACiO,GAAA,EAAD,CAAsBlO,MAAO8B,EAA7B,SACGA,GADY7B,aAOvB,cAACqJ,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,SACE,cAACJ,EAAA,EAAD,CAAasD,UAAWL,EAAQ0R,KAAMpU,KAAK,QAA3C,SACE,eAACN,EAAA,EAAD,CAAMC,WAAS,EAAC2D,QAAS,EAAzB,UACE,cAAC5D,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,cAACC,GAAA,EAAD,CACE9X,MAAOwJ,EACPM,SAAU,SAACnB,EAAOqY,GACZA,GAAYA,EAAStc,KACvBjB,GAAQud,GACRzC,EAAY,KAGhBxG,QAAS6H,EACT5H,eAAgB,SAACxO,GAAD,gBAAaA,EAAK3H,OAClCqW,YAAa,SAAC5S,GAAD,OACX,cAAC,IAAD,2BACMA,GADN,IAEEjF,MAAM,GACNsJ,QAAQ,WACRC,KAAK,gBAMb,cAACN,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,cAACxO,EAAA,EAAD,CAAasD,UAAWL,EAAQ0R,KAAMpU,KAAK,QAA3C,SACE,cAAC2V,GAAA,EAAD,CACE1V,UAAQ,EACR7J,MAAOyiB,EACP3Y,SAAU,SAACnB,GACT+Z,EAAW/Z,EAAMpC,OAAOvG,OACxBue,EAAY,IAEdiB,cAAY,EACZ3P,WAAS,EACTlG,QAAQ,WACR+K,YAAY,WAVd,SAYG9V,EAAI4B,SAASwW,KAAI,SAAC4L,EAAK3iB,GAAN,OAChB,cAACiO,GAAA,EAAD,CAAsBlO,MAAO4iB,EAA7B,SACGA,GADY3iB,YAOvB,cAACqJ,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,cAAC,IAAD,CACEhI,WAAS,EACT6E,YAAY,MACZrU,MAAM,WACNsJ,QAAQ,WACRC,KAAK,QACL7H,KAAK,SACL8H,UAAQ,EACR7J,MAAOgd,EACPlT,SAAU,SAACnB,GACL8Z,IAAY7jB,EAAI4B,SAAS,GAC3B+d,EAAYjH,WAAW3O,EAAMpC,OAAOvG,QAEpCue,EAAYrY,SAASyC,EAAMpC,OAAOvG,SAGtC+J,WAAY,CACV+R,eACE,cAAC7R,EAAA,EAAD,CAAgB8R,SAAS,QAAzB,gBAGJ/S,MAAO,CACLuB,aAAc,QAIpB,cAACjB,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,cAAC,IAAD,CACEhI,WAAS,EACT6E,YAAY,SACZrU,MAAM,aACNsJ,QAAQ,WACRC,KAAK,QACL7H,KAAK,SACL8H,UAAQ,EACR7J,MAAO8c,GACPhT,SAAU,SAACnB,GAAD,OAAWga,GAASha,EAAMpC,OAAOvG,QAC3C+J,WAAY,CACV+R,eACE,cAAC7R,EAAA,EAAD,CAAgB8R,SAAS,QAAzB,SACGnd,EAAIG,kBAIXiK,MAAO,CACLuB,aAAc,QAIpB,cAACjB,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,cAACrN,EAAA,EAAD,CACEC,UAAW,cAAC,KAAD,IACXd,QAAQ,YACRe,MAAM,UACNmF,WAAS,EACT1F,QApQE,WACpB,IAAiB,KAAb6S,GAAmB9W,SAAS8W,IAAa,IACvCyF,IAAY7jB,EAAI4B,SAAS,GAC3BuH,EAAO,mDAAoD,cAI/D,GAAiB,KAAbiV,GAAmB1F,WAAW0F,GAAY,KAAQ,GAChDyF,IAAY7jB,EAAI4B,SAAS,GAQ/B,GAAoB,oBAATsc,IAAkC,KAAVA,GAAnC,CAIA,IAAI+F,EAAU7c,EAAK0W,KAEfoG,EAAmBD,EAAQvhB,QAC7B,SAACK,GAAD,OAAOA,EAAEga,UAAYnS,EAAK9E,IAAM/C,EAAEI,OAAS0gB,KAC3C,GACF,GAAIK,EACFA,EAAiB9F,SACf1F,WAAWwL,EAAiB9F,UAAY1F,WAAW0F,GACrD8F,EAAiBhG,MAAQxF,WAAWwF,QAC/B,CACL,IAAMiG,EACe,IAAnBF,EAAQjhB,OAAe,EAAIihB,EAAQA,EAAQjhB,OAAS,GAAG8C,GAAK,EAC9Dme,EAAQjjB,KAAK,CACX8E,GAAIqe,EACJpH,QAASnS,EAAK9E,GACd7C,KAAM2H,EAAK3H,KACXE,KAAM0gB,EACNzF,WACAF,WAGJ,IAAM7W,EAAQ4c,EAAQhJ,QACpB,SAAC3X,EAAGC,GAAJ,OAAUD,EAAIoV,WAAWnV,EAAC,OAAamV,WAAWnV,EAAC,YACnD,GAEE8Z,EAAO,CACToD,SAAUkB,EAAM7b,GAChBgY,KAAMmG,EACN5c,SAEFqX,EAAQrB,GAER0G,GAAS,QAnCP5a,EAAO,uCAAwC,cAR7CA,EAAO,gEAEL,UAoPU,+BAaR,eAACuB,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,UACE,cAACsX,GAAA,EAAD,CAAWnS,UAAU,SAASjC,UAAWL,EAAQyR,SAAjD,kBAGA,cAAC,GAAD,CACE/X,KAAMA,EACNqX,YAAaA,GACbC,QAASA,EACTxd,KAAG,gBAgWjBiU,KAxVyB,SAACpI,GAC1B,IAAMW,EAAUpB,KACVnD,EAASC,cACTqL,EAAUC,eACV7C,EAAW8C,eACjB,EAAwBnL,WAAe,CACrCsU,KAAM,KADR,mBAAO1W,EAAP,KAAasX,EAAb,KAGA,EAA8BlV,WAAe,IAA7C,mBAAOiY,EAAP,KAAgBC,EAAhB,KACA,EAA0BlY,WAAe,IAAzC,mBAAOwX,EAAP,KAAc4C,EAAd,KACA,EAA0Bpa,WAAe,IAAzC,mBAAOmY,EAAP,KAAcC,EAAd,KACA,EAAgCpY,WAAe,GAA/C,mBAAO4U,EAAP,KAAiBuB,EAAjB,KACA,EAAsBnW,WAAexJ,EAAIO,KAAK,IAA9C,mBAAO2C,EAAP,KAAY+c,EAAZ,KACA,EAA8BzW,WAAexJ,EAAI4B,SAAS,IAA1D,mBAAOiiB,EAAP,KAAgBC,EAAhB,KACA,EAAwBta,WAAe,IAAvC,mBAAOoB,EAAP,KAAa/F,EAAb,KACA,GAA8B2E,YAAe,GAA7C,qBAAO8N,GAAP,MAAgBC,GAAhB,MACA,GAA0B/N,WAAe,GAAzC,qBAAO0U,GAAP,MAAc6F,GAAd,MACAva,aAAgB,YACA,uCAAG,oCAAAlG,EAAA,6DACfiU,IAAW,GADI,kBAGmBhR,EAAa4B,cAAc,WAH9C,uBAGCsZ,EAHD,EAGLra,KAHK,SAKLb,EAAa4B,cAAc,QAAS,CACxCiY,WAAW,IANF,cAITrC,EAJS,OAQX3W,KAAKhE,MAAK,SAACE,EAAGC,GAAJ,OAAUD,EAAEL,KAAOM,EAAEN,QARpB,UAUuBsD,EAAagB,OAC/C,kBACA,CACEzB,GAAIiH,EAAMjH,KAbD,iBAUCqa,EAVD,EAUL/Y,KAMRsX,EAAQ,CACNZ,KAAMqC,EAAYrC,KAClBzW,MAAO8Y,EAAY9Y,QAErB4Y,EAAOE,EAAYjd,KACnB0gB,EAAS7F,GACT2D,EAAWD,GACX5c,EAAQkZ,EAAU,IAClB6D,EAASzB,EAAYwB,OAxBR,kDA0BbxY,EAAO,mCAAoC,SAC3C0I,EAAS,oBACT4C,IA5Ba,QA+Bf8C,IAAW,GA/BI,0DAAH,qDAiCdU,KACC,IACH,IAoDMwG,GAAW,uCAAG,gCAAAnb,EAAA,6DACd+Z,EADc,eACFjW,IACX0W,KAAOT,EAAKS,KAAK1F,KAAI,SAACxN,GAAD,mBAAC,eACtBA,GADqB,IAExBvD,MAAOqR,WACLA,WAAW9N,EAAKsT,OAASxF,WAAW9N,EAAKwT,WACzC9B,QAAQ,GACV4B,MAAOxF,WAAW9N,EAAKsT,OAAO5B,QAAQ,QAElCjV,EAAQgW,EAAKS,KAAK7C,QACtB,SAAC3X,EAAGC,GAAJ,OAAUD,EAAIoV,WAAWnV,EAAC,OAAamV,WAAWnV,EAAC,YACnD,GAEE+c,EAAc,CAChB2B,OAAQ/e,EACR4a,KAAMT,EAAKS,KACX2C,SAAUkB,EAAM7b,GAChBuB,SAjBgB,kBAoBVd,EAAa8B,OAAO,kBAAmB,CAC3CvC,GAAIiH,EAAMjH,GACVsB,KAAMkZ,IAtBQ,OAwBhBzO,EAAS,oBACT4C,IAzBgB,kDA2BhBtL,EAAO,KAAMnF,KAAM,SA3BH,0DAAH,qDA+BjB,OAAIsT,GAAgB,cAACsB,GAAA,EAAD,CAASC,eAAe,GAAGC,iBAAiB,KAG5D,eAAC3O,EAAA,EAAD,CAAM4D,UAAWL,EAAQwR,KAAzB,UACE,cAAC5U,EAAA,EAAD,CAAOC,MAAM,0BACb,cAACC,EAAA,EAAD,UACE,eAACE,EAAA,EAAD,CAAMC,WAAS,EAAC2D,QAAS,EAAzB,UACE,cAAC5D,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,eAACxO,EAAA,EAAD,CAAasD,UAAWL,EAAQ0R,KAAMpU,KAAK,QAA3C,UACE,cAACmX,GAAA,EAAD,CAAWnS,UAAU,SAASjC,UAAWL,EAAQyR,SAAjD,mBAGA,cAACjG,GAAA,EAAD,CACE9X,MAAOugB,EACPzW,SAAU,SAACnB,EAAOqY,GACZA,GAAYA,EAAStc,IAAI8b,EAASQ,IAExCjJ,QAASsI,EACTrI,eAAgB,SAACuI,GAAD,OAAWA,EAAMP,eACjC9H,YAAa,SAAC5S,GAAD,OACX,cAAC,IAAD,2BACMA,GADN,IAEEjF,MAAM,GACNsJ,QAAQ,WACRC,KAAK,mBAMf,cAACN,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,eAACxO,EAAA,EAAD,CAAasD,UAAWL,EAAQ0R,KAAMpU,KAAK,QAA3C,UACE,cAACmX,GAAA,EAAD,CAAWnS,UAAU,SAASjC,UAAWL,EAAQyR,SAAjD,iBAGA,cAACwB,GAAA,EAAD,CACE1V,UAAQ,EACR7J,MAAO8B,EACPgI,SAAU,SAACnB,GACTkW,EAAOlW,EAAMpC,OAAOvG,QAEtBwf,cAAY,EACZ3P,WAAS,EACTlG,QAAQ,WACR+K,YAAY,QATd,SAWG9V,EAAIO,KAAK6X,KAAI,SAAClV,EAAK7B,GAAN,OACZ,cAACiO,GAAA,EAAD,CAAsBlO,MAAO8B,EAA7B,SACGA,GADY7B,aAOvB,cAACqJ,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,SACE,cAACJ,EAAA,EAAD,CAAasD,UAAWL,EAAQ0R,KAAMpU,KAAK,QAA3C,SACE,eAACN,EAAA,EAAD,CAAMC,WAAS,EAAC2D,QAAS,EAAzB,UACE,cAAC5D,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,cAACC,GAAA,EAAD,CACE9X,MAAOwJ,EACPM,SAAU,SAACnB,EAAOqY,GACZA,GAAYA,EAAStc,KACvBjB,EAAQud,GACRzC,EAAY,KAGhBxG,QAAS6H,EACT5H,eAAgB,SAACxO,GAAD,gBAAaA,EAAK3H,OAClCqW,YAAa,SAAC5S,GAAD,OACX,cAAC,IAAD,2BACMA,GADN,IAEEjF,MAAM,GACNsJ,QAAQ,WACRC,KAAK,gBAMb,cAACN,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,cAACxO,EAAA,EAAD,CAAasD,UAAWL,EAAQ0R,KAAMpU,KAAK,QAA3C,SACE,cAAC2V,GAAA,EAAD,CACE1V,UAAQ,EACR7J,MAAOyiB,EACP3Y,SAAU,SAACnB,GACT+Z,EAAW/Z,EAAMpC,OAAOvG,OACxBue,EAAY,IAEdiB,cAAY,EACZ3P,WAAS,EACTlG,QAAQ,WACR+K,YAAY,WAVd,SAYG9V,EAAI4B,SAASwW,KAAI,SAAC4L,EAAK3iB,GAAN,OAChB,cAACiO,GAAA,EAAD,CAAsBlO,MAAO4iB,EAA7B,SACGA,GADY3iB,YAOvB,cAACqJ,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,cAAC,IAAD,CACEhI,WAAS,EACT6E,YAAY,MACZrU,MAAM,WACNsJ,QAAQ,WACRC,KAAK,QACL7H,KAAK,SACL8H,UAAQ,EACR7J,MAAOgd,EACPlT,SAAU,SAACnB,GACL8Z,IAAY7jB,EAAI4B,SAAS,GAC3B+d,EAAYjH,WAAW3O,EAAMpC,OAAOvG,QAEpCue,EAAYrY,SAASyC,EAAMpC,OAAOvG,SAGtC+J,WAAY,CACV+R,eACE,cAAC7R,EAAA,EAAD,CAAgB8R,SAAS,QAAzB,gBAGJ/S,MAAO,CACLuB,aAAc,QAIpB,cAACjB,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,cAAC,IAAD,CACEhI,WAAS,EACT6E,YAAY,SACZrU,MAAM,aACNsJ,QAAQ,WACRC,KAAK,QACL7H,KAAK,SACL8H,UAAQ,EACR7J,MAAO8c,GACPhT,SAAU,SAACnB,GAAD,OAAWga,GAASha,EAAMpC,OAAOvG,QAC3C+J,WAAY,CACV+R,eACE,cAAC7R,EAAA,EAAD,CAAgB8R,SAAS,QAAzB,SACGnd,EAAIG,kBAIXiK,MAAO,CACLuB,aAAc,QAIpB,cAACjB,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAIoO,GAAI,EAAvB,SACE,cAACrN,EAAA,EAAD,CACEC,UAAW,cAAC,KAAD,IACXd,QAAQ,YACRe,MAAM,UACNmF,WAAS,EACT1F,QAhPE,WACpB,IAAiB,KAAb6S,GAAmB9W,SAAS8W,IAAa,IACvCyF,IAAY7jB,EAAI4B,SAAS,GAC3BuH,EAAO,mDAAoD,cAI/D,GAAiB,KAAbiV,GAAmB1F,WAAW0F,GAAY,KAAQ,GAChDyF,IAAY7jB,EAAI4B,SAAS,GAQ/B,GAAc,KAAVsc,IAAgC,oBAATA,GAA3B,CAIA,IAAI+F,EAAU7c,EAAK0W,KAEfoG,EAAmBD,EAAQvhB,QAC7B,SAACK,GAAD,OAAOA,EAAEga,UAAYnS,EAAK9E,IAAM/C,EAAEI,OAAS0gB,KAC3C,GACF,GAAIK,EACFA,EAAiB9F,SACf1F,WAAWwL,EAAiB9F,UAAY1F,WAAW0F,GACrD8F,EAAiBhG,MAAQxF,WAAWwF,QAC/B,CACL,IAAMiG,EACe,IAAnBF,EAAQjhB,OAAe,EAAIihB,EAAQA,EAAQjhB,OAAS,GAAG8C,GAAK,EAC9Dme,EAAQjjB,KAAK,CACX8E,GAAIqe,EACJpH,QAASnS,EAAK9E,GACd7C,KAAM2H,EAAK3H,KACXE,KAAM0gB,EACNzF,WACAF,WAGJ,IAAM7W,EAAQ4c,EAAQhJ,QACpB,SAAC3X,EAAGC,GAAJ,OAAUD,EAAIoV,WAAWnV,EAAC,OAAamV,WAAWnV,EAAC,YACnD,GAEE8Z,EAAO,CACToD,SAAUkB,EAAM7b,GAChBgY,KAAMmG,EACN5c,SAEFqX,EAAQrB,QAjCNlU,EAAO,uCAAwC,cAR7CA,EAAO,gEAEL,UAgOU,+BAaR,eAACuB,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,UACE,cAACsX,GAAA,EAAD,CAAWnS,UAAU,SAASjC,UAAWL,EAAQyR,SAAjD,kBAGA,cAAC,GAAD,CAAM/X,KAAMA,EAAMqX,YAAaA,GAAaC,QAASA,gBAwCjEvF,QAAS,CAAE1X,MAAO,mBAClB6S,KAlCgC,SAACvH,GAAD,OAChC,cAACwH,GAAA,EAAD,2BAAUxH,GAAV,aACE,eAACyH,GAAA,EAAD,WACE,cAAC,KAAD,CAAWxB,OAAO,OAClB,cAAC4C,GAAA,EAAD,CAAgB5C,OAAO,WAAW6C,UAAU,UAA5C,SACE,cAAC,KAAD,CAAW7C,OAAO,oBAEpB,cAACoR,GAAA,EAAD,CAAYpR,OAAO,OAAnB,SACE,eAACK,GAAA,EAAD,WACE,cAAC,KAAD,CAAWL,OAAO,OAClB,cAAC4C,GAAA,EAAD,CAAgB5C,OAAO,UAAU6C,UAAU,QAA3C,SACE,cAAC,KAAD,CAAW7C,OAAO,WAEpB,cAAC,KAAD,CAAWA,OAAO,SAClB,cAAC,KAAD,CAAWA,OAAO,SAClB,cAACqR,GAAA,EAAD,CAAarR,OAAO,aACpB,cAAC,KAAD,CAAWA,OAAO,UAClB,cAAC,KAAD,CAAWA,OAAO,eAGtB,cAAC,KAAD,CAAWA,OAAO,QAClB,cAAC,KAAD,CAAWA,OAAO,UAClB,cAAC,KAAD,CAAWA,OAAO,uBC//BlBmO,GAAc,SAACpU,GAAD,OAClB,cAAC+F,GAAA,EAAD,2BAAY/F,GAAZ,aACE,cAAC6J,GAAA,EAAD,CAAW5D,OAAO,eAAeC,UAAQ,EAAClI,QAAQ,iBAsBhDkY,GAAgB,SAAClW,GACrB,IAAM5D,EAASC,cACThC,EAAOwT,OAAOC,KAAK9N,EAAM3F,MAAMgR,KAAI,SAACxN,GAAD,OAAUmC,EAAM3F,KAAKwD,MAC9D,EAA0BpB,WAAe,IAAzC,mBAAO8a,EAAP,KAAcC,EAAd,KACMC,EAAU,GACV1F,EAAU,GAChB1X,EAAKoR,SAAQ,SAACzR,GACZA,EAAM+W,KAAKtF,SAAQ,SAAC5N,GAClB4Z,EAAQxjB,KAAK,CACX8E,GAAI8E,EAAKmS,QACT9Z,KAAM2H,EAAK3H,KACXE,KAAMyH,EAAKzH,KACXib,SAAU1F,WAAW9N,EAAKwT,kBAIhC,IAAK,IAAI/c,EAAQ,EAAGA,EAAQmjB,EAAQxhB,OAAQ3B,IAAS,CACnD,IAAMuB,EAAO,2BACR4hB,EAAQnjB,IADA,IAEX+c,SAAU1F,WAAW8L,EAAQnjB,GAAO+c,YAElCqG,EAAezkB,EAAI0C,OAAOoc,EAASlc,GACX,IAAxB6hB,EAAazhB,OACf8b,EAAQ9d,KAAK4B,GACoB,IAAxB6hB,EAAazhB,UACtByhB,EAAeA,EAAa,IACfrG,SACX1F,WAAW+L,EAAarG,UAAY1F,WAAW9V,EAAQwb,WAI7D,IADA,IAAMsG,EAAc,GACXrjB,EAAQ,EAAGA,EAAQyd,EAAQ9b,OAAQ3B,IAAS,CACnD,IAAMuB,EAAUkc,EAAQzd,GACpBojB,EAAezkB,EAAI0C,OAAOgiB,EAAa9hB,GAAS,GACxB,IAAxB6hB,EAAazhB,OACf0hB,EAAY1jB,KAAK,CACf+b,QAASna,EAAQkD,GACjB7C,KAAML,EAAQK,KACdoE,MAAM,eACHzE,EAAO,KADL,UACmBA,EAAQwb,cAIlCqG,EAAeA,EAAa,IACfpd,MAAb,2BACKod,EAAapd,OADlB,kBAEGzE,EAAO,KAFV,UAEwBA,EAAQwb,YAIpCsG,EAAYthB,MAAK,SAACE,EAAGC,GAAJ,OAAWD,EAAEL,KAAOM,EAAEN,KAAO,EAAIM,EAAEN,KAAOK,EAAEL,MAAQ,EAAI,KACzE,IASM0hB,EAAU,uCAAG,WAAO5H,EAAS6H,EAAW3hB,GAA3B,SAAAK,EAAA,sEAUX0I,IACHC,KADG,UAECjM,EAAIC,IAFL,0BAGF2a,OAAOjR,OAAO2a,GAAOlM,KAAI,SAACxN,GAAD,mBAAC,eACrBA,GADoB,IAEvBsT,MAAO,EACPsC,WAAY,IAAIza,WAGnBzB,MAAK,SAACugB,GACL1b,EAAO,+BAAgC,cAExCrE,OAAM,SAACggB,GACN9f,QAAQC,IAAI6f,GACZ3b,EAAO,iBAAkB,YAxBZ,2CAAH,0DA4BhB,OAA0B,GAAtBub,EAAY1hB,OACP,qBAAKoH,MAAO,CAAE2O,QAAS,IAAvB,gCAGL,qCACE,qBACE3O,MAAO,CACL2a,QAAS,OACTC,eAAgB,MAChBjM,QAAS,sBAJb,SAOE,cAACnN,EAAA,EAAD,CACEL,QAASoZ,EACT9Y,UAAW,cAAC,KAAD,IACXd,QAAQ,YACRe,MAAM,UAJR,gCASF,eAACkQ,GAAA,EAAD,CAAOhR,KAAK,QAAZ,UACE,cAACiR,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,mBACA,cAACA,GAAA,EAAD,mBACA,cAACA,GAAA,EAAD,uBACA,eAACA,GAAA,EAAD,CAAWyC,MAAM,SAASxU,MAAO,CAAE8D,MAAO,OAA1C,wBACclO,EAAIG,eADlB,YAKJ,cAACic,GAAA,EAAD,UACGsI,EAAYtM,KAAI,SAACxN,EAAM7H,GAAP,OACf6X,OAAOC,KAAKjQ,EAAKvD,OAAO+Q,KAAI,SAACjV,EAAMsW,GAAP,OAC1B,eAACyC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,UAAYvR,EAAK3H,OACjB,cAACkZ,GAAA,EAAD,UAAYhZ,IACZ,cAACgZ,GAAA,EAAD,UAAYvR,EAAKvD,MAAMlE,KACvB,cAACgZ,GAAA,EAAD,CAAWyC,MAAM,SAAjB,SACE,cAAC,IAAD,CACE9I,YAAY,OACZ/K,QAAQ,WACRC,KAAK,QACL7H,KAAK,SACLua,WAAY,CAAEtT,MAAO,CAAE6a,UAAW,WAClC/Z,SAAU,SAACnB,IAnFZ,SAAC3I,EAAO2b,EAAS5Z,GAClC,IAAI+hB,EAAS,eAAQZ,GACrBY,EAAUnI,GAAW,CACnBoI,WAAYzM,WAAWtX,GACvBwjB,UAAWzhB,EACX4Z,WAEFwH,EAASW,GA6EWE,CAAWrb,EAAMpC,OAAOvG,MAAOwJ,EAAKmS,QAAS5Z,UAZrD,UAAkBJ,EAAlB,YAAuB0W,mBAwCxB,IACbtF,KAjBuB,SAACpH,GACxB,OACE,cAAC,KAAD,2BACMA,GADN,IAEEsH,mBAAmB,EACnBD,QAAS,cAAC,GAAD,IACTzN,YAAY,EACZ4V,WAAW,EACXC,OAAO,EACP6I,oBAAqB,CAAEC,aAAcvf,QAPvC,SASE,cAAC,GAAD,QAOJ9C,KAAM,yBACNmL,KAAMmX,M,0CCnOFpE,GAAc,SAACpU,GAAD,OAClB,eAAC+F,GAAA,EAAD,2BAAY/F,GAAZ,cACE,cAACiJ,GAAA,EAAD,CACET,QAASvV,EAAIO,KAAK6X,KAAI,SAACxN,GAAD,MAAW,CAAE9E,GAAI8E,EAAM3H,KAAM2H,MACnDoI,OAAO,MACPvR,MAAM,MACNsJ,QAAQ,WACRkI,UAAQ,IAEV,cAAC2D,GAAA,EAAD,CAAW5D,OAAO,aAAaC,UAAQ,EAAClI,QAAQ,aAChD,cAAC6L,GAAA,EAAD,CAAW5D,OAAO,WAAWC,UAAQ,EAAClI,QAAQ,kBAI5Cya,G,mKACJ,SAAUC,GACR,IAAIC,EAAM,GAUV,OATAA,GAAG,UAAOD,EAAOzlB,EAAI4B,SAAS,IAAM6jB,EAAOzlB,EAAI4B,SAAS,IAAM,EAA3D,YACD5B,EAAI4B,SAAS,GACZ,MACH8jB,GAAG,UAAOD,EAAOzlB,EAAI4B,SAAS,IAAM6jB,EAAOzlB,EAAI4B,SAAS,IAAM,EAA3D,YACD5B,EAAI4B,SAAS,GACZ,MACH8jB,GAAG,UAAOD,EAAOzlB,EAAI4B,SAAS,IAAM6jB,EAAOzlB,EAAI4B,SAAS,IAAM,EAA3D,YACD5B,EAAI4B,SAAS,M,oBAIjB,WAAU,IAAD,OACDqiB,EAAUjkB,EAAIoD,KAClBwN,KAAK7D,MAAM4Y,QAAQvN,KAAI,SAACxN,EAAMvJ,GAAP,mBAAC,eACnBuJ,GADkB,IAErB9E,GAAIzE,EACJgG,MAAO,EAAKue,UAAUhb,EAAKvD,YAE7B,QAEF,OACE,gCACE,sBACE+C,MAAO,CACL2a,QAAS,OACThM,QAAS,YACT8M,OAAQ,iBACRC,aAAc,EACdna,aAAc,GACdoa,WAAY,IAPhB,UAUE,sBACE3b,MAAO,CACLoC,KAAM,IAFV,UAKE,8CACC,IAAIzG,MAAOigB,wBAEd,sBACE5b,MAAO,CACLoC,KAAM,GAFV,UAKE,oDACA,qBACEpC,MAAO,CACL6b,eAAgB,YAChBlB,QAAS,eACT7W,MAAO,MACPgY,aAAc,wBAIpB,sBACE9b,MAAO,CACLoC,KAAM,GAFV,UAKE,kDACA,qBACEpC,MAAO,CACL6b,eAAgB,YAChBlB,QAAS,eACT7W,MAAO,MACPgY,aAAc,2BAKtB,cAAC,KAAD,CACEC,QAAS,CACP,CACEljB,KAAM,OACNmjB,SAAU,SAAC/J,GAAD,OAASA,EAAIpZ,MACvB0Z,UAAU,GAEZ,CACE1Z,KAAM,MACNmjB,SAAU,SAAC/J,GAAD,OAASA,EAAInZ,KACvByZ,UAAU,GAEZ,CACE1Z,KAAM,QACNmjB,SAAU,SAAC/J,GAAD,OAASA,EAAIhV,SAG3BD,KAAM6c,EACNtd,YAAU,EACV0f,2BAA4B,CAC1BC,mBAAmB,EACnBC,sBAAuB,sB,GA/FA/c,aAuG7ByZ,GAAgB,SAAClW,GACrB,IAAM3F,EAAOwT,OAAOC,KAAK9N,EAAM3F,MAAMgR,KAAI,SAACxN,GAAD,OAAUmC,EAAM3F,KAAKwD,MACxD4Z,EAAU,GACV1F,EAAU,GAChB1X,EAAKoR,SAAQ,SAACzR,GACZA,EAAM+W,KAAKtF,SAAQ,SAAC5N,GAClB4Z,EAAQxjB,KAAK,CACXiC,KAAM2H,EAAK3H,KACXE,KAAMyH,EAAKzH,KACXib,SAAU1F,WAAW9N,EAAKwT,UAC1Blb,IAAK6D,EAAM7D,YAIjB,IAAK,IAAI7B,EAAQ,EAAGA,EAAQmjB,EAAQxhB,OAAQ3B,IAAS,CACnD,IAAMuB,EAAO,2BACR4hB,EAAQnjB,IADA,IAEX+c,SAAU1F,WAAW8L,EAAQnjB,GAAO+c,YAElCqG,EAAezkB,EAAI0C,OAAOoc,EAASlc,GACX,IAAxB6hB,EAAazhB,OACf8b,EAAQ9d,KAAK4B,GACoB,IAAxB6hB,EAAazhB,UACtByhB,EAAeA,EAAa,IACfrG,SACX1F,WAAW+L,EAAarG,UAAY1F,WAAW9V,EAAQwb,WAI7D,IADA,IAoBIoI,EApBE9B,EAAc,GACXrjB,EAAQ,EAAGA,EAAQyd,EAAQ9b,OAAQ3B,IAAS,CACnD,IAAMuB,EAAUkc,EAAQzd,GACpBojB,EAAezkB,EAAI0C,OAAOgiB,EAAa9hB,GAAS,GACxB,IAAxB6hB,EAAazhB,OACf0hB,EAAY1jB,KAAK,CACfiC,KAAML,EAAQK,KACdC,IAAKN,EAAQM,IACbmE,MAAM,eACHzE,EAAO,KADL,UACmBA,EAAQwb,cAIlCqG,EAAeA,EAAa,IACfpd,MAAb,2BACKod,EAAapd,OADlB,kBAEGzE,EAAO,KAFV,UAEwBA,EAAQwb,YAKpC,OACE,mCACGhX,EAAKpE,OAAS,GACb,sBACEoH,MAAO,CACLwJ,YAAa,IAFjB,UAKE,cAAC,KAAD,CACEC,QAAS,WACP,OACE,qBACEzJ,MAAO,CACL2a,QAAS,OACTC,eAAgB,WAChB3a,UAAW,GACXsB,aAAc,IALlB,SAQE,cAACC,EAAA,EAAD,CACEb,QAAQ,YACRe,MAAM,UACND,UAAW,cAAC,KAAD,CAAOkI,SAAS,YAH7B,sBAUNC,UAAW,eACXC,QAAS,kBAAMuS,KAEjB,cAAC,GAAD,CACExZ,IAAK,SAACkH,GAAD,OAASsS,EAAatS,GAC3B9M,KAAMA,EACNue,QAASjB,UAeN,IACbvQ,KATuB,SAACpH,GACxB,OACE,cAAC,KAAD,yBAAMpG,YAAY,GAAWoG,GAA7B,IAAoCqH,QAAS,cAAC,GAAD,IAA7C,SACE,cAAC,GAAD,QAOJnR,KAAM,iBACNmL,KAAMqY,KACNtN,QAAS,CAAE1X,MAAO,mB,oDC5Nd6K,GAAYC,cAAW,SAAC4B,GAAD,MAAY,CACvCuY,KAAM,CACJC,UAAW,GACX5B,QAAS,OACT6B,cAAe,SACfpa,KAAM,IACN,MAAO,CACLyZ,eAAgB,OAChBna,MAAO,YAGXqG,KAAM,iBAAO,CACXxF,SAAU,UACVoM,QAAS,GACT8N,WAAW,OAAD,OCxBC,65GDwBD,eACV9B,QAAS,OACTC,eAAgB,gBAChB8B,WAAY,SACZ,UAAW,CACThb,MAAO9L,EAAIK,YAGfkK,MAAO,OAmCMwc,GAhCM,SAACha,GACpB,IAAQqB,EAA+CrB,EAA/CqB,KAAM7D,EAAyCwC,EAAzCxC,MAAOyc,EAAkCja,EAAlCia,SAAU7Z,EAAwBJ,EAAxBI,GAAIyB,EAAoB7B,EAApB6B,SAAU9C,EAAUiB,EAAVjB,MACvC4B,EAAUpB,GAAUS,GAC1B,OACE,eAAC5C,EAAA,EAAD,CAAM4D,UAAWL,EAAQgZ,KAAzB,UACE,cAAC,KAAD,CAAMvZ,GAAIA,EAAV,SACE,sBAAKY,UAAWL,EAAQyE,KAAxB,UACE,cAAC8U,GAAA,EAAD,CAAK/Y,MAAM,MAAMH,UAAU,OAA3B,SACGmZ,wBAAc9Y,EAAM,CAAE2F,SAAU,YAEnC,eAACkT,GAAA,EAAD,CAAKhC,UAAU,QAAf,UACE,cAACnX,GAAA,EAAD,CAAYC,UAAWL,EAAQnD,MAAOuB,MAAM,gBAA5C,SACGvB,IAEH,cAACuD,GAAA,EAAD,CACE/C,QAAQ,KACRiF,UAAU,KACV5F,MAAO,CACL0B,MAAOA,GAAgB,QAJ3B,SAOGkb,GAAY,mBAKpBpY,GAAY,cAACuY,GAAA,EAAD,IACZvY,MEnCDwY,GAAe,SAACra,GAAD,OACnB,eAAC+F,GAAA,EAAD,2BAAY/F,GAAZ,cACE,cAAC6J,GAAA,EAAD,CAAW5D,OAAO,aAAaC,UAAQ,EAAClI,QAAQ,aAChD,cAAC6L,GAAA,EAAD,CAAW5D,OAAO,WAAWC,UAAQ,EAAClI,QAAQ,aAC9C,cAACgL,GAAA,EAAD,CACE/C,OAAO,WACP6C,UAAU,UACV5C,UAAQ,EACRlI,QAAQ,WAJV,SAME,cAACiL,GAAA,EAAD,CAAaC,WAAW,oBAW1B,cAAClD,GAAA,EAAD,CACEtR,MAAM,SACNuR,OAAO,aACPC,UAAQ,EACRlI,QAAQ,WACRkG,WAAS,SAIToW,GAAS,SAACta,GACd,MAAwBvD,WAAe,IAAvC,mBAAOpC,EAAP,KAAasX,EAAb,KACA,EAAgClV,WAAe,CAC7C8d,YAAa,EACbC,aAAc,EACdC,YAAa,EACbvJ,SAAU,IAJZ,mBAAOwJ,EAAP,KAAiBC,EAAjB,KAMAle,aAAgB,WACd,IAAIme,EAAa,CACfL,YAAa,EACbC,aAAc,EACdC,YAAa,EACbvJ,SAAU,GAGR2J,EAAWhN,OAAOC,KAAK9N,EAAM3F,MAC9BgR,KAAI,SAACxN,GAAD,OAAUmC,EAAM3F,KAAKwD,MACzBxH,MAAK,SAACE,EAAGC,GAAJ,OAAUA,EAAEuC,GAAKxC,EAAEwC,MAC3B4Y,EAAQkJ,GACR,IAAK,IAAI7kB,EAAI,EAAGA,EAAI6kB,EAAS5kB,OAAQD,IAAK,CACxC4kB,EAAWJ,cAAgB7O,WAAWkP,EAAS7kB,GAAGsE,OAClDsgB,EAAW1J,UAAYvF,WAAWkP,EAAS7kB,GAAGwb,WAC9C,IAAK,IAAI9E,EAAI,EAAGA,EAAImO,EAAS7kB,GAAG+a,KAAK9a,OAAQyW,IAC3CkO,EAAWL,aAAe5O,WAAWkP,EAAS7kB,GAAG+a,KAAKrE,GAAGoO,QACzDF,EAAWH,aACT9O,WAAWkP,EAAS7kB,GAAG+a,KAAKrE,GAAG0E,cAC/ByJ,EAAS7kB,GAAG+a,KAAKrE,GAAG2E,SAG1BsJ,EAAYC,KACX,CAAC5a,IAEJ,IAKM+a,EAAS,CACbtb,KAAM,CAAEuY,QAAS,QACjBgD,QAAS,CAAEvb,KAAM,EAAGuP,OAAQ,UAExBiM,EAAO,SAAC,GAA2B,IAAzBzd,EAAwB,EAAxBA,MAAO0d,EAAiB,EAAjBA,IAAKnc,EAAY,EAAZA,MAC1B,OACE,qBAAK1B,MAAO0d,EAAOC,QAAnB,SACE,qBAAK3d,MAAO0d,EAAOtb,KAAnB,SACE,cAAC,GAAD,CACEW,GAAG,UACHrB,MAAOA,EACPsC,KAAM,kBACJ,oBACEhE,MAAO,CACL2O,QAAS,EACTgD,OAAQ,EACR1R,WAAY,IAJhB,SAOGrK,EAAIG,kBAGToK,MAAOA,EACPyc,SAAUiB,SAMpB,OACE,qCACE,sBAAK7d,MAAO0d,EAAOtb,KAAnB,UACE,cAACwb,EAAD,CACEzd,MAAM,qBACN0d,IAAKR,EAASD,YAAYlL,QAAQ,KAEpC,cAAC0L,EAAD,CAAMzd,MAAM,UAAU0d,IAAKR,EAASxJ,SAAS3B,QAAQ,GAAIxQ,MAAM,QAC/D,cAACkc,EAAD,CACEzd,MAAM,SACN0d,IAAKR,EAASH,YAAYhL,QAAQ,GAClCxQ,MAAO2b,EAASH,aAAe,EAAI,MAAQ,UAE7C,cAACU,EAAD,CAAMzd,MAAM,gBAAgB0d,IAAKR,EAASF,aAAajL,QAAQ,QAEjE,qBAAKlS,MA9CG,CAAE2R,OAAQ,UA8ClB,SACE,eAACC,GAAA,EAAD,CAAOhR,KAAK,QAAZ,UACE,cAACiR,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,yBACA,cAACA,GAAA,EAAD,oBACA,cAACA,GAAA,EAAD,wBAGJ,cAACC,GAAA,EAAD,UACGhV,GACCA,EAAKgR,KAAI,SAACxN,EAAMvJ,GACd,OACE,eAAC6a,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,UACE,cAAC6C,GAAA,EAAD,CAAM7R,GAAE,kBAAavC,EAAK9E,IAAM6B,OAAO,SAAvC,SACGiD,EAAK2V,eAGV,cAACpE,GAAA,EAAD,UACE,cAAC6C,GAAA,EAAD,CAAM7R,GAAE,mBAAcvC,EAAK6V,UAAY9Y,OAAO,SAA9C,SACGiD,EAAK8V,wBAGV,cAACvE,GAAA,EAAD,UACE,eAACH,GAAA,EAAD,CAAOhR,KAAK,QAAZ,UACE,cAACiR,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,mBACA,eAACA,GAAA,EAAD,CAAWyC,MAAM,QAAjB,0BACgB5e,EAAIG,eADpB,OAGA,eAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,wBACc5e,EAAIG,eADlB,OAGA,cAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,sBACA,eAACzC,GAAA,EAAD,CAAWyC,MAAM,QAAjB,uBACa5e,EAAIG,eADjB,OAGA,eAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,qBACW5e,EAAIG,eADf,OAGA,eAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,mBACS5e,EAAIG,eADb,OAGA,eAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,oBACU5e,EAAIG,eADd,YAKJ,eAACic,GAAA,EAAD,WACGxR,EAAKkT,KAAK1F,KAAI,SAAC8P,EAAUC,GACxB,OACE,eAACjM,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,UACE,cAAC6C,GAAA,EAAD,CACE7R,GAAE,iBAAY+a,EAASnL,SACvBpV,OAAO,SAFT,SAIGugB,EAAS3d,UAGd,cAAC4R,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACGsJ,EAAS/J,eAEZ,cAAChC,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACGsJ,EAAShK,QAEZ,cAAC/B,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACGsJ,EAAS9J,WAEZ,cAACjC,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCAASsJ,EAAS7gB,UAEpB,cAAC8U,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACGsJ,EAASnmB,MAEZ,cAACoa,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCAASsJ,EAASE,mBAEpB,cAACjM,GAAA,EAAD,CACEyC,MAAM,QACNxU,MAAO,CACL0B,MACEoc,EAASL,OAAS,EAAI,MAAQ,SAJpC,SAOE,iCAASK,EAASL,aAlCPM,MAuCnB,eAACjM,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAW8C,QAAS,EAAGL,MAAM,QAA7B,SACE,6CAAgB5e,EAAIG,eAApB,SAEF,cAACgc,GAAA,EAAD,CAAW8C,QAAS,EAAGL,MAAM,QAA7B,SACE,iCAAShU,EAAK2T,cAEhB,cAACpC,GAAA,EAAD,CAAW8C,QAAS,EAAGL,MAAM,QAA7B,SACE,iCAAShU,EAAKvD,UAEhB,cAAC8U,GAAA,EAAD,CACE8C,QAAS,EACTL,MAAM,QACNxU,MAAO,CACL0B,MAAOlB,EAAKyd,aAAe,EAAI,MAAQ,SAJ3C,SAOE,iCAASzd,EAAKyd,8BAhGXhnB,iBA+GpBinB,GAAb,gKACE,WACE,OACE,8BACE,cAAC,KAAD,yBACE3hB,YAAY,GACRiK,KAAK7D,OAFX,IAGEsH,mBAAmB,EACnBD,QAAS,cAAC,GAAD,IACThR,KAAM,CAAE0D,MAAO,KAAMC,MAAO,QAL9B,SAOE,cAAC,GAAD,aAXV,GAAgCyC,iBAiDjB,IACb2K,KAjCF,gKACE,WAAU,IAAD,OACP,OACE,gCACE,cAAC,KAAD,CACEN,QAAS,WACP,OACE,qBACEzJ,MAAO,CACL2a,QAAS,OACTC,eAAgB,WAChB3a,UAAW,GACXsB,aAAc,IALlB,SAQE,cAACC,EAAA,EAAD,CACEb,QAAQ,YACRe,MAAM,UACND,UAAW,cAAC,KAAD,CAAOkI,SAAS,YAH7B,sBAUNE,QAAS,kBAAM,EAAK0H,gBAEtB,cAAC,GAAD,aAAY3O,IAAK,SAACkH,GAAD,OAAS,EAAKyH,aAAezH,IAAStD,KAAK7D,eA3BpE,GAAiCvD,iBAkC/BvG,KAAM,gBACNmL,KAAMma,KACNpP,QAAS,CAAE1X,MAAO,qB,SC7Rd2lB,GAAe,SAACra,GAAD,OACnB,eAAC+F,GAAA,EAAD,2BAAY/F,GAAZ,cACE,cAAC6J,GAAA,EAAD,CAAW5D,OAAO,aAAaC,UAAQ,EAAClI,QAAQ,aAChD,cAAC6L,GAAA,EAAD,CAAW5D,OAAO,WAAWC,UAAQ,EAAClI,QAAQ,aAC9C,cAACgL,GAAA,EAAD,CACE/C,OAAO,WACP6C,UAAU,UACV5C,UAAQ,EACRlI,QAAQ,WACRlE,QAAS,IACTgQ,cAAe,SAACC,GAAD,MAAiB,CAAEsK,cAAetK,IANnD,SAQE,cAACC,GAAA,EAAD,CAAmBd,WAAW,oBAEhC,cAACD,GAAA,EAAD,CACET,QAASvV,EAAIO,KAAK6X,KAAI,SAACxN,GAAD,MAAW,CAAE9E,GAAI8E,EAAM3H,KAAM2H,MACnDoI,OAAO,MACPvR,MAAM,MACNsJ,QAAQ,WACRkI,UAAQ,SAIRoU,GAAS,SAACta,GACd,MAAwBvD,WAAe,IAAvC,mBAAOpC,EAAP,KAAasX,EAAb,KACA,EAAgClV,WAAe,CAC7C8d,YAAa,EACbC,aAAc,EACdC,YAAa,EACbvJ,SAAU,IAJZ,mBAAOwJ,EAAP,KAAiBC,EAAjB,KAMA,EAAwCle,WAAe,GAAvD,mBAAOgf,EAAP,KAAqBC,EAArB,KACMC,EAAiB,WAAuB,IAAtBC,EAAqB,uDAAP,GACpC,IACE,IAAIvU,EADF,EAEEwU,EAAe,IAAIC,gBAAgB/F,OAAOC,SAAS+F,MAFrD,eAGYF,GAHZ,IAGF,2BAA4B,CAAC,IAApBG,EAAmB,QAC1B3U,EAAU2U,EAAE,GACZ,OALA,8BAOF3U,EAAUnQ,KAAKoB,MAAM+O,GACrB,IAAM4U,EAAcpO,OAAOC,KAAKzG,GAChC,OAAI4U,EAAYznB,QAAQonB,IAAgB,GAAUvU,EAAQuU,GAE1D,MAAOjP,GACP,OAAO,IAGLuP,EAAe,uCAAG,4CAAA3lB,EAAA,yDAChB4lB,EAAaR,EAAe,cAC5BS,EAAWT,EAAe,YAC5BU,GAAc,EAEdF,GAAcC,GAChBE,EAAgBrpB,EAAIS,oBAClB+W,KAAO0R,GACP1R,KAAO2R,IAETC,GAAc,GAEdC,EAAgBjiB,EACbgR,KAAI,SAACxN,GAAD,OAAUA,EAAK4V,cACnB9d,OAAO1C,EAAImB,yBAEZkoB,EAAcrmB,OAAS,GAhBL,iBAiBpB,GAAIomB,EACF,IAASrmB,EAAI,EAAGA,EAAIsmB,EAAcrmB,OAAQD,IAClCumB,EAAgBD,EAActmB,GAAG8E,MAAM,KAI7CwhB,EAActmB,GACZumB,EAAc,GAAK,IAAMA,EAAc,GAAK,IAAMA,EAAc,GAxBlD,gBA2Ba/iB,EAAa4B,cAAc,WAAY,CACtErH,MAAOuoB,EAAcE,KAAK,OA5BR,gBA2BN/oB,EA3BM,EA2BZ4G,KAGFC,EAAQ7G,EAASya,QAAO,SAAC3X,EAAGC,GAAJ,OAAUD,EAAIC,EAAC,SAAY,GACzDklB,EAAgBphB,GA/BI,wBAiCpBohB,EAAgB,GAjCI,4CAAH,qDAoCrBjf,YAAgByf,EAAiB,CAC/BxB,EAASH,YACTxE,OAAOC,SAAS+F,OAElBtf,aAAgB,WACd,IAAIme,EAAa,CACfL,YAAa,EACbC,aAAc,EACdC,YAAa,EACbvJ,SAAU,GAGR2J,EAAWhN,OAAOC,KAAK9N,EAAM3F,MAC9BgR,KAAI,SAACxN,GAAD,OAAUmC,EAAM3F,KAAKwD,MACzBxH,MAAK,SAACE,EAAGC,GAAJ,OAAUA,EAAEuC,GAAKxC,EAAEwC,MAC3B4Y,EAAQkJ,GACR,IAAK,IAAI7kB,EAAI,EAAGA,EAAI6kB,EAAS5kB,OAAQD,IAAK,CAExC4kB,EAAW1J,UAAYvF,WAAWkP,EAAS7kB,GAAGwb,WAC9C,IAAK,IAAI9E,EAAI,EAAGA,EAAImO,EAAS7kB,GAAG+a,KAAK9a,OAAQyW,IAC3CkO,EAAWL,aAAe5O,WAAWkP,EAAS7kB,GAAG+a,KAAKrE,GAAGoO,QACzDF,EAAWH,aACT9O,WAAWkP,EAAS7kB,GAAG+a,KAAKrE,GAAG0L,YAC/ByC,EAAS7kB,GAAG+a,KAAKrE,GAAG2E,SAExBuJ,EAAWL,aAAe5O,WAAWkP,EAAS7kB,GAAGymB,iBAEnD9B,EAAYC,KACX,CAAC5a,IAEJ,IAKM+a,EAAS,CACbtb,KAAM,CAAEuY,QAAS,QACjBgD,QAAS,CAAEvb,KAAM,EAAGuP,OAAQ,UAExBiM,EAAO,SAAC,GAA2B,IAAzBzd,EAAwB,EAAxBA,MAAO0d,EAAiB,EAAjBA,IAAKnc,EAAY,EAAZA,MAC1B,OACE,qBAAK1B,MAAO0d,EAAOC,QAAnB,SACE,qBAAK3d,MAAO0d,EAAOtb,KAAnB,SACE,cAAC,GAAD,CACEW,GAAG,UACHrB,MAAOA,EACPsC,KAAM,kBACJ,oBACEhE,MAAO,CACL2O,QAAS,EACTgD,OAAQ,EACR1R,WAAY,IAJhB,SAOGrK,EAAIG,kBAGToK,MAAOA,EACPyc,SAAUiB,SAMpB,OACE,qCACE,sBAAK7d,MAAO0d,EAAOtb,KAAnB,UACE,cAACwb,EAAD,CAAMzd,MAAM,cAAc0d,IAAKR,EAASD,YAAYlL,QAAQ,KAC5D,cAAC0L,EAAD,CAAMzd,MAAM,UAAU0d,IAAKO,EAAalM,QAAQ,GAAIxQ,MAAM,QAC1D,cAACkc,EAAD,CACEzd,MAAM,SACN0d,IAAKR,EAASH,YAAYhL,QAAQ,GAClCxQ,MAAO2b,EAASH,aAAe,EAAI,MAAQ,UAE7C,cAACU,EAAD,CACEzd,MAAM,aACN0d,KAAMR,EAASH,YAAckB,GAAclM,QAAQ,GACnDxQ,MAAO2b,EAASH,YAAckB,GAAgB,EAAI,MAAQ,UAE5D,cAACR,EAAD,CACEzd,MAAM,gBACN0d,KACER,EAASD,aACRC,EAASH,YAAckB,IACxBlM,QAAQ,QAGd,qBAAKlS,MAtDG,CAAE2R,OAAQ,UAsDlB,SACE,eAACC,GAAA,EAAD,CAAOhR,KAAK,QAAZ,UACE,cAACiR,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,mBACA,cAACA,GAAA,EAAD,oBACA,cAACA,GAAA,EAAD,wBAGJ,cAACC,GAAA,EAAD,UACGhV,GACCA,EAAKgR,KAAI,SAACxN,EAAMvJ,GACd,OACE,eAAC6a,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,UAAYvR,EAAK4V,aACjB,cAACrE,GAAA,EAAD,CACE/R,MAAO,CACL8D,MAAO,OAFX,SAKE,cAAC8Q,GAAA,EAAD,CAAM7R,GAAE,mBAAcvC,EAAK6V,UAAY9Y,OAAO,SAA9C,SACGiD,EAAK8V,wBAGV,cAACvE,GAAA,EAAD,UACE,eAACH,GAAA,EAAD,CAAOhR,KAAK,QAAZ,UACE,cAACiR,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,mBACA,cAACA,GAAA,EAAD,mBACA,eAACA,GAAA,EAAD,CAAWyC,MAAM,QAAjB,wBACc5e,EAAIG,eADlB,OAGA,eAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,wBACc5e,EAAIG,eADlB,OAGA,cAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,sBAIA,eAACzC,GAAA,EAAD,CAAWyC,MAAM,QAAjB,qBACW5e,EAAIG,eADf,OAGA,eAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,mBACS5e,EAAIG,eADb,OAGA,eAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,oBACU5e,EAAIG,eADd,YAKJ,eAACic,GAAA,EAAD,WACGxR,EAAKkT,KAAK1F,KAAI,SAAC8P,EAAUC,GACxB,OACE,eAACjM,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,UACE,cAAC6C,GAAA,EAAD,CACE7R,GAAE,iBAAY+a,EAASnL,SACvBpV,OAAO,SAFT,SAIGugB,EAASjlB,SAGd,cAACkZ,GAAA,EAAD,UAAY+L,EAAS/kB,OACrB,cAACgZ,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACGsJ,EAAS/C,aAEZ,cAAChJ,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACGsJ,EAAShK,QAEZ,cAAC/B,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACGsJ,EAAS9J,WAKZ,cAACjC,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACGsJ,EAASnmB,MAEZ,cAACoa,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCACGlG,WAAWwP,EAAS7gB,OAAOiV,QAAQ,OAGxC,cAACH,GAAA,EAAD,CACEyC,MAAM,QACNxU,MAAO,CACL0B,MACEoc,EAASL,OAAS,EAAI,MAAQ,SAJpC,SAOE,iCAASK,EAASL,aArCPM,MA0CnB,eAACjM,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAW8C,QAAS,EAAGL,MAAM,QAA7B,SACE,mDACgB5e,EAAIG,eADpB,SAIF,cAACgc,GAAA,EAAD,CAAW8C,QAAS,EAAGL,MAAM,QAA7B,SACE,iCAAShU,EAAK2T,cAEhB,cAACpC,GAAA,EAAD,CAAW8C,QAAS,EAAGL,MAAM,QAA7B,SACE,iCAAShU,EAAK6e,2BAEhB,cAACtN,GAAA,EAAD,CACE8C,QAAS,EACTL,MAAM,QACNxU,MAAO,CACL0B,MAAOlB,EAAKid,OAAS,EAAI,MAAQ,SAJrC,SAOE,iCAASjd,EAAKid,cAGlB,eAAC3L,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAW8C,QAAS,EAAGL,MAAM,QAA7B,SACE,+CAAkB5e,EAAIG,eAAtB,SAEF,cAACgc,GAAA,EAAD,CAAW8C,QAAS,EAAGL,MAAM,QAA7B,SACE,0CAEF,cAACzC,GAAA,EAAD,CAAW8C,QAAS,EAAGL,MAAM,QAA7B,SACE,iCAAShU,EAAK4e,oBAEhB,cAACrN,GAAA,EAAD,CACE8C,QAAS,EACTL,MAAM,QAFR,SAOE,6CAGJ,eAAC1C,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAW8C,QAAS,EAAGL,MAAM,QAA7B,SACE,kDAAqB5e,EAAIG,eAAzB,SAEF,cAACgc,GAAA,EAAD,CAAW8C,QAAS,EAAGL,MAAM,QAA7B,SACE,iCAAShU,EAAK2T,cAEhB,cAACpC,GAAA,EAAD,CAAW8C,QAAS,EAAGL,MAAM,QAA7B,SACE,iCAAShU,EAAKvD,UAEhB,cAAC8U,GAAA,EAAD,CACE8C,QAAS,EACTL,MAAM,QACNxU,MAAO,CACL0B,MAAOlB,EAAKyd,aAAe,EAAI,MAAQ,SAJ3C,SAOE,iCAASzd,EAAKyd,8BA9IXhnB,iBA6JpBinB,GAAb,gKACE,WACE,OACE,8BACE,cAAC,KAAD,yBACE3hB,WAAY,cAAC,GAAD,KACRiK,KAAK7D,OAFX,IAGEsH,mBAAmB,EACnBD,QAAS,cAAC,GAAD,IACThR,KAAM,CAAE0D,MAAO,KAAMC,MAAO,QAL9B,SAOE,cAAC,GAAD,aAXV,GAAgCyC,iBAgDjB,IACb2K,KAhCF,gKACE,WAAU,IAAD,OACP,OACE,gCACE,cAAC,KAAD,CACEN,QAAS,WACP,OACE,qBACEzJ,MAAO,CACL2R,OAAQ,GACRgJ,QAAS,QACTE,UAAW,SAJf,SAOE,cAACrZ,EAAA,EAAD,CACEb,QAAQ,YACRe,MAAM,UACND,UAAW,cAAC,KAAD,CAAOkI,SAAS,YAH7B,sBAUNE,QAAS,kBAAM,EAAK0H,gBAEtB,cAAC,GAAD,aAAY3O,IAAK,SAACkH,GAAD,OAAS,EAAKyH,aAAezH,IAAStD,KAAK7D,eA1BpE,GAAiCvD,iBAiC/BvG,KAAM,yBACNmL,KAAMma,KACNpP,QAAS,CAAE1X,MAAO,qB,qBC1Zd2lB,GAAe,SAACra,GAAD,OACnB,eAAC+F,GAAA,EAAD,2BAAY/F,GAAZ,cACE,cAAC6J,GAAA,EAAD,CACE5D,OAAO,aACPC,UAAQ,EACRlI,QAAQ,WACRtJ,MAAM,gBAER,cAACuU,GAAA,EAAD,CACE/C,UAAQ,EACRsC,QAASvV,EAAIO,KAAK6X,KAAI,SAACxN,GAAD,MAAW,CAAE9E,GAAI8E,EAAM3H,KAAM2H,MACnDoI,OAAO,MACPvR,MAAM,MACNsJ,QAAQ,kBAqDRsc,GAAS,SAACta,GACd,MAAwBvD,WAAe,IAAvC,mBAAOpC,EAAP,KAAasX,EAAb,KACAlV,aAAgB,WACd,IAAIoe,EApDY,SAACxgB,GACnB,IAAIsiB,EAAQtiB,EAAK6T,QAAO,SAAC0O,EAAGrmB,GAU1B,OATAqmB,EAAErmB,EAAEJ,KAAJ,uBACMymB,EAAErmB,EAAEJ,MAAQ,IADlB,CAEEI,EAAEwa,KAAK1F,KAAI,SAACxN,GAAD,MAAW,CACpBmS,QAASnS,EAAKmS,QACdsB,aAAczT,EAAKyT,aACnBD,SAAUxT,EAAKwT,SACf7T,MAAOK,EAAKL,YAGTof,IACN,IAmCH,OAlCAD,EAAQ9O,OAAOC,KAAK6O,GACjBtmB,OACA6X,QAAO,SAAC2O,EAAKvmB,GAEZ,OADAumB,EAAIvmB,GAAOqmB,EAAMrmB,GACVumB,IACN,IACLhP,OAAOC,KAAK6O,GAAOtR,KAAI,SAAC/U,GACtB,IAAIwmB,EAAQH,EAAMrmB,GACdymB,EAAW,GACfD,EAAMzR,KAAI,SAAC0F,GACTA,EAAK1F,KAAI,SAACxN,GACRkf,EAAS9oB,KAAK4J,SAGlB8e,EAAMrmB,GAAOymB,KAEflP,OAAOC,KAAK6O,GAAOtR,KAAI,SAAC/U,GACtB,IAAIwF,EAAS,GAeb,OAdA6gB,EAAMrmB,GAAK4X,QAAO,SAAU4J,EAAKzjB,GAW/B,OAVKyjB,EAAIzjB,EAAMid,gBACbwG,EAAIzjB,EAAMid,cAAgB,CACxBA,aAAcjd,EAAMid,aACpBD,SAAU,EACVrB,QAAS3b,EAAM2b,QACfxS,MAAOnJ,EAAMmJ,OAEf1B,EAAO7H,KAAK6jB,EAAIzjB,EAAMid,gBAExBwG,EAAIzjB,EAAMid,cAAcD,UAAYhd,EAAMgd,SACnCyG,IACN,IACH6E,EAAMrmB,GAAOwF,EACNA,KAEF6gB,EAKUK,CACbnP,OAAOC,KAAK9N,EAAM3F,MACfgR,KAAI,SAACxN,GAAD,OAAUmC,EAAM3F,KAAKwD,MACzBlI,QAAO,SAACkI,GAAD,MAA0B,aAAhBA,EAAK9I,UACtBsB,MAAK,SAACE,EAAGC,GAAJ,OAAUA,EAAEuC,GAAKxC,EAAEwC,OAE7B4Y,EAAQkJ,KACP,CAAC7a,IAOJ,OAAsC,GAAlC6N,OAAOC,KAAK9N,EAAM3F,MAAMpE,OAExB,mBACEoH,MAAO,CACL2R,OAAQ,IAFZ,sCASF,mCACE,qBAAK3R,MAdG,CAAE2R,OAAQ,UAclB,SACG3U,GACCwT,OAAOC,KAAKzT,GAAMgR,KAAI,SAAC/U,GACrB,OACE,sBACE+G,MAAO,CACLuB,aAAc,IAFlB,UAKE,oBACEvB,MAAO,CACL2R,OAAQ,EACRgK,WAAY,GACZja,MAAO9L,EAAIK,UAJf,SAOU,QAAPgD,EAAgB,kBAAoBA,IAEvC,eAAC2Y,GAAA,EAAD,CAAOhR,KAAK,QAAZ,UACE,cAACiR,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,UACE,4CAEF,cAACA,GAAA,EAAD,UACE,qDAIN,cAACC,GAAA,EAAD,UACGhV,EAAK/D,GAAK+U,KAAI,SAACxN,EAAMvJ,GAAP,OACb,eAAC6a,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CACE/R,MAAO,CACL8D,MAAO,OAFX,SAKE,cAAC8Q,GAAA,EAAD,CACE7R,GAAE,iBAAYvC,EAAKmS,QAAjB,SACFpV,OAAO,SAFT,SAIGiD,EAAKL,UAGV,cAAC4R,GAAA,EAAD,CACE/R,MAAO,CACL8D,MAAO,OAFX,SAKGtD,EAAKwT,aAlBK/c,sBA+BxBinB,GAAb,gKACE,WACE,OACE,8BACE,cAAC,KAAD,yBACE3hB,YAAY,GACRiK,KAAK7D,OAFX,IAGEsH,mBAAmB,EACnBD,QAAS,cAAC,GAAD,IACThR,KAAM,CAAE0D,MAAO,KAAMC,MAAO,QAL9B,SAOE,cAAC,GAAD,aAXV,GAAgCyC,iBAiDjB,IACb2K,KAjCF,gKACE,WAAU,IAAD,OACP,OACE,gCACE,cAAC,KAAD,CACEN,QAAS,WACP,OACE,qBACEzJ,MAAO,CACL2a,QAAS,OACTC,eAAgB,WAChB3a,UAAW,GACXsB,aAAc,IALlB,SAQE,cAACC,EAAA,EAAD,CACEb,QAAQ,YACRe,MAAM,UACND,UAAW,cAAC,KAAD,CAAOkI,SAAS,YAH7B,sBAUNE,QAAS,kBAAM,EAAK0H,gBAEtB,cAAC,GAAD,aAAY3O,IAAK,SAACkH,GAAD,OAAS,EAAKyH,aAAezH,IAAStD,KAAK7D,eA3BpE,GAAiCvD,iBAkC/BvG,KAAM,cACNmL,KAAM4b,KACN7Q,QAAS,CAAE1X,MAAO,mBChNd0f,I,OAAc,SAACpU,GAAD,OAClB,eAAC+F,GAAA,EAAD,2BAAY/F,GAAZ,cACE,cAACiJ,GAAA,EAAD,CACET,QAASvV,EAAIO,KAAK6X,KAAI,SAACxN,GAAD,MAAW,CAAE9E,GAAI8E,EAAM3H,KAAM2H,MACnDoI,OAAO,MACPvR,MAAM,MACNsJ,QAAQ,WACRkI,UAAQ,IAEV,cAAC2D,GAAA,EAAD,CAAW5D,OAAO,eAAeC,UAAQ,EAAClI,QAAQ,mBAIhDkf,GAAU,SAACld,GACf,MAAwBvD,WAAe,IAAvC,mBAAOpC,EAAP,KAAasX,EAAb,KAsBA,OArBAlV,aAAgB,WACd,IAAI0gB,EAAgB,GACPtP,OAAOC,KAAK9N,EAAM3F,MAC5BgR,KAAI,SAACxN,GAAD,OAAUmC,EAAM3F,KAAKwD,MACzBxH,MAAK,SAACE,EAAGC,GAAJ,OAAUA,EAAEuC,GAAKxC,EAAEwC,MACtB0S,SAAQ,SAAC5N,GACZsf,EAActf,EAAK+W,MAAMP,eAAiB,CACxC+I,aAAczR,WAAW9N,EAAKvD,OAAOiV,QAAQ,GAC7C8N,mBAAoB1R,WAAW9N,EAAKwf,oBAAoB9N,QAAQ,GAChErZ,KAAM2H,EAAK+W,MAAMP,cACjBiJ,aAAczf,EAAKyf,iBAGvBH,EAAgBtP,OAAOC,KAAKqP,GACzB9mB,OACA6X,QAAO,SAAC2O,EAAKvmB,GAEZ,OADAumB,EAAIvmB,GAAO6mB,EAAc7mB,GAClBumB,IACN,IACLlL,EAAQwL,KACP,CAACnd,EAAM3F,OACuB,IAA7BwT,OAAOC,KAAKzT,GAAMpE,OACb,qBAAKoH,MAAO,CAAE2O,QAAS,IAAvB,wBAGL,sBAAK3O,MAAO,CAAE2O,QAAS,IAAvB,UACE,sBACE3O,MAAO,CACL2a,QAAS,OACThM,QAAS,YACT8M,OAAQ,iBACRC,aAAc,EACdna,aAAc,IANlB,UASE,sBACEvB,MAAO,CACLoC,KAAM,GAFV,UAKE,6CACCgL,OAASvW,OAAO,kBAEnB,sBACEmJ,MAAO,CACLoC,KAAM,EACNoa,cAAe,MACf7B,QAAS,QAJb,UAOE,qBACE3a,MAAO,CACLoC,KAAM,GACNyY,UAAW,SAHf,SAME,sDAEF,qBACE7a,MAAO,CACLoC,KAAM,EAEN0Z,aAAc,2BAKtB,eAAClK,GAAA,EAAD,CAAOhR,KAAK,QAAZ,UACE,cAACiR,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAW/R,MAAO,CAAE8D,MAAO,MAAOmT,WAAY,QAA9C,sBAGA,eAAClF,GAAA,EAAD,CACE/R,MAAO,CAAE8D,MAAO,MAAOmT,WAAY,QACnCzC,MAAM,SAFR,0BAIgB5e,EAAIG,eAJpB,OAMA,eAACgc,GAAA,EAAD,CACE/R,MAAO,CAAE8D,MAAO,MAAOmT,WAAY,QACnCzC,MAAM,SAFR,6BAImB5e,EAAIG,eAJvB,OAMA,cAACgc,GAAA,EAAD,CACE/R,MAAO,CAAE8D,MAAO,MAAOmT,WAAY,QACnCzC,MAAM,SAFR,gCAQJ,cAACxC,GAAA,EAAD,UACGxB,OAAOC,KAAKzT,GAAMgR,KAAI,SAAC/U,EAAKhC,GAC3B,OACE,qCACE,eAAC6a,GAAA,EAAD,CACE9R,MAAO,CACLyb,OAAQ,iBACRC,aAAc,GAHlB,UAME,cAAC3J,GAAA,EAAD,UACE,iCAAS/U,EAAK/D,GAAKJ,SAErB,cAACkZ,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCAASxX,EAAK/D,GAAK+mB,uBAErB,cAACjO,GAAA,EAAD,CACEyC,MAAM,SACNxU,MAAO,CAAEyb,OAAQ,oBAEnB,cAAC1J,GAAA,EAAD,CACE/R,MAAO,CAAEyb,OAAQ,kBACjBjH,MAAM,cAGTxX,EAAK/D,GAAKgnB,aAAarnB,OAAS,GAC/B,eAACkZ,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CACE8C,QAAS,EACT7U,MAAO,CAAE8C,YAAa,EAAGod,aAAc,GAFzC,SAIE,eAACtO,GAAA,EAAD,CAAOhR,KAAK,QAAZ,UACE,cAACiR,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,UACE,4CAEF,cAACA,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,gEAC6B5e,EAAIG,eADjC,cAON,cAACic,GAAA,EAAD,UACGhV,EAAK/D,GAAKgnB,aAAajS,KAAI,SAACmS,GAAD,OAC1B,eAACrO,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,UACG3E,KAAO+S,EAAY9S,MAAMxW,OACxB,gBAGJ,cAACkb,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCACGlG,WAAW6R,EAAYzS,QAAQwE,QAAQ,oBAQtD,cAACH,GAAA,EAAD,CAAW8C,QAAS,sBAW7BuL,GAAb,gKACE,WACE,OAAO,cAAC,GAAD,eAAa5Z,KAAK7D,YAF7B,GAAyCvD,iBAKnCihB,GAAgB,SAAC1d,GACrB,IAAI4G,EAEJ,OAAsC,GAAlCiH,OAAOC,KAAK9N,EAAM3F,MAAMpE,OAExB,qBACEoH,MAAO,CACL2O,QAAS,IAFb,+BAUA,gCACE,cAAC,KAAD,CACElF,QAAS,WACP,OACE,qBACEzJ,MAAO,CACL2R,OAAQ,GACRgJ,QAAS,gBAHb,SAME,8BACE,cAACnZ,EAAA,EAAD,CACEb,QAAQ,YACRe,MAAM,UACND,UAAW,cAAC,KAAD,CAAOkI,SAAS,YAH7B,wBAWRC,UAAW,eACXC,QAAS,kBAAMN,KAEjB,cAAC,GAAD,aAAqB3G,IAAK,SAACkH,GAAD,OAASP,EAAWO,IAASnH,QAqBhD,IACb9J,KAAM,wBACNkR,KAnBkB,SAACpH,GACnB,OACE,cAAC,KAAD,2BAEMA,GAFN,IAGEsH,mBAAmB,EACnBD,QAAS,cAAC,GAAD,IACTzN,YAAY,EACZvD,KAAM,CAAE0D,MAAO,KAAMC,MAAO,QAC5BwV,WAAW,EACX1V,QAAS,IACT2V,OAAO,EATT,SAWE,cAAC,GAAD,QAOJpO,KAAMmX,M,qBC3QO,OAA0B,iCCiBnCmF,GAAgB,SAAC,GAAD,IAAGha,EAAH,EAAGA,OAAH,OACpBA,EACE,eAAC5C,GAAA,EAAD,WACE,iCAAS4C,EAAO0Q,gBAChB,uBACC1Q,EAAOia,QACR,uBACCja,EAAOka,kBAER,MA8KSC,GA7Kf,gKACE,WAQE,OAPAja,KAAKlD,QAAU,CACbwR,KAAM,CAAEnD,OAAQ,OAAQ8J,OAAQ,QAChCjZ,OAAQ,CAAEke,OAAQ,IAClBC,SAAU,CAAEhP,OAAQ,UACpBiP,QAAS,CAAEjP,OAAQ,GACnBkP,QAAS,CAAElP,OAAQ,EAAG1R,UAAW,IAE9BuG,KAAK7D,MAAM2D,OAGd,cAACvG,EAAA,EAAD,CAAMC,MAAOwG,KAAKlD,QAAQwR,KAA1B,SACE,eAAC1U,EAAA,EAAD,WACE,sBACEJ,MAAO,CACL2a,QAAS,OACTC,eAAgB,iBAHpB,UAME,gCACE,qBACEhX,IAAKC,GACL7D,MAAO,CACL8D,MAAO,KAETmI,IAAI,SAEN,oBAAIjM,MAAOwG,KAAKlD,QAAQsd,QAAxB,sCACA,mBAAG5gB,MAAOwG,KAAKlD,QAAQsd,QAAvB,+CAGA,mBAAG5gB,MAAOwG,KAAKlD,QAAQsd,QAAvB,8BACA,mBAAG5gB,MAAOwG,KAAKlD,QAAQsd,QAAvB,sBACA,mBAAG5gB,MAAOwG,KAAKlD,QAAQsd,QAAvB,SACE,0DAEF,oBAAI5gB,MAAOwG,KAAKlD,QAAQud,QAAxB,iCACA,oBAAG7gB,MAAOwG,KAAKlD,QAAQsd,QAAvB,+BACoB,iEAEe,GAAlCpa,KAAK7D,MAAM2D,OAAOwa,cACjB,qCACE,oBAAG9gB,MAAOwG,KAAKlD,QAAQud,QAAvB,UACE,mDADF,0BAGA,oBAAG7gB,MAAOwG,KAAKlD,QAAQsd,QAAvB,UACE,8CADF,eAGA,oBAAG5gB,MAAOwG,KAAKlD,QAAQsd,QAAvB,UACE,gDADF,eAGA,oBAAG5gB,MAAOwG,KAAKlD,QAAQsd,QAAvB,UACE,gDADF,iBAMN,gCACE,qBACEhd,IAAKC,GACL7D,MAAO,CACL8D,MAAO,IACPid,QAAS,GAEX9U,IAAI,SAEN,qBACEjM,MAAO,CACL2R,OAAQ,GAFZ,sBAKYnL,KAAK7D,MAAM2D,OAAO5K,MAE9B,cAAC,GAAD,CAAe4K,OAAQE,KAAK7D,MAAM2D,OAAOiR,cAG7C,qBAAKvX,MAAOwG,KAAKlD,QAAQd,OAAzB,kBACA,eAAClC,EAAA,EAAD,CAAMC,WAAS,EAAC2D,QAAS,EAAzB,UACE,eAAC5D,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAf,UACE,cAACiD,GAAA,EAAD,CAAY/C,QAAQ,KAAKqgB,cAAY,EAACxM,MAAM,SAA5C,kBAGA,cAAC9Q,GAAA,EAAD,CAAYsd,cAAY,EAACxM,MAAM,SAA/B,SACGhO,KAAK7D,MAAM2D,OAAO8P,gBAIvB,eAAC9V,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAf,UACE,cAACiD,GAAA,EAAD,CAAY/C,QAAQ,KAAKqgB,cAAY,EAACxM,MAAM,SAA5C,mBAGA,cAAC9Q,GAAA,EAAD,CAAYsd,cAAY,EAACxM,MAAM,SAA/B,SACGhO,KAAK7D,MAAM2D,OAAO3J,MAAMwZ,mBAI/B,qBAAKnW,MAAOwG,KAAKlD,QAAQqd,SAAzB,SACE,eAAC/O,GAAA,EAAD,CAAOhR,KAAK,QAAZ,UACE,cAACiR,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,mBACA,cAACA,GAAA,EAAD,CACE/R,MAAOwG,KAAKlD,QAAQ2d,iBACpBzM,MAAM,QAFR,sBAMA,eAACzC,GAAA,EAAD,CACE/R,MAAOwG,KAAKlD,QAAQ2d,iBACpBzM,MAAM,QAFR,wBAIc5e,EAAIG,eAJlB,OAMA,eAACgc,GAAA,EAAD,CACE/R,MAAOwG,KAAKlD,QAAQ2d,iBACpBzM,MAAM,QAFR,mBAIS5e,EAAIG,eAJb,YAQJ,eAACic,GAAA,EAAD,WACGxL,KAAK7D,MAAM2D,OAAO3J,MAAM+W,KAAK1F,KAAI,SAACxN,EAAMvJ,GAAP,OAChC,eAAC6a,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,UACE,cAAC6C,GAAA,EAAD,CAAM7R,GAAE,iBAAYvC,EAAKmS,QAAjB,SAAiCpV,OAAO,SAAhD,SACGiD,EAAKL,UAGV,cAAC4R,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SAA0BhU,EAAKwT,WAC/B,cAACjC,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SAA0BhU,EAAKsT,QAC/B,cAAC/B,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCAAShU,EAAKvD,YATHhG,MAajB,eAAC6a,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,IACA,cAACA,GAAA,EAAD,CAAWyC,MAAM,UACjB,cAACzC,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,8CAAiB5e,EAAIG,eAArB,SAEF,cAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCAAShO,KAAK7D,MAAM2D,OAAO3J,MAAMwX,iBAGrC,eAACrC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,IACA,cAACA,GAAA,EAAD,CAAWyC,MAAM,UACjB,cAACzC,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,4CAAe5e,EAAIG,eAAnB,SAEF,cAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCAAShO,KAAK7D,MAAM2D,OAAO3J,MAAMM,qBAM3C,cAACqD,EAAA,EAAD,CAAMC,WAAS,EAAC2D,QAAS,EAAzB,SACE,cAAC5D,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,SACE,6BACE,iFA1JmB,SATnC,GAAiCrB,iBCR3B2X,GAAc,SAACpU,GAAD,OAClB,eAAC+F,GAAA,EAAD,2BAAY/F,GAAZ,cACE,cAACgG,GAAA,EAAD,CACEtR,MAAM,SACNuR,OAAO,aACPC,UAAQ,EACRlI,QAAQ,WACRkG,WAAS,IAEX,cAAC2F,GAAA,EAAD,CAAW5D,OAAO,aAAaC,UAAQ,EAAClI,QAAQ,aAChD,cAAC6L,GAAA,EAAD,CAAW5D,OAAO,WAAWC,UAAQ,EAAClI,QAAQ,kBAGrCugB,GAAb,gKACE,WAAU,IAAD,OACP,OACE,gCACE,cAAC,KAAD,CACEzX,QAAS,WACP,OACE,qBACEzJ,MAAO,CACL2a,QAAS,OACTC,eAAgB,WAChB3a,UAAW,GACXsB,aAAc,IALlB,SAQE,cAACC,EAAA,EAAD,CACEb,QAAQ,YACRe,MAAM,UACND,UAAW,cAAC,KAAD,CAAOkI,SAAS,YAH7B,sBAUNE,QAAS,kBAAM,EAAK0H,gBAEtB,cAAC,GAAD,aAAa3O,IAAK,SAACkH,GAAD,OAAS,EAAKyH,aAAezH,IAAStD,KAAK7D,eA3BrE,GAAkCvD,iBA2EnB,IACb2K,KA5CyB,SAACpH,GAC1B,OACE,cAAC,KAAD,yBACEpG,YAAY,GACRoG,GAFN,IAGEsH,mBAAmB,EACnBD,QAAS,cAAC,GAAD,IACThR,KAAM,CAAE0D,MAAO,KAAMC,MAAO,QAL9B,SAOE,eAACsM,GAAA,EAAD,CAAUsC,SAAS,SAAS4V,OAAQ,cAAC,GAAD,IAApC,UACE,cAAC,KAAD,CACEvY,OAAO,KACPvR,MAAM,WACN2I,MAAO,CACLiX,WAAY,UAGhB,cAAC,KAAD,CAAWrO,OAAO,mBAAmBvR,MAAO,eAC5C,cAACmU,GAAA,EAAD,CACE5C,OAAO,iBACP6C,UAAU,UACVpU,MAAM,QACNkb,UAAU,EAJZ,SAME,cAAC,KAAD,CAAW3J,OAAO,oBAEpB,cAAC,KAAD,CAAWA,OAAO,oBAAoBvR,MAAM,QAAQkb,UAAU,IAC9D,cAAC,KAAD,CACE3J,OAAO,uBACPvR,MAAM,WACNkb,UAAU,IAEZ,cAAC,KAAD,CACEA,UAAU,EACV3J,OAAO,cACPvR,MAAK,uBAAkBzB,EAAIG,eAAtB,OAEP,cAAC,KAAD,CAAW6S,OAAO,aAAavR,MAAM,gBAQ3CwB,KAAM,WACNmL,KAAMod,KACNlX,KAAMgX,I,qBChGFZ,GAAgB,SAAC,GAAD,IAAGha,EAAH,EAAGA,OAAH,OACpBA,EACE,eAAC5C,GAAA,EAAD,CAAY8Q,MAAM,QAAlB,UACE,iCAASlO,EAAO0Q,gBAChB,uBACC1Q,EAAOia,QACR,uBACCja,EAAOka,kBAER,MAgLSC,GA/Kf,gKACE,WAQE,OAPAja,KAAKlD,QAAU,CACbwR,KAAM,CAAEnD,OAAQ,OAAQ8J,OAAQ,QAChCjZ,OAAQ,CAAEke,OAAQ,IAClBC,SAAU,CAAEhP,OAAQ,UACpBiP,QAAS,CAAEjP,OAAQ,GACnBkP,QAAS,CAAElP,OAAQ,EAAG1R,UAAW,IAE9BuG,KAAK7D,MAAM2D,OAGd,cAACvG,EAAA,EAAD,CAAMC,MAAOwG,KAAKlD,QAAQwR,KAA1B,SACE,eAAC1U,EAAA,EAAD,WACE,qBACEwD,IAAK,oCACL5D,MAAO,CACL8D,MAAO,KAETmI,IAAI,SAEN,sBACEjM,MAAO,CACL8D,MAAO,QAFX,UAKE,sBACE9D,MAAO,CACL8D,MAAO,MACP6W,QAAS,gBAHb,UAME,oBAAI3a,MAAOwG,KAAKlD,QAAQsd,QAAxB,sCACA,mBAAG5gB,MAAOwG,KAAKlD,QAAQsd,QAAvB,+CAGA,mBAAG5gB,MAAOwG,KAAKlD,QAAQsd,QAAvB,8BACA,mBAAG5gB,MAAOwG,KAAKlD,QAAQsd,QAAvB,sBACA,mBAAG5gB,MAAOwG,KAAKlD,QAAQsd,QAAvB,SACE,0DAEF,oBAAI5gB,MAAOwG,KAAKlD,QAAQud,QAAxB,iCACA,oBAAG7gB,MAAOwG,KAAKlD,QAAQsd,QAAvB,+BACoB,iEAGpB,oBAAG5gB,MAAOwG,KAAKlD,QAAQsd,QAAvB,sCAC2B,oDAEQ,GAAlCpa,KAAK7D,MAAM2D,OAAOwa,cACjB,qCACE,oBAAG9gB,MAAOwG,KAAKlD,QAAQud,QAAvB,UACE,mDADF,0BAGA,oBAAG7gB,MAAOwG,KAAKlD,QAAQsd,QAAvB,UACE,8CADF,eAGA,oBAAG5gB,MAAOwG,KAAKlD,QAAQsd,QAAvB,UACE,gDADF,eAGA,oBAAG5gB,MAAOwG,KAAKlD,QAAQsd,QAAvB,UACE,gDADF,cAKJ,oBAAG5gB,MAAOwG,KAAKlD,QAAQud,QAAvB,UACE,6CACA,4BAAIra,KAAK7D,MAAM2D,OAAO8P,mBAG1B,sBACEpW,MAAO,CACL8D,MAAO,MACP6W,QAAS,eACT0G,cAAe,OAJnB,UAOE,qBACErhB,MAAO,CACL2R,OAAQ,EACRkJ,UAAW,SAHf,sBAMYrU,KAAK7D,MAAM2D,OAAO5K,MAE9B,cAAC,GAAD,CAAe4K,OAAQE,KAAK7D,MAAM2D,OAAOiR,cAG7C,qBAAKvX,MAAOwG,KAAKlD,QAAQd,OAAzB,kBACA,qBAAKxC,MAAOwG,KAAKlD,QAAQqd,SAAzB,SACE,eAAC/O,GAAA,EAAD,CAAOhR,KAAK,QAAZ,UACE,cAACiR,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,mBACA,cAACA,GAAA,EAAD,mBACA,cAACA,GAAA,EAAD,CACE/R,MAAOwG,KAAKlD,QAAQ2d,iBACpBzM,MAAM,QAFR,sBAMA,eAACzC,GAAA,EAAD,CACE/R,MAAOwG,KAAKlD,QAAQ2d,iBACpBzM,MAAM,QAFR,mBAIS5e,EAAIG,eAJb,OAMA,eAACgc,GAAA,EAAD,CACE/R,MAAOwG,KAAKlD,QAAQ2d,iBACpBzM,MAAM,QAFR,mBAIS5e,EAAIG,eAJb,YAQJ,eAACic,GAAA,EAAD,WACGxL,KAAK7D,MAAM2D,OAAOoN,KAAK1F,KAAI,SAACxN,EAAMvJ,GAAP,OAC1B,eAAC6a,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,UACE,iCAASvR,EAAK3H,SAEhB,cAACkZ,GAAA,EAAD,UAAYvR,EAAKzH,OACjB,cAACgZ,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SAA0BhU,EAAKwT,WAC/B,cAACjC,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACGlG,WAAW9N,EAAKsT,OAAO5B,QAAQ,KAElC,cAACH,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCAASlG,WAAW9N,EAAKvD,OAAOiV,QAAQ,SAV7Bjb,MAcjB,eAAC6a,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAWyC,MAAM,QAAQK,QAAS,EAAlC,SACE,4CAAejf,EAAIG,eAAnB,SAEF,cAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCAAShO,KAAK7D,MAAM2D,OAAO+Y,8BAG/B,eAACvN,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAWyC,MAAM,QAAQK,QAAS,EAAlC,SACE,+CAAkBjf,EAAIG,eAAtB,SAEF,cAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCAAShO,KAAK7D,MAAM2D,OAAO8Y,uBAG/B,eAACtN,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAWyC,MAAM,QAAQK,QAAS,EAAlC,SACE,mDAAsBjf,EAAIG,eAA1B,SAEF,cAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCAAShO,KAAK7D,MAAM2D,OAAOrJ,qBAMrC,cAACqD,EAAA,EAAD,CAAMC,WAAS,EAAC2D,QAAS,EAAzB,SACE,eAAC5D,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,UACE,mBAAGT,MAAO,CAAE8D,MAAO,QAAnB,iFAIA,oBAAI9D,MAAO,CAAE2O,QAAS,EAAG1O,UAAW,GAApC,SACE,kFA5JmB,8BATnC,GAAiCb,iB,UC0B3B2X,GAAc,SAACpU,GAAD,OAClB,eAAC+F,GAAA,EAAD,2BAAY/F,GAAZ,cACE,cAACgJ,GAAA,EAAD,CACE/C,OAAO,WACP6C,UAAU,UACV5C,UAAQ,EACRlI,QAAQ,WACRlE,QAAS,IACTgQ,cAAe,SAACC,GAAD,MAAiB,CAAEsK,cAAetK,IANnD,SAQE,cAACC,GAAA,EAAD,CAAmBd,WAAW,oBAEhC,cAACD,GAAA,EAAD,CACET,QAASvV,EAAIO,KAAK6X,KAAI,SAACxN,GAAD,MAAW,CAAE9E,GAAI8E,EAAM3H,KAAM2H,MACnDoI,OAAO,MACPvR,MAAM,MACNsJ,QAAQ,WACRkI,UAAQ,IAEV,cAAC2D,GAAA,EAAD,CAAW5D,OAAO,aAAaC,UAAQ,EAAClI,QAAQ,aAChD,cAAC6L,GAAA,EAAD,CAAW5D,OAAO,WAAWC,UAAQ,EAAClI,QAAQ,kBAG5C2gB,GAAsB,SAAC3e,GAC3B,IAAM4O,EAAenS,WACfL,EAASC,cACf,EAA0BI,WAAe,IAAzC,mBAAOmiB,EAAP,KAAcC,EAAd,KACA,EAA6BpiB,YAAe,GAA5C,mBAAO8N,EAAP,KAAgBuU,EAAhB,KACAriB,aAAgB,WACdoiB,EAAS7e,EAAM2D,OAAOiR,MAAMgK,SAC3B,CAAC5e,IACJ,IAAM+e,EAAYjQ,2BAAgB,CAChC5H,QAAS,kBAAM0H,EAAaG,SAC5BiQ,YAAY,EACZ7I,MAAM,WAAD,4BAAE,WAAO8I,GAAP,yBAAA1oB,EAAA,+EAOLuoB,GAAU,KAEJI,EAAWD,EAAYE,iBATxB,iBA+BH,IApBMC,EAAyB,CAC7B,CACEC,QACE,iHACFC,QAAS,IAEX,CACED,QACE,oEACFC,QACE,wFAEJ,CACED,QAAS,uBACTC,QAAS,wCAGTC,EACFL,EAASM,qBAAqB,QAAQ,GAAGC,UAElCzpB,EAAI,EAAGA,EAAIopB,EAAuBnpB,OAAQD,IAC3CH,EAAUupB,EAAuBppB,GACvCupB,EAAkBA,EAAgBD,QAChCzpB,EAAQwpB,QACRxpB,EAAQypB,SAnCT,OAuCGnlB,EAAMlH,EAAIC,IAAM,aAvCnB,UAwCG+L,IACHC,KAAK/E,EAAK,CACTolB,kBACAG,OAAQd,IAETrnB,MAAK,SAACC,GACL4E,EAAO5E,EAAS6C,KAAM,WAEvBtC,OAAM,SAACP,GACN4E,EAAO5E,EAAS6C,KAAM,YAjDvB,QAoDLykB,GAAU,GApDL,4CAAF,mDAAC,KAuDFjQ,EAAcC,2BAAgB,CAClC5H,QAAS,kBAAM0H,EAAaG,WAE9B,OACE,qCACE,cAAC,IAAD,CACE1R,MAAO,CACL2R,OAAQ,GACR7N,MAAO,OAETnD,QAAQ,WACRgR,OAAO,QACPta,MAAM,cACNuJ,KAAK,QACLE,SAAU,SAACwO,GAAD,OAAOkS,EAASlS,EAAE/R,OAAOvG,QACnCA,MAAOuqB,IAET,eAAC/f,EAAA,EAAD,CACExB,MAAO,CACL2R,OAAQ,GACR1R,UAAW,IAEbU,QAAQ,WACRe,MAAM,UACND,UAAW,cAAC,KAAD,CAAUkI,SAAS,YAC9BxI,QAASugB,EARX,0BAUgB,IACbxU,GAAW,cAACoV,GAAA,EAAD,CAAkB1hB,KAAM,GAAIZ,MAAO,CAAE2b,WAAY,QAE/D,cAACna,EAAA,EAAD,CACExB,MAAO,CACLC,UAAW,GAEbU,QAAQ,YACRe,MAAM,UACND,UAAW,cAAC,KAAD,CAAOkI,SAAS,YAC3BxI,QAASqQ,EAPX,mBAWA,cAAC,GAAD,aAAa5O,IAAK2O,GAAkB5O,QAWpCmG,GAAsB,SAAC,GAAgB,IAAdxC,EAAa,EAAbA,OAC7B,OACE,cAACyC,GAAD,CACE3C,oBAAoB,EACpBC,eAAe,EACfhK,SAAU,oBACViK,OAAQA,EACRC,UAAU,KA0DV2S,GAAgB,SAAClc,EAAMmc,GAC3B,OAAOnc,EAAK0W,KACTpb,QAAO,SAACK,GAAD,OAAOA,EAAEI,OAASnD,EAAI4B,SAAS2hB,MACtCtI,QAAO,SAAC3X,EAAGC,GAAJ,OAAUD,EAAIoV,WAAWnV,EAAC,YAAe,IAE/Cib,GAAO,SAAC,GAAyC,IAAvCpX,EAAsC,EAAtCA,KAAMqX,EAAgC,EAAhCA,YAAaC,EAAmB,EAAnBA,QAASxd,EAAU,EAAVA,IAClCyrB,EAAgBC,eAAhBD,YACR,GAAyB,IAArBvlB,EAAK0W,KAAK9a,OAAc,OAAO,0DACnC,IAAIwgB,EAAKF,GAAclc,EAAM,GACzBqc,EAAKH,GAAclc,EAAM,GACzBsc,EAAKJ,GAAclc,EAAM,GACvBylB,EAAc,SAACzrB,EAAOiC,EAAKhC,GAC/B,IAAIyd,EAAO,eAAQ1X,GACnB0X,EAAQhB,KAAKzc,GAAOgC,GAAOjC,EAC3B,IAAMiG,EAAQyX,EAAQhB,KAAK7C,QACzB,SAAC3X,EAAGC,GAAJ,OACEmV,WAAWpV,GAAKoV,WAAWnV,EAAC,OAAamV,WAAWnV,EAAC,YACvD,GAEFub,EAAQzX,MAAQqR,WAAWrR,GAC3BqX,EAAQI,IAEV,OACE,eAAC9C,GAAA,EAAD,CAAOhR,KAAK,QAAZ,UACE,cAACiR,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,mBACA,cAACA,GAAA,EAAD,CAAWyC,MAAM,QAAjB,kBACA,cAACzC,GAAA,EAAD,CAAWyC,MAAM,QAAjB,sBACA,eAACzC,GAAA,EAAD,CAAWyC,MAAM,SAASxU,MAAO,CAAE8D,MAAO,OAA1C,wBACclO,EAAIG,eADlB,OAGA,eAACgc,GAAA,EAAD,CAAWyC,MAAM,SAASxU,MAAO,CAAE8D,MAAO,OAA1C,wBACclO,EAAIG,eADlB,OAGA,eAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,mBAAgC5e,EAAIG,eAApC,YAGJ,eAACic,GAAA,EAAD,WACGhV,EAAK0W,KAAK1F,KAAI,SAACxN,EAAMvJ,GACpB,OACE,eAAC6a,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,UACE,cAAC6C,GAAA,EAAD,CAAM7R,GAAE,iBAAYvC,EAAKmS,QAAjB,SAAiCpV,OAAO,SAAhD,SACGiD,EAAK3H,SAIV,cAACkZ,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SAA0BhU,EAAKzH,OAC/B,cAACgZ,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SAA0BhU,EAAKwT,WAC/B,cAACjC,GAAA,EAAD,CAAWyC,MAAM,SAAjB,SACG+N,GAAe3sB,EAAIiC,eAClB,cAAC,IAAD,CACE8I,QAAQ,WACRC,KAAK,QACL7H,KAAK,SACL/B,MAAOwJ,EAAKua,WACZzH,WAAY,CAAEtT,MAAO,CAAE6a,UAAW,WAClC/Z,SAAU,SAACnB,GACT8iB,EAAY9iB,EAAMpC,OAAOvG,MAAO,aAAcC,MAIlDuJ,EAAKua,aAGT,cAAChJ,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,cAAC,IAAD,CACE7T,QAAQ,WACRC,KAAK,QACL7H,KAAK,SACL/B,MAAOwJ,EAAKsT,MACZR,WAAY,CAAEtT,MAAO,CAAE6a,UAAW,WAClC/Z,SAAU,SAACnB,GACT8iB,EAAY9iB,EAAMpC,OAAOvG,MAAO,QAASC,QAI/C,cAAC8a,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCACGlG,WAAW9N,EAAKsT,MAAQxF,WAAW9N,EAAKwT,WAAW9B,QAClD,SAxCOjb,MA+CnB,eAAC6a,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAWyC,MAAM,QAAQK,QAAS,EAAlC,SACE,4CAAejf,EAAIG,eAAnB,SAEF,cAACgc,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCAASlG,WAAWtR,EAAKC,OAAOiV,QAAQ,UAG5C,cAACJ,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,CAAWyC,MAAM,QAAQK,QAAS,EAAlC,UACE,8CADF,IAC4B,iCAASuE,IADrC,IACmDxjB,EAAI4B,SAAS,GADhE,IACqE,IACnE,iCAAS6hB,IAFX,KAE0BzjB,EAAI4B,SAAS,GAFvC,KAE4C,iCAAS8hB,IAAa,IAC/D1jB,EAAI4B,SAAS,QAGlB,cAACsa,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CAAWyC,MAAM,QAAQK,QAAS,EAAlC,SACE,eAACrT,EAAA,EAAD,CACEC,UAAW,cAAC,KAAD,IACXd,QAAQ,YACRe,MAAM,UACNP,QAASkT,EAJX,UAMGvd,EAAM,MAAQ,SANjB,kCAcNoL,GAAYC,aAAW,CAC3B2S,KAAM,CACJ7U,UAAW,OAGb8U,SAAU,CACRpD,OAAQ,YAEVqD,KAAM,CACJlR,MAAO,QAGTmR,UAAW,CACThV,UAAW,KA+KA,IACb8O,QAAS,CAAE1X,MAAO,qBAClB2G,OA9K2B,SAAC2E,GAC5B,IAAMW,EAAUpB,KACVnD,EAASC,cACTqL,EAAUC,eACV7C,EAAW8C,eACjB,EAAwBnL,WAAe,CACrCsU,KAAM,GACNzW,MAAO,IAFT,mBAAOD,EAAP,KAAasX,EAAb,KAIA,EAA8BlV,YAAe,GAA7C,mBAAO8N,EAAP,KAAgBC,EAAhB,KACA,EAAgC/N,WAAexJ,EAAIwB,UAAU,IAA7D,mBAAOsrB,EAAP,KAAiBC,EAAjB,KACA,EAA4CvjB,WAAe,IAA3D,mBAAOwjB,EAAP,KAAuBC,EAAvB,KACAzjB,aAAgB,YACA,uCAAG,gCAAAlG,EAAA,6DACfiU,GAAW,GACL2V,EAAapK,OAAOC,SAAS+F,KAAKjhB,MAAM,KACxCslB,EAAoBD,EAAWA,EAAWlqB,OAAS,GACnDkE,EAJS,UAIAlH,EAAIC,IAJJ,qDAIoDktB,GAJpD,SAKTnhB,IACHpE,IAAIV,GACJ5C,MAAK,SAACuE,GACL,IAAMukB,EAAMvkB,EAAOzB,KAAK,GACf6lB,EAALG,GACmB,IACnBA,GACF1O,EAAQ,2BACHtX,GADE,IAEL0W,KAAMsP,EAAItP,KACVzW,MAAOqR,WAAW0U,EAAI/lB,OACtB8lB,kBAAmBC,EAAItnB,SAI5BhB,OAAM,WACLmoB,EAAkB,OArBP,OAuBf1V,GAAW,GAvBI,2CAAH,qDAyBdU,KACC,IACH,IAAMwG,EAAW,uCAAG,8BAAAnb,EAAA,6DACd+Z,EADc,eACFjW,IACX0W,KAAOT,EAAKS,KAAK1F,KAAI,SAACxN,GAAD,mBAAC,eACtBA,GADqB,IAExBvD,MAAOqR,WAAWA,WAAW9N,EAAKsT,OAASxF,WAAW9N,EAAKwT,WAC3DF,MAAOxF,WAAW9N,EAAKsT,OAAO5B,QAAQ,GACtC6I,WAAYzM,WAAW9N,EAAKua,YAAY7I,QAAQ,QAElDe,EAAKhW,MAAQgW,EAAKS,KACf1F,KAAI,SAACxN,GAAD,OAAU8N,WAAW9N,EAAKvD,UAC9B4T,QAAO,SAACoS,EAAY/pB,GAAb,OAAmB+pB,EAAa/pB,IAAG,GAC7C+Z,EAAK4E,OAAS+K,EAAe9pB,IAC7Bma,EAAKoD,SAAWuM,EAAerL,MAAM7b,GACrCuX,EAAK2E,KAAO5gB,EACZic,EAAKyP,SAAWA,EAAS1rB,MACzBic,EAAKhW,MAAQ8T,KAAKmS,MAAmB,IAAbjQ,EAAKhW,OAAe,IAC5CkQ,GAAW,GACLrQ,EAAMlH,EAAIC,IAAM,oBAjBJ,UAkBZ+L,IACHC,KAAK/E,EAAKmW,GACV/Y,MAAK,SAACuE,GACL0O,GAAW,GACXpO,EAAO,wCACP0I,EAAS,sBACT4C,OAED3P,OAAM,SAACC,GACNoE,EAAOpE,EAAO,SACdwS,GAAW,MA5BG,QA8BlBA,GAAW,GA9BO,4CAAH,qDAgCjB,EAA0B/N,WAAe,MAAzC,mBAAOpI,EAAP,KAAc8gB,EAAd,KAIA,OAAI5K,EAAgB,cAACsB,GAAA,EAAD,CAASC,eAAe,GAAGC,iBAAiB,KAC9B,GAAzBkU,EAAehqB,OAEpB,cAACmH,EAAA,EAAD,UACE,cAACK,EAAA,EAAD,+CAKF,eAACL,EAAA,EAAD,CAAM4D,UAAWL,EAAQwR,KAAzB,UACE,cAAC5U,EAAA,EAAD,CAAOC,MAAM,yBACb,eAACC,EAAA,EAAD,WACE,cAACwR,GAAA,EAAD,CAAOhR,KAAK,QAAZ,SACE,eAACoR,GAAA,EAAD,WACE,cAACF,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,6CACC6Q,EAAerL,MAAMP,mBAG1B,cAAClF,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,2CACC6Q,EAAe9pB,SAGpB,cAACgZ,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,4CACC6Q,EAAexM,qBAKxB,eAAC9V,EAAA,EAAD,CAAMC,WAAS,EAAC2D,QAAS,EAAzB,UACE,cAAC5D,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAf,SACE,eAACJ,EAAA,EAAD,CAAasD,UAAWL,EAAQ0R,KAAMpU,KAAK,QAA3C,UACE,cAACmX,GAAA,EAAD,CAAWnS,UAAU,SAASjC,UAAWL,EAAQyR,SAAjD,sBAGA,cAACwB,GAAA,EAAD,CACE1V,UAAQ,EACR7J,MAAO0rB,EAAS1rB,MAChB8J,SAAU,SAACnB,GACTgjB,EAAY,CACV3rB,MAAO2I,EAAMpC,OAAOvG,MACpBK,MAA4B,IAArBsI,EAAMpC,OAAOvG,MAAc,OAGtCwf,cAAY,EACZ3P,WAAS,EACTlG,QAAQ,WACR+K,YAAY,WAZd,SAcG9V,EAAIwB,UAAU4W,KAAI,SAAC0U,EAAUzrB,GAAX,OACjB,cAACiO,GAAA,EAAD,CAAsBlO,MAAO0rB,EAAS1rB,MAAtC,SACG0rB,EAASrrB,OADGJ,aAOvB,cAACqJ,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,EAAf,SACE,eAACJ,EAAA,EAAD,CAAasD,UAAWL,EAAQ0R,KAAMpU,KAAK,QAA3C,UACE,cAACmX,GAAA,EAAD,CAAWnS,UAAU,SAASjC,UAAWL,EAAQyR,SAAjD,6CAGA,eAACkD,GAAA,EAAD,CAAYjhB,MAAOA,EAAO8J,SAtEnB,SAACnB,GACpBmY,EAASnY,EAAMpC,OAAOvG,QAqEwCib,KAAG,EAArD,UACE,cAACiG,GAAA,EAAD,CACElhB,MAAM,MACNmhB,QAAS,cAACC,GAAA,EAAD,IACT/gB,MAAM,QAER,cAAC6gB,GAAA,EAAD,CAAkBlhB,MAAM,KAAKmhB,QAAS,cAACC,GAAA,EAAD,IAAW/gB,MAAM,eAI7D,eAACiJ,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAf,UACE,cAACsX,GAAA,EAAD,CAAWnS,UAAU,SAASjC,UAAWL,EAAQyR,SAAjD,kBAGA,cAAC,GAAD,CACE/X,KAAMA,EACNqX,YAAaA,EACbC,QAASA,EACTxd,KAAG,iBAcjBiT,KA5WkB,SAACpH,GACnB,OACE,cAAC,KAAD,2BACMA,GADN,IAEEsH,mBAAmB,EACnBD,QAAS,cAAC,GAAD,IACTzN,WAAY,cAAC,GAAD,IACZvD,KAAM,CAAE0D,MAAO,KAAMC,MAAO,QAC5BwV,WAAW,EANb,SAQE,eAAClJ,GAAA,EAAD,WACE,cAAC,KAAD,CACEL,OAAO,KACPvR,MAAM,WACN2I,MAAO,CACLiX,WAAY,UAGhB,cAACzL,GAAA,EAAD,CACE5C,OAAO,WACP6C,UAAU,UACVpU,MAAM,QACNkb,UAAU,EAJZ,SAME,cAAC,KAAD,CAAW3J,OAAO,oBAEpB,cAACqR,GAAA,EAAD,CACE1H,UAAU,EACV3J,OAAO,yBACPvR,MAAK,iBAAYzB,EAAIG,eAAhB,OAEP,cAACkkB,GAAA,EAAD,CACE1H,UAAU,EACV3J,OAAO,kBACPvR,MAAK,mBAAczB,EAAIG,eAAlB,OAEP,cAACkkB,GAAA,EAAD,CACE1H,UAAU,EACV3J,OAAO,QACPvR,MAAK,uBAAkBzB,EAAIG,eAAtB,KACLiK,MAAO,CACLiX,WAAY,OACZ4D,UAAW,WAGf,cAAC,KAAD,CAAWjS,OAAO,MAAM2J,UAAU,IAClC,cAAC,KAAD,CAAW3J,OAAO,aAAavR,MAAM,SACrC,cAAC,KAAD,CAAWuR,OAAO,SAAS2J,UAAU,IACrC,cAAC5C,GAAA,EAAD,IACA,cAAC,GAAD,WA4TN9W,KAAM,oBACNmL,KAAMmX,KACNjR,KAjYwB,SAACvH,GACzB,OACE,cAACwH,GAAA,EAAD,2BAAUxH,GAAV,aACE,cAAC,GAAD,eAAyBA,SC5LhB,OAA0B,iC,gCCUnCT,GAAYC,cAAW,SAAC4B,GAAD,MAAY,CACvCuY,KAAM,CACJC,UAAW,GACX5B,QAAS,OACT6B,cAAe,SACfpa,KAAM,IACN,MAAO,CACLyZ,eAAgB,OAChBna,MAAO,YAGXqG,KAAM,iBAAO,CACXxF,SAAU,UACVoM,QAAS,GACT8N,WAAW,OAAD,OCxBC,65GDwBD,eACV9B,QAAS,OACTC,eAAgB,gBAChB8B,WAAY,SACZ,UAAW,CACThb,MAAO9L,EAAIK,YAGfkK,MAAO,OAmCMwc,GAhCM,SAACha,GACpB,IAAQqB,EAA+CrB,EAA/CqB,KAAM7D,EAAyCwC,EAAzCxC,MAAOyc,EAAkCja,EAAlCia,SAAU7Z,EAAwBJ,EAAxBI,GAAIyB,EAAoB7B,EAApB6B,SAAU9C,EAAUiB,EAAVjB,MACvC4B,EAAUpB,GAAUS,GAC1B,OACE,eAAC5C,EAAA,EAAD,CAAM4D,UAAWL,EAAQgZ,KAAzB,UACE,cAAC,KAAD,CAAMvZ,GAAIA,EAAV,SACE,sBAAKY,UAAWL,EAAQyE,KAAxB,UACE,cAAC8U,GAAA,EAAD,CAAK/Y,MAAM,MAAMH,UAAU,OAA3B,SACGmZ,wBAAc9Y,EAAM,CAAE2F,SAAU,YAEnC,eAACkT,GAAA,EAAD,CAAKhC,UAAU,QAAf,UACE,cAACnX,GAAA,EAAD,CAAYC,UAAWL,EAAQnD,MAAOuB,MAAM,gBAA5C,SACGvB,IAEH,cAACuD,GAAA,EAAD,CACE/C,QAAQ,KACRiF,UAAU,KACV5F,MAAO,CACL0B,MAAOA,GAAgB,QAJ3B,SAOGkb,GAAY,mBAKpBpY,GAAY,cAACuY,GAAA,EAAD,IACZvY,M,qBEFD2e,GAAoB,SAACxgB,GAAD,OACxB,eAAC+F,GAAA,EAAD,2BAAY/F,GAAZ,cACE,cAACiJ,GAAA,EAAD,CACE/C,UAAQ,EACRsC,QAASvV,EAAI6B,SAASuW,KAAI,SAACxN,GAAD,MAAW,CAAE9E,GAAI8E,EAAM3H,KAAM2H,MACvDoI,OAAO,OACPvR,MAAM,gBACNsJ,QAAQ,aAEV,cAACgL,GAAA,EAAD,CACE/C,OAAO,WACP6C,UAAU,UACV5C,UAAQ,EACRlI,QAAQ,WACRlE,QAAS,IACTgQ,cAAe,SAACC,GAAD,MAAiB,CAAEsK,cAAetK,IANnD,SAQE,cAACC,GAAA,EAAD,CAAmBd,WAAW,oBAEhC,cAACgE,GAAA,EAAD,CACEjH,OAAO,sBACPjI,QAAQ,WACRkG,WAAS,EACTxP,MAAK,oBACLwR,UAAQ,IAEV,cAAC+C,GAAA,EAAD,CACET,QAASvV,EAAI0B,MAAM0W,KAAI,SAACxN,GAAD,MAAW,CAAE9E,GAAI8E,EAAKxJ,MAAO6B,KAAM2H,EAAKnJ,UAC/DuR,OAAO,QACPvR,MAAM,OACNsJ,QAAQ,aAEV,cAACiL,GAAA,EAAD,CACET,QAASvV,EAAI2B,cAAcyW,KAAI,SAACxN,GAAD,MAAW,CACxC9E,GAAI8E,EAAKxJ,MACT6B,KAAM2H,EAAKnJ,UAEbuR,OAAO,SACPvR,MAAM,SACNsJ,QAAQ,aAEV,cAAC6L,GAAA,EAAD,CAAW5D,OAAO,OAAOvR,MAAM,OAAOsJ,QAAQ,kBAG5CyiB,GAAQ,SAACzgB,GACb,IAAQ3F,EAAS2F,EAAT3F,KACF0gB,EAAS,CACbtb,KAAM,CAAEuY,QAAS,QACjBgD,QAAS,CAAEvb,KAAM,IAEnB,EAA8BhD,WAAe,GAA7C,mBAAOikB,EAAP,KAAgBC,EAAhB,KAEMC,EAAW,uCAAG,sBAAArqB,EAAA,+EAWV0I,IACHpE,IAAI5H,EAAIC,IAAM,8BACdqE,MAAK,SAACuE,GAAD,OAAY6kB,EAAW7kB,EAAOzB,KAAKkV,QAAQ,OAbnC,sDAgBhBtX,QAAQC,IAAR,MAhBgB,wDAAH,qDAoBjB,OADAuE,YAAgBmkB,EAAa,CAACvmB,IAE5B,qBAAKgD,MAAO0d,EAAOtb,KAAnB,SACE,qBAAKpC,MAAO0d,EAAOC,QAAnB,SACE,qBAAK3d,MAAO0d,EAAOtb,KAAnB,SACE,cAAC,GAAD,CACEW,GAAG,UACHiB,KAAM,kBACJ,oBACEhE,MAAO,CACL2O,QAAS,EACTgD,OAAQ,EACR1R,WAAY,IAJhB,SAOGrK,EAAIG,kBAGToK,MAAK,8BAAyBvK,EAAIG,eAA7B,KACL6mB,SAAUyG,EAAQhV,oBAOxBvF,GAAsB,SAAC,GAAgB,IAAdxC,EAAa,EAAbA,OAC7B,OACE,cAACyC,GAAD,CACE3C,oBAAoB,EACpBC,eAAe,EACfhK,SAAU,eACViK,OAAQA,EACRC,UAAU,KAIVid,GAAwB,SAAC7gB,GAC7B,MAAwCvD,WAAe,IAAvD,mBAAO6gB,EAAP,KAAqBwD,EAArB,KACMC,EAAe,uCAAG,8BAAAxqB,EAAA,6DAClBoD,EAAS,CACXhE,OAAQuB,KAAKC,UAAU6I,EAAMghB,eAE/BrnB,EAAM,gCAA4BqG,EAAM2D,OAAO5K,GAAzC,YAA+C5B,oBAAUwC,IACzDQ,EAAMlH,EAAIC,IAAM,gBAAkByG,EALlB,SAMhBsF,IAAMpE,IAAIV,GAAK5C,MAAK,gBAAG8C,EAAH,EAAGA,KAAH,OAAcymB,EAAgBzmB,MANlC,2CAAH,qDAQrBoC,YAAgBskB,EAAiB,IACjC,IAAI9P,EAAW,EACf,OAA2B,GAAvBqM,EAAarnB,OAEb,qBACEoH,MAAO,CACL2a,QAAS,OACT6B,cAAe,SACfE,WAAY,SACZ9B,eAAgB,UALpB,SAQE,cAAC0H,GAAA,EAAD,MAKF,mCACE,eAAC1Q,GAAA,EAAD,CACEhR,KAAK,QACLZ,MAAO,CAEL0b,aAAc,MACdnZ,SAAU,UALd,UAQE,cAACsP,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,UACE,cAAC,GAAD,QAGJ,cAACD,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,yBACA,cAACA,GAAA,EAAD,mBACA,cAACA,GAAA,EAAD,4BACA,cAACA,GAAA,EAAD,CAAWyC,MAAM,QAAjB,iCACA,cAACzC,GAAA,EAAD,CAAWyC,MAAM,QAAjB,+BACA,eAACzC,GAAA,EAAD,CAAWyC,MAAM,QAAjB,oBAAiC5e,EAAIG,eAArC,QACE4M,EAAMihB,YACN,cAAC7R,GAAA,EAAD,CAAWyC,MAAM,SAAjB,yBAIN,eAACxC,GAAA,EAAD,WACGiO,EAAajS,KAAI,SAACmS,EAAalpB,GAE9B,OADA2c,GAAYtF,WAAW6R,EAAYzS,OAAOuU,QAAQ,KAAM,KAEtD,eAACnQ,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,UAAYoO,EAAY0D,aACxB,cAAC9R,GAAA,EAAD,UAAYoO,EAAY9S,OACxB,cAAC0E,GAAA,EAAD,UAAYoO,EAAY2D,OACxB,cAAC/R,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACG2L,EAAY4D,2BACX,cAACnP,GAAA,EAAD,CACE7R,GAAE,6BAAwBod,EAAY4D,2BAApC,SACFxmB,OAAO,SAFT,SAIG4iB,EAAY4D,6BAGf,OAGJ,cAAChS,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACG2L,EAAY6D,qBAAuB,OAEtC,cAACjS,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,iCAAS2L,EAAYzS,WAEvB,cAACqE,GAAA,EAAD,UACE,sBACE/R,MAAO,CACL2a,QAAS,OACTC,eAAgB,UAHpB,WAMIjY,EAAMihB,YACN,cAACva,GAAA,EAAD,CACE/C,OAAQ6Z,EACR8D,SAAS,kBAGXthB,EAAMihB,YACN,cAAC,GAAD,CAAqBtd,OAAQ6Z,WApCtBlpB,MA2CnB,eAAC6a,GAAA,EAAD,WACE,cAACC,GAAA,EAAD,CAAWyC,MAAM,QAAQK,QAAS,EAAlC,SACE,6CAEF,cAAC9C,GAAA,EAAD,CAAWyC,MAAM,QAAjB,SACE,wBACExU,MAAO,CACLwJ,YAAa,GAFjB,SAKGoK,EAAS1B,QAAQ,GAAG+P,QAAQ,wBAAyB,qBASlEiC,G,gKACJ,WACE,OAAO,cAAC,GAAD,eAA2B1d,KAAK7D,Y,GAFXvD,aAkD1B+kB,GAA0B,SAACxhB,GAC/B,IAAI4G,EACJ,EAAoCnK,YAAe,GAAnD,mBAAOwkB,EAAP,KAAmBQ,EAAnB,KACA,OACE,mCACE,sBACEpkB,MAAO,CACLwJ,YAAa,IAFjB,UAKE,cAAC,KAAD,CACEwP,aAAc,kBAAMoL,GAAc,IAClCnL,mBAAkB,sBAAE,sBAAA/f,EAAA,6DAClBkrB,GAAc,GADI,SAEZxuB,EAAIqC,MAAM,GAFE,2CAIpBwR,QAAS,WACP,OACE,qBACEzJ,MAAO,CACLC,UAAW,GACXsB,aAAc,GACdmI,MAAO,SAJX,SAOE,cAAClI,EAAA,EAAD,CACEb,QAAQ,YACRe,MAAM,UACND,UAAW,cAAC,KAAD,CAAOkI,SAAS,YAH7B,sBAUNC,UAAW,eACXC,QAAS,kBAAMN,KAEjB,cAAC,GAAD,aACE3G,IAAK,SAACkH,GAAD,OAASP,EAAWO,GACzB8Z,WAAYA,GACRjhB,UAMR0hB,GAAa,SAAC1hB,GAClB,OACE,qCACGA,EAAMmW,OAAS,cAAC,GAAD,IAChB,cAAC,GAAD,eAAWnW,IACX,eAACsG,GAAA,EAAD,CACEsC,SAAS,SACT4V,OAAQ,cAAC,GAAD,eAA6Bxe,IAFvC,UAIE,cAAC,KAAD,CACEiG,OAAO,aACPvR,MAAK,QACL2I,MAAO,CACLiX,WAAY,UAGhB,cAACgD,GAAA,EAAD,CACErR,OAAO,SACPvR,MAAK,uBAAkBzB,EAAIG,eAAtB,KACLiK,MAAO,CAAEiX,WAAY,iBAMzBqN,GAAc,SAAC3hB,GAAD,OAClB,eAAC4hB,GAAA,EAAD,WACGC,uBAAa7hB,EAAMqH,QAAS,CAAEya,QAAS,WACxC,cAACC,GAAA,EAAD,IACA,cAACC,GAAA,EAAD,QAGEC,G,gKACJ,WACE,OACE,cAAC,KAAD,yBACE5a,QAASxD,KAAK7D,MAAMmW,MAAQ,KAAO,cAAC,GAAD,IACnCvc,WAAYiK,KAAK7D,MAAMmW,MAAQ,KAAO,cAAC,GAAD,IACtC+L,QAASre,KAAK7D,MAAMmW,MAAQ,KAAO,cAAC,GAAD,KAC/BtS,KAAK7D,OAJX,IAKEsH,mBAAmB,EACnBjR,KAAM,CAAE0D,MAAO,OAAQC,MAAO,QANhC,SAQE,cAAC,GAAD,2BAAgB6J,KAAK7D,OAArB,IAA4BmW,MAAOtS,KAAK7D,MAAMmW,gB,GAXxB1Z,iBAiBxBkJ,GAAkB,SAAC3F,GAAD,OACtB,cAAC4F,GAAA,EAAD,2BAAa5F,GAAb,aACE,cAAC6F,GAAA,EAAD,2BAAgB7F,GAAhB,IAAuBtL,MAAM,4BA4G3BytB,GAAO,WACX,IAAMxhB,EAAU,CACdwR,KAAM,CAAEnD,OAAQ,OAAQ8J,OAAQ,QAChCjZ,OAAQ,CAAEke,OAAQ,IAClBC,SAAU,CAAEhP,OAAQ,UACpBiP,QAAS,CAAEjP,OAAQ,GACnBkP,QAAS,CAAElP,OAAQ,EAAG1R,UAAW,IAEnC,OACE,cAACF,EAAA,EAAD,CAAMC,MAAOsD,EAAQwR,KAAMnU,QAAQ,WAAnC,SACE,cAACP,EAAA,EAAD,UACE,qBACEJ,MAAO,CACL2a,QAAS,OACTC,eAAgB,iBAHpB,SAME,gCACE,qBACEhX,IAAKC,GACL7D,MAAO,CACL8D,MAAO,OAGX,oBAAI9D,MAAOsD,EAAQsd,QAAnB,sCACA,mBAAG5gB,MAAOsD,EAAQsd,QAAlB,+CACA,mBAAG5gB,MAAOsD,EAAQsd,QAAlB,8BACA,mBAAG5gB,MAAOsD,EAAQsd,QAAlB,gCAONmE,G,oDACJ,aAAe,yC,2CAGf,WACE,OACE,gCACE,cAAC,GAAD,IACA,cAAC5a,GAAA,EAAD,2BAAU3D,KAAK7D,OAAf,IAAsBkiB,SAAS,EAA/B,SACE,eAACza,GAAA,EAAD,WACE,cAACoB,GAAA,EAAD,CAAgB5C,OAAO,WAAW6C,UAAU,UAA5C,SACE,cAAC,KAAD,CAAW7C,OAAO,oBAEpB,cAAC,KAAD,CACEA,OAAO,SACPvR,MAAK,iBAAYzB,EAAIG,eAAhB,OAEP,cAAC,KAAD,CAAW6S,OAAO,SAClB,cAACuK,GAAA,EAAD,CAAWvK,OAAO,sB,GAlBAxJ,iBA0BjB4lB,GAAb,gKACE,WAAU,IAAD,OACP,OACE,gCACE,cAAC,KAAD,CACEvb,QAAS,WACP,OACE,qBACEzJ,MAAO,CACL0J,MAAO,SAFX,SAKE,cAAClI,EAAA,EAAD,CACEb,QAAQ,YACRe,MAAM,UACND,UAAW,cAAC,KAAD,CAAOkI,SAAS,YAH7B,sBAUNE,QAAS,kBAAM,EAAK0H,gBAEtB,cAAC,GAAD,aACE3O,IAAK,SAACkH,GAAD,OAAS,EAAKyH,aAAezH,IAC9BtD,KAAK7D,eA1BnB,GAA4CvD,iBAiCtC6lB,G,gKACJ,WAAU,IAAD,OACP,OACE,gCACE,cAAC,KAAD,CACEjM,aAAc,kBAAM,EAAKrW,MAAMoW,UAAS,IACxCtP,QAAS,WACP,OACE,sBACEzJ,MAAO,CACLC,UAAW,GACXsB,aAAc,GACdmI,MAAO,SAJX,UAOE,cAAClI,EAAA,EAAD,CACEb,QAAQ,YACRe,MAAM,UACND,UAAW,cAAC,KAAD,CAAOkI,SAAS,YAH7B,mBAOA,2BAINE,QAAS,kBAAM,EAAK0H,cACpB0H,mBAAkB,sBAAE,sBAAA/f,EAAA,6DAClB,EAAKyJ,MAAMoW,UAAS,GADF,SAEZnjB,EAAIqC,MAAM,GAFE,2CAIpB2R,UAAW,iBAGb,cAAC,GAAD,yBACEhH,IAAK,SAACkH,GAAD,OAAS,EAAKyH,aAAezH,IAC9BtD,KAAK7D,OAFX,IAGEmW,MAAOtS,KAAK7D,MAAMmW,MAClBC,SAAUvS,KAAK7D,MAAMoW,mB,GAtCC3Z,iBAgDjB,IACb2K,KAL+B,SAACpH,GAChC,MAA0BvD,YAAe,GAAzC,mBAAO0Z,EAAP,KAAcC,EAAd,KACA,OAAO,cAAC,GAAD,2BAAuBpW,GAAvB,IAA8BmW,MAAOA,EAAOC,SAAUA,MAI7DlgB,KAAM,eACNmL,KAAMkhB,KACNlnB,OA7MwB,SAAC2E,GACzB,IAAM5D,EAASC,cACTqL,EAAUC,eACV7C,EAAW8C,eAMjB,OACE,cAACC,GAAA,EAAD,2BACM7H,GADN,IAEE8H,UARc,WAChB1L,EAAO,4BACP0I,EAAS,iBACT4C,KAMEK,UAAW,SAAC1N,GACV+B,EAAO/B,EAAKpD,KAAM,UAJtB,SAOE,eAAC+Q,GAAA,EAAD,WACE,cAACgB,GAAA,EAAD,CACE/C,OAAO,WACP6C,UAAU,UACV5E,WAAS,EACT+D,SAAU,CAAC/J,gBACXF,QAAQ,WACRlE,QAAS,IACTgQ,cAAe,SAACC,GAAD,MAAiB,CAAEsK,cAAetK,IAPnD,SASE,cAACC,GAAA,EAAD,CAAmBd,WAAW,oBAEhC,cAACgE,GAAA,EAAD,CACEjH,OAAO,SACPjI,QAAQ,WACRkG,WAAS,EACT+D,SAAU,CAAC/J,gBACXxJ,MAAK,iBAAYzB,EAAIG,eAAhB,OAEP,cAAC8Z,GAAA,EAAD,CACEjH,OAAO,6BACPjI,QAAQ,WACRkG,WAAS,EACTxP,MAAK,6BAEP,cAACmV,GAAA,EAAD,CACE5D,OAAO,OACPjI,QAAQ,WACRkG,WAAS,EACT+D,SAAU,CAAC/J,kBAEb,cAACqK,GAAA,EAAD,CACEtC,OAAO,OACPvR,MAAM,cACN8T,QAAS,CACP,CAAEzP,GAAI,OAAQ7C,KAAM,QACpB,CAAE6C,GAAI,SAAU7C,KAAM,oBAyJhCkW,QAAS,CAAE1X,MAAO,sBAClB0T,KA5PwB,SAACpI,GACzB,IAAM5D,EAASC,cACTqL,EAAUC,eACV7C,EAAW8C,eAEjB,OACE,cAACS,GAAA,EAAD,2BACMrI,GADN,IAEE8H,UAAW,SAACzN,GACVyK,EAAS,iBACT4C,KAEFK,UAAW,SAAC1N,GACV+B,EAAO/B,EAAKpD,KAAM,SAClByQ,KAEF9D,UAAU,EAVZ,SAYE,eAACoE,GAAA,EAAD,CAAYM,QAAS,cAAC,GAAD,IAArB,UACE,cAAC4E,GAAA,EAAD,CACEjH,OAAO,WACPjI,QAAQ,WACRkG,WAAS,EACT+D,SAAU,CAAC/J,gBACXxJ,MAAK,iBAAYzB,EAAIG,eAAhB,OAEP,cAAC8Z,GAAA,EAAD,CACEjH,OAAO,6BACPjI,QAAQ,WACRkG,WAAS,EACTxP,MAAK,6BAEP,cAAC6T,GAAA,EAAD,CACEtC,OAAO,OACPvR,MAAM,cACN8T,QAAS,CACP,CAAEzP,GAAI,OAAQ7C,KAAM,QACpB,CAAE6C,GAAI,SAAU7C,KAAM,oBAwNhCqR,KAAM8a,I,WC/cF9iB,GAAYC,cAAW,SAAC4B,GAAD,MAAY,CACvC+Q,KAAM,CACJ7U,UAAW8D,EAAMG,QAAQ,QAIdihB,GA7MF,SAAC,GAAsB,IAAD,IAAnB1gB,aAAmB,SACzB8d,EAAgBC,eAAhBD,YACR,EAA0BpN,mBAAS,CACjCiQ,QAAQ,EACRC,UAAU,EACVC,YAAY,EACZ7tB,UAAU,EACVkpB,UAAU,EACV4E,QAAQ,IANV,mBAAO1gB,EAAP,KAAcoB,EAAd,KAQM3C,EAAUpB,KAEVoC,EAAe,SAACkhB,GACpBvf,GAAS,SAACpB,GAAD,mBAAC,eAAgBA,GAAjB,kBAAyB2gB,GAAQ3gB,EAAM2gB,SAElD,OACE,sBAAK7hB,UAAWL,EAAQwR,KAAxB,UACE,cAACjS,EAAA,EAAD,CACEE,GAAE,IACFC,YAAa,YACbC,SAAU,cAACwiB,GAAA,EAAD,IACVhhB,MAAOA,IAER8d,IAAgB3sB,EAAIiC,gBACnB,cAACgL,EAAA,EAAD,CACEE,GAAE,WACFC,YAAa,UACbC,SAAU,cAAC,GAAQe,KAAT,IACVS,MAAOA,IAGX,eAAC,GAAD,CACEH,aAAc,kBAAMA,EAAa,aACjCC,OAAQM,EAAMwgB,SACdxsB,KAAK,SACLmL,KAAM,cAAC,GAAMA,KAAP,IACNS,MAAOA,EALT,UAOE,cAAC5B,EAAA,EAAD,CACEE,GAAE,cACFC,YAAa,aACbC,SAAU,cAACyiB,GAAW1hB,KAAZ,IACVS,MAAOA,IAET,cAAC5B,EAAA,EAAD,CACEE,GAAE,SACFC,YAAa,QACbC,SAAU,cAAC,GAAMe,KAAP,IACVS,MAAOA,IAET,cAAC5B,EAAA,EAAD,CACEE,GAAE,eACFC,YAAa,cACbC,SAAU,cAAC,GAAYe,KAAb,IACVS,MAAOA,OAGX,eAAC,GAAD,CACEH,aAAc,kBAAMA,EAAa,WACjCC,OAAQM,EAAMugB,OACdvsB,KAAK,SACLmL,KAAM,cAAC,GAAOA,KAAR,IACNS,MAAOA,EALT,UAOE,cAAC5B,EAAA,EAAD,CACEE,GAAE,UACFC,YAAa,aACbC,SAAU,cAAC,GAAOe,KAAR,IACVS,MAAOA,IAET,cAAC5B,EAAA,EAAD,CACEE,GAAE,iBACFC,YAAa,gBACbC,SAAU,cAAC0iB,GAAc3hB,KAAf,IACVS,MAAOA,IAET,cAAC5B,EAAA,EAAD,CACEE,GAAE,mBACFC,YAAa,kBACbC,SAAU,cAAC2iB,GAAgB5hB,KAAjB,IACVS,MAAOA,IAER8d,IAAgB3sB,EAAIiC,gBACnB,cAACgL,EAAA,EAAD,CACEE,GAAE,0BACFC,YAAa,0BACbC,SAAU,cAAC4iB,GAAuB7hB,KAAxB,IACVS,MAAOA,IAGX,cAAC5B,EAAA,EAAD,CACEE,GAAE,kBACFC,YAAa,iBACbC,SAAU,cAAC6iB,GAAe9hB,KAAhB,IACVS,MAAOA,OAGX,eAAC,GAAD,CACEH,aAAc,kBAAMA,EAAa,eACjCC,OAAQM,EAAMygB,WACdzsB,KAAK,aACLmL,KAAM,cAAC+hB,GAAc/hB,KAAf,IACNS,MAAOA,EALT,UAOG8d,IAAgB3sB,EAAIiC,gBACnB,cAACgL,EAAA,EAAD,CACEE,GAAE,0BACFC,YAAa,sBACbC,SAAU,cAAC+iB,GAAuBhiB,KAAxB,IACVS,MAAOA,IAGX,cAAC5B,EAAA,EAAD,CACEE,GAAE,wBACFC,YAAa,2BACbC,SAAU,cAACgjB,GAAsBjiB,KAAvB,IACVS,MAAOA,IAER8d,IAAgB3sB,EAAIiC,gBACnB,cAACgL,EAAA,EAAD,CACEE,GAAE,iBACFC,YAAa,mBACbC,SAAU,cAAC8iB,GAAc/hB,KAAf,IACVS,MAAOA,IAGX,cAAC5B,EAAA,EAAD,CACEE,GAAE,eACFC,YAAa,iBACbC,SAAU,cAACijB,GAAYliB,KAAb,IACVS,MAAOA,OAGX,eAAC,GAAD,CACEH,aAAc,kBAAMA,EAAa,aACjCC,OAAQM,EAAM8b,SACd9nB,KAAK,WACLmL,KAAM,cAAC,KAAD,IACNS,MAAOA,EALT,UAOE,cAAC5B,EAAA,EAAD,CACEE,GAAE,qBACFC,YAAa,oBACbC,SAAU,cAACkjB,GAAkBniB,KAAnB,IACVS,MAAOA,IAET,cAAC5B,EAAA,EAAD,CACEE,GAAE,YACFC,YAAa,iBACbC,SAAU,cAAC0d,GAAS3c,KAAV,IACVS,MAAOA,OAGV8d,IAAgB3sB,EAAIiC,gBACnB,cAAC,GAAD,CACEyM,aAAc,kBAAMA,EAAa,aACjCC,OAAQM,EAAMpN,SACdoB,KAAK,WACLmL,KAAM,cAAC,GAAaA,KAAd,IACNS,MAAOA,EALT,SAOE,cAAC5B,EAAA,EAAD,CACEE,GAAE,gBACFC,YAAa,qBACbC,SAAU,cAAC,GAAae,KAAd,IACVS,MAAOA,MAIb,eAAC,GAAD,CACEH,aAAc,kBAAMA,EAAa,WACjCC,OAAQM,EAAM0gB,OACd1sB,KAAK,WACLmL,KAAM,cAAC,KAAD,IACNS,MAAOA,EALT,UAOE,cAAC5B,EAAA,EAAD,CACEE,GAAE,WAAM+K,GAAcjV,MACtBmK,YAAa,gBACbC,SAAU,cAAC,GAAce,KAAf,IACVS,MAAOA,IAET,cAAC5B,EAAA,EAAD,CACEE,GAAE,WAAM3M,GAASyC,MACjBmK,YAAa,WACbC,SAAU,cAAC,GAASe,KAAV,IACVS,MAAOA,IAET,cAAC5B,EAAA,EAAD,CACEE,GAAE,WAAMqjB,GAAcvtB,MACtBmK,YAAa,gBACbC,SAAU,cAACmjB,GAAcpiB,KAAf,IACVS,MAAOA,WCxNX4hB,GAAgB,SAAC1jB,GAAD,OAAW,cAAC2jB,EAAA,EAAD,eAAa3jB,KAC/B,YAACA,GACd,IAAMoB,EAAQ,CACZ+D,QAAS,CACPye,QAAS,CACPxe,KAAMnS,EAAIK,UAEZuwB,UAAW,CACTze,KAAMnS,EAAIK,SACVwwB,MAAO7wB,EAAIM,SACXwwB,KAAM,UACNC,aAAc,QAEhBlK,WAAY,CACVmK,QAAS,WAEX7tB,KAAM,SAER8tB,MAAO,CACLnL,aAAc,GAEhBoL,UAAW,CACTC,eAAgB,CACdjS,KAAM,GAGNkS,OAAQ,IAIVC,SAAU,CACRC,WAAY,CACVC,UAAW,QAEbrS,KAAM,CACJ2G,OAAQ,oBACR2L,eAAgB,gBAGpBC,UAAW,CACTC,UAAW,CACTtf,gBAAiB,OACjBtG,MAAO9L,EAAIK,SACXkxB,UAAW,SAGfI,cAAe,CACbzS,KAAM,CACJ,wBAAyB,CACvBjL,QAAS,KACT8Q,QAAS,QACT7W,MAAO,OACP4c,OAAQ,OACR3N,SAAU,WACVyU,IAAK,EACLC,MAAO,EACPzf,gBAAiB,eACjB+Y,QAAS,GACTrF,aAAc,aAIpBgM,UAAW,CACTC,eAAgB,CACdjmB,MAAO,UACPsG,gBAAiB,SAGrB4f,kBAAmB,CACjBC,aAAc,CACZ7f,gBAAiB,WAEnB8f,gBAAiB,CACf9f,gBAAiB,YAGrB+f,UAAW,CACTjT,KAAM,CACJ9M,gBAAiB,sBACjBwB,YAAa,GACbsS,aAAa,cAAD,OAAgBlmB,EAAIK,UAChCiqB,aAAc,KAGlB8H,eAAgB,CACdlT,KAAM,CACJ9M,gBAAiB,sBACjB,aAAc,CACZA,gBAAiB,yBAIvBigB,mBAAoB,CAClBnT,KAAM,CACJ2G,OAAQ,UAId9Y,MAAO,CACL4kB,cAAe,KAMnB,OACE,cAACW,EAAA,EAAD,2BACMvlB,GADN,IAEEwlB,OAAQ5kB,GACR6kB,QAAS/B,GACTtiB,MAAOA,EACPyhB,KAAML,O,8BC3FGkD,GArBQ,SAAC,GAAe,IAAbrxB,EAAY,EAAZA,MACxB,OACE,cAAC,GAAD,CACE+L,GAAG,UACHiB,KAAM,kBACJ,oBACEhE,MAAO,CACL2O,QAAS,EACTgD,OAAQ,EACR1R,WAAY,IAJhB,SAOGrK,EAAIG,kBAGToK,MAAO,kBACPyc,SAAU5lB,KCHDsxB,GAZG,SAAC,GAAe,IAAbtxB,EAAY,EAAZA,MACbsB,EAAS,CAAEA,OAAQuB,KAAKC,UAAU,CAAEpC,OAAQ,cAClD,OACE,cAAC,GAAD,CACEqL,GAAE,kBAAajJ,oBAAUxB,IACzB0L,KAAMkT,KACN/W,MAAO,aACPyc,SAAU5lB,K,0ECwEVkL,GAAYC,cAAW,SAAC4B,GAAD,MAAY,CACvCwkB,KAAM,CACJ7M,aAAc,GAEhB8M,YAAa,CACX9mB,MAAOqC,EAAM+D,QAAQye,QAAQxe,UAIlB0gB,GA5EM,WACnB,IAAM/jB,EAAYC,eACZrB,EAAUpB,KAEVwmB,EAAYC,mBAAQ,IAAIhtB,KAAQ,IACtC+sB,EAAUpb,QAAQob,EAAUE,UAAY,IACxCF,EAAUG,SAAS,GACnBH,EAAUI,WAAW,GACrBJ,EAAUK,WAAW,GACrBL,EAAUM,gBAAgB,GAE1B,MAAmCC,aAAkB,CACnDlwB,KAAM,UACNsD,SAAU,UACV6sB,QAAS,CACP5wB,OAAQ,CACN6wB,aAAa,EACbC,eAAgBV,EAAUW,eAE5BrwB,KAAM,CAAE0D,MAAO,KAAMC,MAAO,QAC5BJ,WAAY,CAAEC,KAAM,EAAGC,QAAS,OATd6sB,GAAtB,EAAQC,OAAR,EAAgBvsB,MAeVwsB,EAAKF,EAAWA,EAASzY,QAAO,SAAC2Y,GAAD,QAAUA,IAAI,GAAK,EACzD,OACE,eAAC,GAAD,CACEzmB,GAAG,WACHiB,KAAMylB,KACNtpB,MAAOuE,EAAU,WACjBkY,SAAU4M,EAJZ,UAME,cAAC7jB,GAAA,EAAD,UACG2jB,EACGA,EAAStb,KAAI,SAAC1H,GAAD,OACX,eAACojB,GAAA,EAAD,CACEvkB,QAAM,EACNpC,GAAE,mBAAcuD,EAAO5K,IACvBkK,UAAWgP,KAHb,UAME,cAAC+U,GAAA,EAAD,UACE,cAACC,GAAA,EAAD,CAAQhmB,IAAG,UAAK0C,EAAOxK,YAEzB,cAAC+tB,GAAA,EAAD,CAActD,QAAO,UAAKjgB,EAAO0Q,mBAL5B1Q,EAAO5K,OAQhB,OAEN,cAACmhB,GAAA,EAAD,CAAKiN,SAAS,IAAd,kBACA,cAACtoB,EAAA,EAAD,CACEmC,UAAWL,EAAQilB,KACnB3iB,UAAWgP,KACX7R,GAAG,WACHnC,KAAK,QACLc,MAAM,UALR,SAOE,cAACmb,GAAA,EAAD,CAAK8B,EAAG,EAAGhb,UAAWL,EAAQklB,YAA9B,SACG9jB,EAAU,2B,sBC/DfxC,GAAYC,cAAW,SAAC4B,GAAD,MAAY,CACvC+Q,KAAM,CACJ1S,KAAM,GAER2nB,KAAM,CACJvgB,YAAa,MACb9H,MAAOqC,EAAM+D,QAAQkiB,KAAKzD,aAoEf0D,GAhEO,SAAC,GAAqC,IAAD,IAAlC7E,cAAkC,MAAzB,GAAyB,MAArB8E,iBAAqB,MAAT,GAAS,EACnD5mB,EAAUpB,KAChB,OACE,eAACnC,EAAA,EAAD,CAAM4D,UAAWL,EAAQwR,KAAzB,UACE,cAACqV,GAAA,EAAD,CAAYhqB,MAAO,eAEnB,eAACwF,GAAA,EAAD,WACoB,GAAjByf,EAAOxsB,OACN,cAAC8wB,GAAA,EAAD,UACE,cAACG,GAAA,EAAD,CAActD,QAAQ,2BAEtB,KACHnB,EAAOpX,KAAI,SAAC1H,GAWX,OATI4jB,EAAU5jB,EAAO8jB,eAEK,GAAtB9jB,EAAOoN,KAAK9a,OAAZ,uBACasxB,EAAU5jB,EAAO+P,UAAUxd,KADxC,cAEMqxB,EAAU5jB,EAAO+P,UAAUW,eAFjC,sCAIakT,EAAU5jB,EAAO+P,UAAUxd,KAJxC,cAKMqxB,EAAU5jB,EAAO+P,UAAUW,eALjC,MAMY1Q,EAAOoN,KAAK9a,OANxB,WAQF,eAAC8wB,GAAA,EAAD,CAEEvkB,QAAM,EACNS,UAAWgP,KACX7R,GAAE,kBAAauD,EAAO5K,IAJxB,UAME,cAACiuB,GAAA,EAAD,UACGO,EAAU5jB,EAAO+P,UAChB,cAACuT,GAAA,EAAD,CAAQhmB,IAAG,UAAKsmB,EAAU5jB,EAAO+P,UAAUva,UAE3C,cAAC8tB,GAAA,EAAD,MAGJ,cAACC,GAAA,EAAD,CACEtD,QAASjgB,EAAO8P,WAChBoQ,UACE0D,EAAU5jB,EAAO+P,UACS,GAAtB/P,EAAOoN,KAAK9a,OAAZ,uBACWsxB,EAAU5jB,EAAO+P,UAAUxd,KADtC,cAEIqxB,EAAU5jB,EAAO+P,UAAUW,eAF/B,sCAIWkT,EAAU5jB,EAAO+P,UAAUxd,KAJtC,cAKIqxB,EAAU5jB,EAAO+P,UAAUW,eAL/B,MAMU1Q,EAAOoN,KAAK9a,OANtB,UAOA,KAGR,cAACyxB,GAAA,EAAD,UACE,uBAAM1mB,UAAWL,EAAQymB,KAAzB,UACGn0B,EAAIG,eADP,IACwBuQ,EAAOrJ,aA5B5BqJ,EAAO5K,c,yEClCpB4uB,GAAU,IAAI3uB,KACd4uB,GAAgBpZ,MAAMqZ,KAAK,CAAE5xB,OAAQ,KAAM,SAAC6xB,EAAG9xB,GAAJ,OAAUgwB,mBAAQ2B,GAAS3xB,MACtE+vB,GAAYC,mBAAQ,IAAIhtB,KAAQ,IAEhC+uB,GAAgB,SAACrd,GAAD,OAAU,IAAI1R,KAAK0R,GAAMuO,sBAczC+O,GAAmB,SAACvF,GACxB,IAAMwF,EAbqB,SAACxF,GAAD,OAC3BA,EACG9sB,QAAO,SAACqE,GAAD,MAA2B,aAAhBA,EAAMjF,UACxBmZ,QAAO,SAACga,EAAKC,GACZ,IAAMC,EAAM3d,KAAO0d,EAAK1U,YAAYvf,OAAO,cAK3C,OAJKg0B,EAAIE,KACPF,EAAIE,GAAO,GAEbF,EAAIE,IAAQzc,WAAWwc,EAAK7tB,OACrB4tB,IACN,IAGmBG,CAAqB5F,GAC7C,OAAOmF,GAAcvc,KAAI,SAACX,GAAD,MAAW,CAClCA,KAAMA,EAAK4d,UACXhuB,MAAO2tB,EAAgB/zB,kBAAOwW,EAAM,gBAAkB,OA4D3C6d,GAxDI,SAAC,GAAgB,IAAd9F,EAAa,EAAbA,OACd1gB,EAAYC,eAClB,OAAKygB,EAGH,eAACrlB,EAAA,EAAD,WACE,cAACoqB,GAAA,EAAD,CAAYhqB,MAAOuE,EAAU,4BAC7B,cAACtE,EAAA,EAAD,UACE,qBAAKJ,MAAO,CAAE8D,MAAO,OAAQ4c,OAAQ,QAArC,SACE,cAACyK,GAAA,EAAD,UACE,eAACC,GAAA,EAAD,CAAWpuB,KAAM2tB,GAAiBvF,GAAlC,UACE,+BACE,iCAAgB1pB,GAAG,UAAU2vB,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAAIC,GAAG,IAArD,UACE,sBACEC,OAAO,KACPC,UAAW91B,EAAIK,SACf01B,YAAa,KAEf,sBAAMF,OAAO,MAAMC,UAAW91B,EAAIK,SAAU01B,YAAa,SAG7D,cAACC,GAAA,EAAD,CACEC,QAAQ,OACRhzB,KAAK,OACLE,KAAK,SACL+yB,MAAM,OACNC,OAAQ,CAACC,mBAAQtD,GAAW,GAAGuC,WAAW,IAAItvB,MAAOsvB,WACrDgB,cAAevB,KAEjB,cAACwB,GAAA,EAAD,CAAOL,QAAQ,QAAQhzB,KAAK,UAAUszB,KAAMv2B,EAAIG,iBAChD,cAACq2B,GAAA,EAAD,CAAeC,gBAAgB,QAC/B,cAAC,KAAD,CACEhU,OAAQ,CAAEgU,gBAAiB,OAC3BC,UAAW,SAACt1B,GAAD,OACT,IAAIu1B,KAAKC,kBAAa7b,EAAW,CAC/B3Q,MAAO,WACPysB,SAAU72B,EAAII,eACba,OAAOG,IAEZ01B,eAAgB,SAACr1B,GAAD,OAAWqzB,GAAcrzB,MAE3C,cAACs1B,GAAA,EAAD,CACE5zB,KAAK,WACL8yB,QAAQ,QACRe,OAAQh3B,EAAIK,SACZ42B,YAAa,EACbxb,KAAK,8BA5CC,MCAhBqM,GAAS,CACbtb,KAAM,CAAEuY,QAAS,QACjBmS,WAAY,CAAEnS,QAAS,OAAQ6B,cAAe,UAC9CmB,QAAS,CAAEvb,KAAM,EAAGoH,YAAa,SACjCujB,SAAU,CAAE3qB,KAAM,EAAGuZ,WAAY,SACjCqR,UAAW,CAAE/sB,UAAW,MAAOsB,aAAc,OAC7C0rB,cAAe,CAAEhtB,UAAW,MAAOsB,aAAc,QAG7C2rB,GAAS,kBAAM,sBAAMltB,MAAO,CAAE8D,MAAO,UACrCqpB,GAAiB,kBAAM,sBAAMntB,MAAO,CAAE0gB,OAAQ,UAiLrC0M,GA/KG,WAChB,MAA0BjY,mBAAS,CACjCkO,QAASztB,EAAIG,eAAiB,OAC9Bs3B,aAAc,GACdC,UAAW,MAHb,mBAAOzoB,EAAP,KAAcoB,EAAd,KAKMsnB,EAAUC,eACVrxB,EAAeoR,eACfkgB,EAAWC,cAAc,SAAC3pB,GAAD,OAAWA,EAAM4pB,YAAYC,KAAK,SAC3DC,EAAUH,cAAc,SAAC3pB,GAAD,OAAWA,EAAM4pB,YAAYC,KAAK,SAE1DE,EAAcC,sBAAW,sBAAC,sCAAA70B,EAAA,6DACxBwvB,EAAYC,mBAAQ,IAAIhtB,KAAQ,IADR,SAEOQ,EAAaC,QAAQ,aAAc,CACtE9D,OAAQ,CAAE01B,SAAUtF,EAAUW,eAC9BrwB,KAAM,CAAE0D,MAAO,aAAcC,MAAO,QACpCJ,WAAY,CAAEC,KAAM,EAAGC,QAAS,MALJ,uBAEhB4wB,EAFgB,EAEtBrwB,KAKFixB,EAAeZ,EAAaxc,QAChC,SAACqd,EAAOvxB,GAQN,MAPoB,aAAhBA,EAAMjF,SACRw2B,EAAM7K,SAAW/U,WAAW3R,EAAMM,QAEf,aAAjBN,EAAMjF,SACRw2B,EAAMZ,YACNY,EAAMC,cAAcv3B,KAAK+F,IAEpBuxB,IAET,CACE7K,QAAS,EACTiK,UAAW,EACXa,cAAe,KAInBloB,GAAS,SAACpB,GAAD,mBAAC,eACLA,GADI,IAEPwoB,eACAC,UAAWW,EAAaX,UAAYW,EAAaX,UAAY,IAC7DjK,QAAS4K,EAAa5K,QAAQ+K,oBAAezd,EAAW,CACtD3Q,MAAO,WACPysB,SAAU72B,EAAII,aACdq4B,sBAAuB,EACvBC,sBAAuB,IAGzBH,cAAeF,EAAaE,mBApCA,SAsCIhyB,EAAaiB,QAAQ,UAAW,CAChEC,IAAK4wB,EAAaE,cAAcngB,KAAI,SAACrR,GAAD,OAAWA,EAAM0Z,cAvCzB,gBAsChB6T,EAtCgB,EAsCtBltB,KAGRiJ,GAAS,SAACpB,GAAD,mBAAC,eACLA,GADI,IAEP0pB,uBAAwBrE,EAAUrZ,QAAO,SAAC2d,EAAMC,GAE9C,OADAD,EAAKC,EAAS/yB,IAAM+yB,EACbD,IACN,SA9CyB,4CAgD7B,CAACryB,IA6BJ2Z,qBAAU,WACRgY,MAEC,CAACP,IAYA1oB,EATF6pB,YASE7pB,EARF8pB,iBAFF,IAGER,EAOEtpB,EAPFspB,cACAI,EAME1pB,EANF0pB,uBAGAlL,GAGExe,EALF+pB,eAKE/pB,EAJFgqB,wBAIEhqB,EAHFwe,SACAgK,EAEExoB,EAFFwoB,aACAC,EACEzoB,EADFyoB,UAEF,OAAOG,EACL,8BACE,sBAAKztB,MAAO0d,GAAOoP,WAAnB,UACE,cAAC,GAAD,CAAgB91B,MAAOqsB,IACvB,cAAC,GAAD,IACA,cAAC,GAAD,CAAWrsB,MAAOs2B,IAClB,cAAC,GAAD,SAOFO,EACF,sBAAK7tB,MAAO0d,GAAOoP,WAAnB,UACE,sBAAK9sB,MAAO0d,GAAOtb,KAAnB,UACE,cAAC,GAAD,CAAgBpL,MAAOqsB,IACvB,cAAC,GAAD,IACA,cAAC,GAAD,CAAWrsB,MAAOs2B,OAEpB,qBAAKttB,MAAO0d,GAAOsP,UAAnB,SACE,cAAC,GAAD,CAAY5H,OAAQiI,MAEtB,qBAAKrtB,MAAO0d,GAAOsP,UAAnB,SACE,cAAC,GAAD,CACE5H,OAAQ+I,EACRjE,UAAWqE,SAKjB,mCACE,sBAAKvuB,MAAO0d,GAAOtb,KAAnB,UACE,sBAAKpC,MAAO0d,GAAOC,QAAnB,UACE,sBAAK3d,MAAO0d,GAAOtb,KAAnB,UACE,cAAC,GAAD,CAAgBpL,MAAOqsB,IACvB,cAAC,GAAD,IACA,cAAC,GAAD,CAAWrsB,MAAOs2B,OAEpB,qBAAKttB,MAAO0d,GAAOsP,UAAnB,SACE,cAAC,GAAD,CAAY5H,OAAQiI,MAEtB,qBAAKrtB,MAAO0d,GAAOsP,eAOrB,qBAAKhtB,MAAO0d,GAAOqP,SAAnB,SACE,qBAAK/sB,MAAO0d,GAAOuP,cAAnB,SAME,cAAC,GAAD,cCvNG,cACb,OACE,qCACE,yDACA,cAAC,GAAD,QCgCS,SAAS6B,KAwBtB,OAvBA1vB,aAAgB,YACA,uCAAG,4BAAAlG,EAAA,yDACC,KADD,WAGb61B,EAAYl1B,KAAKoB,MAAMT,aAAaO,QAAQ,UAH/B,gCAKL6G,IACHC,KAAKjM,EAAIC,IAAM,WAAY,CAC1BqF,MAAO6zB,EAAUC,WAElB90B,MAAK,SAACuE,GACc,GAAfA,EAAOzB,MAAexC,aAAaW,WAAW,WAV3C,6BAaXX,aAAaW,WAAW,QAbb,yDAgBbX,aAAaW,WAAW,QAhBX,0DAAH,qDAmBdyP,KACC,IAGD,cAACqkB,EAAA,EAAD,CACEC,OAAQA,GACRC,UAAWA,GACXhzB,aAAcA,EACd8C,aAAcA,EACdmwB,UAAWC,EACXC,aAAcA,EANhB,SAQG,SAAC/M,GAAD,MAAiB,CAChB,cAACgN,EAAA,EAAD,eAAc7J,KACd,cAAC6J,EAAA,EAAD,eAAcn5B,KACd,cAACm5B,EAAA,EAAD,eAAczhB,KACd,cAACyhB,EAAA,EAAD,eAAcnJ,KACd,cAACmJ,EAAA,EAAD,eAAc3Y,KACd,cAAC2Y,EAAA,EAAD,eAAcla,KACd,cAACka,EAAA,EAAD,eAAcnK,KACd,cAACmK,EAAA,EAAD,eAAc5J,KACd,cAAC4J,EAAA,EAAD,eAAc3J,KACd,cAAC2J,EAAA,EAAD,eAAczJ,KACd,cAACyJ,EAAA,EAAD,eAAc5O,KACd,cAAC4O,EAAA,EAAD,eAAcpJ,KACd,cAACoJ,EAAA,EAAD,eAAcpJ,KACd,cAACoJ,EAAA,EAAD,eAActJ,KACd1D,IAAgB3sB,EAAIiC,eAAiB,cAAC03B,EAAA,EAAD,eAAclY,KAAc,KACjEkL,IAAgB3sB,EAAIiC,eAClB,cAAC03B,EAAA,EAAD,eAAc1J,KACZ,KACJtD,IAAgB3sB,EAAIiC,eAClB,cAAC03B,EAAA,EAAD,eAAcxJ,KACZ,KACJxD,IAAgB3sB,EAAIiC,eAClB,cAAC03B,EAAA,EAAD,eAAcvJ,KACZ,KACJzD,IAAgB3sB,EAAIiC,eAClB,cAAC03B,EAAA,EAAD,eAActP,KACZ,KACJ,cAACsP,EAAA,EAAD,eAAcrJ,SClGtB,ICOWsJ,GDKIC,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,+BAAqBz1B,MAAK,YAAkD,IAA/C01B,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCAHF,GAORlhB,WANDA,WAAa,WAIX,MAH4B,kBAAjB2hB,UAAU,KACnBA,UAAU,GAAKA,UAAU,GAAGhO,QAAQ,KAAM,KAErCuN,GAAQve,MAAMzK,KAAMypB,YAI/BC,IAASjuB,OAIP,cAAC6sB,GAAD,IACAjN,SAASsO,eAAe,SAM1BV,O","file":"static/js/main.9ad580c4.chunk.js","sourcesContent":["export const app = {\n  api: \"https://server.everydayfreshfood.com/api/\",\n  // api: \"http://127.0.0.1:8000/api/\",\n  defaultEmail: \"everydayfreshfood007@gmail.com\",\n  currencySymbol: \"\",\n  currencyCode: \"GBP\",\n  colorOne: \"#f5881f\",\n  colorTwo: \"#AE9EFD\",\n  vans: [\n    \"Van#1\",\n    \"Van#2\",\n    \"Van#3\",\n    \"Van#4\",\n    \"Van#5\",\n    \"Van#6\",\n    \"Van#7\",\n    \"Van#8\",\n    \"Van#9\",\n    \"Van#10\",\n  ],\n  expenses: [\n    \"Salaries\",\n    \"Office Rent\",\n    \"Electricity\",\n    \"Water\",\n    \"Gas\",\n    \"Food\",\n    \"Drinks\",\n    \"Telephone\",\n    \"Internet\",\n    \"Postage\",\n    \"Printing\",\n    \"Stationery\",\n  ],\n  getDaysBetweenDates: function (startDate, endDate) {\n    var now = startDate.clone(),\n      dates = [];\n\n    while (now.isSameOrBefore(endDate)) {\n      dates.push(now.format(\"YYYY-MM-DD\"));\n      now.add(1, \"days\");\n    }\n    return dates;\n  },\n  uniqueValuesFromArray: function (value, index, self) {\n    return self.indexOf(value) === index;\n  },\n  discounts: [\n    {\n      label: \"0%\",\n      value: 0.0,\n    },\n    {\n      label: \"5%\",\n      value: 0.05,\n    },\n    {\n      label: \"10%\",\n      value: 0.1,\n    },\n    {\n      label: \"15%\",\n      value: 0.15,\n    },\n  ],\n  weeks: [\n    {\n      label: \"Older than 1 Week\",\n      value: \"-1 week\",\n    },\n    {\n      label: \"Older than 2 Weeks\",\n      value: \"-2 weeks\",\n    },\n    {\n      label: \"Older than 3 Weeks\",\n      value: \"-3 weeks\",\n    },\n    {\n      label: \"Older than 4 Weeks\",\n      value: \"-4 weeks\",\n    },\n    {\n      label: \"Older than 5 Weeks\",\n      value: \"-5 weeks\",\n    },\n  ],\n  filterAmounts: [\n    {\n      label: \"Greater than 100\",\n      value: 100,\n    },\n    {\n      label: \"Greater than 200\",\n      value: 200,\n    },\n    {\n      label: \"Greater than 300\",\n      value: 300,\n    },\n    {\n      label: \"Greater than 500\",\n      value: 500,\n    },\n    {\n      label: \"Greater than 700\",\n      value: 700,\n    },\n  ],\n  boxTypes: [\"Full Box\", \"Half Box\", \"Loose Item\"],\n  payments: [\"Paid\", \"Unpaid\"],\n  status: [\"Progress\", \"Completed\", \"Canceled\"],\n  tax: 20,\n  adminRole: \"admin\",\n  superAdminRole: \"superadmin\",\n  validateEmail: function (mail) {\n    if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(mail)) return true;\n    return false;\n  },\n  sleep: (ms) => {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n  },\n  filter: (array, element, cross = true) => {\n    const tempArray = [];\n    for (let i = 0; i < array.length; i++) {\n      if (cross) {\n        if (\n          array[i].name === element.name &&\n          array[i].van === element.van &&\n          array[i].type === element.type\n        ) {\n          tempArray.push(array[i]);\n        }\n      } else {\n        if (array[i].name === element.name && array[i].van === element.van) {\n          tempArray.push(array[i]);\n        }\n      }\n    }\n    return tempArray;\n  },\n  sort: (array, key = \"name\") => {\n    return array.sort((a, b) => {\n      if (a[key] > b[key]) return 1;\n      if (a[key] < b[key]) return -1;\n      return 0;\n    });\n  },\n};\nexport const passwordValidator = (password, extra = \"\") => {\n  if (!password || password.length <= 0)\n    return extra + \"Password cannot be empty.\";\n  if (password.length < 6) return extra + \"Password must be have 6 characters.\";\n  return \"\";\n};\n","import { app } from \"../contants\";\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n  // called when the user attempts to log in\n  login: ({ username, password }) => {\n    const request = new Request(app.api + \"adminlogin\", {\n      method: \"POST\",\n      body: JSON.stringify({ username, password }),\n      headers: new Headers({ \"Content-Type\": \"application/json\" }),\n    });\n    return fetch(request)\n      .then((response) => {\n        if (response.status < 200 || response.status >= 300) {\n          throw new Error(response.statusText);\n        }\n        return response.json();\n      })\n      .then((auth) => {\n        localStorage.setItem(\"auth\", JSON.stringify(auth));\n      })\n      .catch((error) => {\n        console.log(error);\n        throw new Error(\"Invalid credentials.\");\n      });\n  },\n  // called when the user clicks on the logout button\n  logout: () => {\n    if (localStorage.getItem(\"auth\")) {\n      const request = new Request(app.api + \"logout\", {\n        method: \"GET\",\n        headers: new Headers({\n          \"Content-Type\": \"application/json\",\n          Authorization:\n            \"Bearer \" + JSON.parse(localStorage.getItem(\"auth\")).token,\n        }),\n      });\n      return fetch(request)\n        .then((response) => {\n          if (response.status < 200 || response.status >= 300) {\n            throw new Error(response.statusText);\n          }\n          return response.json();\n        })\n        .then(() => {\n          localStorage.removeItem(\"auth\");\n          return Promise.resolve();\n        })\n        .catch(() => {});\n    }\n    return Promise.resolve();\n  },\n  // called when the API returns an error\n  checkError: ({ status }) => {\n    if (status === 401 || status === 403) {\n      localStorage.removeItem(\"auth\");\n      return Promise.reject();\n    }\n    return Promise.resolve();\n  },\n  // called when the user navigates to a new location, to check for authentication\n  checkAuth: () => {\n    return localStorage.getItem(\"auth\") ? Promise.resolve() : Promise.reject();\n  },\n  // called when the user navigates to a new location, to check for permissions / roles\n  getPermissions: () => {\n    const auth = JSON.parse(localStorage.getItem(\"auth\"));\n    if (auth) {\n      return Promise.resolve(auth.role);\n    }\n    return Promise.reject();\n  },\n  getIdentity: () => {\n    var token = {\n      id: JSON.stringify(Date()),\n      fullName: \"Admin\",\n    };\n    if (localStorage.getItem(\"auth\"))\n      token = JSON.parse(localStorage.getItem(\"auth\"));\n    return Promise.resolve({\n      user_id: token.user_id,\n      id: token.token,\n      fullName: token.name,\n      avatar: \"https://randomuser.me/api/portraits/men/1.jpg\",\n    });\n  },\n};\n","import { fetchUtils, useNotify } from \"react-admin\";\nimport { stringify } from \"query-string\";\nimport { app } from \"../contants\";\nimport zlFetch from \"zl-fetch\";\nconst apiUrl = app.api;\nconst httpClient = fetchUtils.fetchJson;\n\nconst dataProvider = {\n  getList: async (resource, params) => {\n    const { page, perPage } = params.pagination;\n    const { field, order } = params.sort;\n    const query = {\n      sort: JSON.stringify([field, order]),\n      range: JSON.stringify([(page - 1) * perPage, page * perPage - 1]),\n      filter: JSON.stringify(params.filter),\n    };\n    const url = `${apiUrl}${resource}?${stringify(query)}`;\n    return zlFetch(url).then((response) => {\n      const { body, headers } = response;\n      const total = headers[\"content-language\"]\n        ? parseInt(headers[\"content-language\"])\n        : body.length;\n      return {\n        data: body,\n        total: total,\n      };\n    });\n  },\n\n  getOne: (resource, params) => {\n    const url = `${apiUrl}${resource}/${params.id}`;\n    return httpClient(url).then(({ json }) => ({\n      data: json,\n    }));\n  },\n\n  getMany: (resource, params) => {\n    const query = {\n      filter: JSON.stringify({ id: params.ids }),\n    };\n    const url = `${apiUrl}${resource}?${stringify(query)}`;\n    return httpClient(url).then(({ json }) => ({ data: json }));\n  },\n\n  getManyReference: (resource, params) => {\n    const { page, perPage } = params.pagination;\n    const { field, order } = params.sort;\n    const query = {\n      sort: JSON.stringify([field, order]),\n      range: JSON.stringify([(page - 1) * perPage, page * perPage - 1]),\n      filter: JSON.stringify({\n        ...params.filter,\n        [params.target]: params.id,\n      }),\n    };\n    const url = `${apiUrl}${resource}?${stringify(query)}`;\n\n    return httpClient(url).then(({ headers, json }) => ({\n      data: json,\n      total: parseInt(headers.get(\"content-range\").split(\"/\").pop(), 10),\n    }));\n  },\n\n  updateMany: (resource, params) => {\n    alert(\"updateMany\");\n    const query = {\n      filter: JSON.stringify({ id: params.ids }),\n    };\n    return httpClient(`${apiUrl}${resource}?${stringify(query)}`, {\n      method: \"PUT\",\n      body: JSON.stringify(params.data),\n    }).then(({ json }) => ({ data: json }));\n  },\n\n  delete: (resource, params) =>\n    httpClient(`${apiUrl}${resource}/${params.id}`, {\n      method: \"DELETE\",\n    }).then(({ json }) => ({ data: json })),\n\n  deleteMany: (resource, params) => {\n    const query = {\n      filter: JSON.stringify({ id: params.ids }),\n    };\n    const url = `${apiUrl}${resource}?${stringify(query)}`;\n    return httpClient(url, {\n      method: \"DELETE\",\n    }).then(({ json }) => ({ data: json }));\n  },\n  getListSimple: async (resource, params) => {\n    const url = `${apiUrl}${resource}?${stringify(params)}`;\n    return httpClient(url).then(({ json }) => {\n      return {\n        data: json,\n      };\n    });\n  },\n  create: (resource, params) => {\n    return zlFetch(`${apiUrl}${resource}`, {\n      method: \"POST\",\n      body: params.data,\n    }).then((response) => {\n      return {\n        data: { ...params.data, id: response.id },\n      };\n    });\n  },\n\n  update: (resource, params) => {\n    const url = `${apiUrl}${resource}/${params.id}`;\n    return zlFetch(url, {\n      method: \"PUT\",\n      body: params.data,\n    }).then((response) => {\n      return {\n        data: response.body,\n      };\n    });\n  },\n};\n\nexport default {\n  ...dataProvider,\n  update: (resource, params) => {\n    if (!params.data.image || resource !== \"items\") {\n      return dataProvider.update(resource, params);\n    } else {\n      var image = params.data.image.rawFile ? params.data.image : null;\n      if (image) {\n        return convertFileToBase64(image).then((image) => {\n          return dataProvider.update(resource, {\n            ...params,\n            data: {\n              ...params.data,\n              image,\n            },\n          });\n        });\n      } else {\n        return dataProvider.update(resource, {\n          ...params,\n          data: {\n            ...params.data,\n          },\n        });\n      }\n    }\n  },\n  create: (resource, params) => {\n    if (!params.data.image || resource !== \"items\") {\n      return dataProvider.create(resource, params);\n    } else {\n      var image = params.data.image;\n      return convertFileToBase64(image).then((image) => {\n        return dataProvider.create(resource, {\n          ...params,\n          data: {\n            ...params.data,\n            image,\n          },\n        });\n      });\n    }\n  },\n};\n\nconst convertFileToBase64 = (file) =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = () => resolve(reader.result);\n    reader.onerror = reject;\n    reader.readAsDataURL(file.rawFile);\n  });\n","import { Login } from \"react-admin\";\n\nconst MyLoginPage = () => (\n  <Login\n  // A random image that changes everyday\n  // backgroundImage=\"bg.png\"\n  />\n);\nexport default MyLoginPage;\n","import * as React from \"react\";\n\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\n\nimport Button from \"@material-ui/core/Button\";\nimport { Title } from \"react-admin\";\nimport Grid from \"@material-ui/core/Grid\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport { useNotify, useAuthProvider } from \"react-admin\";\nimport {\n  FormControl,\n  IconButton,\n  InputAdornment,\n  TextField as MaterialTextField,\n} from \"@material-ui/core\";\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport { app, passwordValidator } from \"../contants\";\nimport axios from \"axios\";\n\nconst Password = () => {\n  const notify = useNotify();\n  const authProvider = useAuthProvider();\n  const error = (string, type = \"error\") => {\n    notify(string, type);\n  };\n  const [values, setValues] = React.useState({\n    password: \"\",\n    confirmPassword: \"\",\n    showPassword: false,\n  });\n  const handleChange = (prop) => (event) => {\n    setValues({ ...values, [prop]: event.target.value });\n  };\n\n  const handleClickShowPassword = () => {\n    setValues({ ...values, showPassword: !values.showPassword });\n  };\n  const handleMouseDownPassword = (event) => {\n    event.preventDefault();\n  };\n  const changePassword = () => {\n    authProvider.getIdentity().then(async (user) => {\n      if (values.password == \"\" || values.confirmPassword == \"\") {\n        error(\"Please fill all fields.\");\n        return;\n      }\n      if (passwordValidator(values.password, \"New \")) {\n        error(passwordValidator(values.password, \"New \"));\n        return;\n      }\n      if (passwordValidator(values.confirmPassword, \"Confirm New \")) {\n        error(passwordValidator(values.confirmPassword, \"Confirm New \"));\n        return;\n      }\n      const url = app.api + \"change_password\";\n      await axios\n        .post(url, { ...values, id: user.user_id })\n        .then((data) => {\n          error(\"Password changed successfully.\", \"success\");\n          setValues({\n            password: \"\",\n            confirmPassword: \"\",\n            showPassword: false,\n          });\n        })\n        .catch((er) => {\n          error(\"Internal server error.\");\n        });\n      return;\n    });\n  };\n  return (\n    <Card\n      style={{\n        marginTop: 20,\n      }}\n    >\n      <Title title={\"Manage Password\"} />\n      <CardContent>\n        <FormControl>\n          <Grid container>\n            <Grid item xs={12}>\n              <MaterialTextField\n                autoFocus\n                label=\"New Password\"\n                variant=\"outlined\"\n                size=\"small\"\n                type={values.showPassword ? \"text\" : \"password\"}\n                value={values.password}\n                required\n                onChange={handleChange(\"password\")}\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment>\n                      <IconButton\n                        onClick={handleClickShowPassword}\n                        onMouseDown={handleMouseDownPassword}\n                      >\n                        {values.showPassword ? (\n                          <Visibility />\n                        ) : (\n                          <VisibilityOff />\n                        )}\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                }}\n                style={{\n                  marginBottom: 20,\n                }}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <MaterialTextField\n                label=\"Confirm New Password\"\n                variant=\"outlined\"\n                size=\"small\"\n                type={values.showPassword ? \"text\" : \"password\"}\n                value={values.confirmPassword}\n                required\n                onChange={handleChange(\"confirmPassword\")}\n                InputProps={{\n                  endAdornment: (\n                    <InputAdornment>\n                      <IconButton\n                        onClick={handleClickShowPassword}\n                        onMouseDown={handleMouseDownPassword}\n                      >\n                        {values.showPassword ? (\n                          <Visibility />\n                        ) : (\n                          <VisibilityOff />\n                        )}\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                }}\n                style={{\n                  marginBottom: 20,\n                }}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <Button\n                startIcon={<LockIcon />}\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={changePassword}\n              >\n                Change Password\n              </Button>\n            </Grid>\n          </Grid>\n        </FormControl>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default Password;\n","import * as React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport Password from \"../password\";\n// import PurchaseInvoice from \"../purchase_invoices\";\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default [\n  <Route exact path=\"/passwords\" render={() => <Password />} />,\n  // <Route\n  //   exact\n  //   path=\"/purchase_invoice/:id\"\n  //   render={() => <PurchaseInvoice />}\n  // />,\n];\n","export default __webpack_public_path__ + \"static/media/logo.afe8c721.png\";","import * as React from \"react\";\nimport { forwardRef } from \"react\";\nimport { AppBar, UserMenu, MenuItemLink, useTranslate } from \"react-admin\";\nimport Typography from \"@material-ui/core/Typography\";\nimport LockIcon from \"@material-ui/icons/Lock\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport logo from \"./logo.png\";\nconst useStyles = makeStyles({\n  title: {\n    flex: 1,\n    textOverflow: \"ellipsis\",\n    whiteSpace: \"nowrap\",\n    overflow: \"hidden\",\n  },\n  spacer: {\n    flex: 1,\n  },\n});\n\nconst ManagePassword = forwardRef((props, ref) => {\n  return (\n    <MenuItemLink\n      style={{\n        paddingLeft: 10,\n      }}\n      ref={ref}\n      to=\"/passwords\"\n      primaryText={\"Manage Password\"}\n      leftIcon={<LockIcon />}\n      onClick={props.onClick}\n      sidebarIsOpen\n    />\n  );\n});\n\nconst CustomUserMenu = (props) => (\n  <UserMenu {...props}>{<ManagePassword />}</UserMenu>\n);\n\nconst CustomAppBar = (props) => {\n  const classes = useStyles();\n  return (\n    <AppBar {...props} elevation={1} userMenu={<CustomUserMenu />}>\n      <Typography\n        variant=\"h6\"\n        color=\"inherit\"\n        className={classes.title}\n        id=\"react-admin-title\"\n      ></Typography>\n      <img\n        src={logo}\n        style={{\n          width: 55,\n        }}\n      />\n      <span className={classes.spacer} />\n    </AppBar>\n  );\n};\n\nexport default CustomAppBar;\n","import * as React from \"react\";\nimport { Fragment } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport {\n  List,\n  MenuItem,\n  ListItemIcon,\n  Typography,\n  Collapse,\n  Tooltip,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ExpandMore from \"@material-ui/icons/ExpandMore\";\nimport { useTranslate } from \"react-admin\";\n\nconst useStyles = makeStyles((theme) => ({\n  icon: { minWidth: theme.spacing(5) },\n  sidebarIsOpen: {\n    \"& a\": {\n      paddingLeft: theme.spacing(4),\n      transition: \"padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms\",\n    },\n  },\n  sidebarIsClosed: {\n    \"& a\": {\n      paddingLeft: theme.spacing(2),\n      transition: \"padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms\",\n    },\n  },\n}));\n\nconst SubMenu = ({ handleToggle, isOpen, name, icon, children, dense }) => {\n  const translate = useTranslate();\n  const classes = useStyles();\n  const sidebarIsOpen = useSelector((state) => state.admin.ui.sidebarOpen);\n\n  const header = (\n    <MenuItem dense={dense} button onClick={handleToggle}>\n      <ListItemIcon className={classes.icon}>\n        {isOpen ? <ExpandMore /> : icon}\n      </ListItemIcon>\n      <Typography variant=\"inherit\" color=\"textSecondary\">\n        {translate(name)}\n      </Typography>\n    </MenuItem>\n  );\n\n  return (\n    <Fragment>\n      {sidebarIsOpen || isOpen ? (\n        header\n      ) : (\n        <Tooltip title={translate(name)} placement=\"right\">\n          {header}\n        </Tooltip>\n      )}\n      <Collapse in={isOpen} timeout=\"auto\" unmountOnExit>\n        <List\n          dense={dense}\n          component=\"div\"\n          disablePadding\n          className={\n            sidebarIsOpen ? classes.sidebarIsOpen : classes.sidebarIsClosed\n          }\n        >\n          {children}\n        </List>\n      </Collapse>\n    </Fragment>\n  );\n};\n\nexport default SubMenu;\n","import React, { Component, Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { connect } from \"react-redux\";\nimport compose from \"recompose/compose\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { fade } from \"@material-ui/core/styles/colorManipulator\";\nimport ActionDelete from \"@material-ui/icons/Delete\";\nimport classnames from \"classnames\";\nimport { translate, crudDelete, startUndoable } from \"ra-core\";\nimport IconCancel from \"@material-ui/icons/Cancel\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport TextField from \"@material-ui/core/TextField\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport { Button } from \"react-admin\";\n\nconst styles = (theme) => ({\n  deleteButton: {\n    color: theme.palette.error.main,\n    \"&:hover\": {\n      backgroundColor: fade(theme.palette.error.main, 0.12),\n      // Reset on mouse devices\n      \"@media (hover: none)\": {\n        backgroundColor: \"transparent\",\n      },\n    },\n  },\n});\n\nclass CustomDeleteButton extends Component {\n  state = {\n    showDialog: false,\n  };\n\n  handleClick = () => {\n    this.setState({ showDialog: true });\n  };\n\n  handleCloseClick = () => {\n    this.setState({ showDialog: false });\n  };\n\n  handleDelete = (event) => {\n    event.preventDefault();\n    this.setState({ showDialog: false });\n    const { dispatchCrudDelete, startUndoable, resource, record, undoable } =\n      this.props;\n    if (undoable) {\n      startUndoable(dispatchCrudDelete(resource, record.id, record));\n    } else {\n      dispatchCrudDelete(resource, record.id, record);\n    }\n  };\n\n  render() {\n    const { showDialog } = this.state;\n    const {\n      label = \"ra.action.delete\",\n      classes = {},\n      className,\n      disableLable,\n    } = this.props;\n    return (\n      <Fragment>\n        <Button\n          onClick={this.handleClick}\n          label={disableLable ? \"\" : label}\n          className={classnames(\n            \"ra-delete-button\",\n            classes.deleteButton,\n            className\n          )}\n          key=\"button\"\n        >\n          <ActionDelete />\n        </Button>\n        <Dialog\n          fullWidth\n          open={showDialog}\n          onClose={this.handleCloseClick}\n          aria-label=\"Are you sure?\"\n        >\n          <form action=\"/\" method=\"POST\" onSubmit={this.handleDelete}>\n            <DialogTitle>Confirmation</DialogTitle>\n            <DialogContent>\n              <DialogContentText>\n                Are you sure you want to delete?\n              </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n              <Button\n                type=\"submit\"\n                label=\"ra.action.delete\"\n                className={classnames(\n                  \"ra-delete-button\",\n                  classes.deleteButton,\n                  className\n                )}\n                key=\"button\"\n              >\n                <ActionDelete />\n              </Button>\n              <Button label=\"ra.action.cancel\" onClick={this.handleCloseClick}>\n                <IconCancel />\n              </Button>\n            </DialogActions>\n          </form>\n        </Dialog>\n      </Fragment>\n    );\n  }\n}\n\nCustomDeleteButton.propTypes = {\n  basepath: PropTypes.string,\n  classes: PropTypes.object,\n  className: PropTypes.string,\n  dispatchCrudDelete: PropTypes.func.isRequired,\n  label: PropTypes.string,\n  record: PropTypes.object,\n  redirect: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.bool,\n    PropTypes.func,\n  ]),\n  resource: PropTypes.string,\n  startUndoable: PropTypes.func,\n  translate: PropTypes.func,\n  undoable: PropTypes.bool,\n  onSuccess: PropTypes.func,\n};\n\nCustomDeleteButton.defaultProps = {\n  redirect: \"list\",\n  undoable: true,\n};\n\nexport default compose(\n  connect(null, { startUndoable, dispatchCrudDelete: crudDelete }),\n  translate,\n  withStyles(styles)\n)(CustomDeleteButton);\n","import React from \"react\";\nimport { Pagination } from \"react-admin\";\nconst CustomPagination = (props) => (\n  <Pagination\n    rowsPerPageOptions={[5, 10, 25, 50, 100, 200, 300, 400, 500]}\n    {...props}\n  />\n);\nexport default CustomPagination;\n","import * as React from \"react\";\nimport {\n  List,\n  Datagrid,\n  TextField,\n  EmailField,\n  Edit,\n  SimpleForm,\n  TextInput,\n  Show,\n  Create,\n  SimpleShowLayout,\n  useNotify,\n  useRefresh,\n  useRedirect,\n  required,\n  ImageField,\n  RadioButtonGroupInput,\n  Toolbar,\n  SaveButton,\n  EditButton,\n  NumberInput,\n  BooleanField,\n  Filter,\n  ShowButton,\n} from \"react-admin\";\nimport Button from \"@material-ui/core/Button\";\nimport CustomDelete from \"../components/CustomDelete\";\nimport PersonIcon from \"@material-ui/icons/Person\";\n\nimport ReactToPrint from \"react-to-print\";\nimport Print from \"@material-ui/icons/Print\";\nimport CustomPagination from \"../components/PaginationCustom\";\nimport { app } from \"../contants\";\nconst PartyTitle = ({ record }) => {\n  return <span>Parties {record ? ` - ${record.name}` : \"\"}</span>;\n};\nconst UserEditToolbar = (props) => (\n  <Toolbar {...props}>\n    <SaveButton {...props} label=\"Update Party\" />\n  </Toolbar>\n);\nconst PartyFilter = (props) => (\n  <Filter {...props}>\n    <TextInput\n      label=\"Search Paty Name\"\n      source=\"name\"\n      alwaysOn\n      variant=\"outlined\"\n      fullWidth\n    />\n  </Filter>\n);\nconst CustomDeleteWrapper = ({ record }) => {\n  return (\n    <CustomDelete\n      dispatchCrudDelete={false}\n      startUndoable={false}\n      resource={\"parties\"}\n      record={record}\n      undoable={false}\n      disableLable={true}\n    />\n  );\n};\nclass PartyListPrint extends React.Component {\n  render() {\n    return (\n      <Datagrid>\n        <ImageField\n          source=\"avatar\"\n          className=\"img-round img-50\"\n          title=\"Party image\"\n          label=\"Avatar\"\n        />\n        <TextField source=\"name\" />\n        <EmailField source=\"email\" />\n        <TextField source=\"business_name\" />\n        <TextField source=\"address\" />\n        <TextField source=\"contact_number\" />\n        <BooleanField source=\"active_boolean\" label=\"Active Party\" />\n        <EditButton label=\"\" />\n        <CustomDeleteWrapper />\n      </Datagrid>\n    );\n  }\n}\n\nconst PartyList = (props) => {\n  var tableRef;\n  return (\n    <>\n      <div\n        style={{\n          marginRight: 10,\n        }}\n      >\n        <ReactToPrint\n          trigger={() => {\n            return (\n              <div\n                style={{\n                  marginTop: 10,\n                  marginBottom: 10,\n                  float: \"right\",\n                }}\n              >\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<Print fontSize=\"inherit\" />}\n                >\n                  Print\n                </Button>\n              </div>\n            );\n          }}\n          pageStyle={\"padding:20px\"}\n          content={() => tableRef}\n        />\n        <PartyListPrint ref={(el) => (tableRef = el)} {...props} />\n      </div>\n    </>\n  );\n};\nconst PartyListParent = (props) => {\n  return (\n    <List\n      filters={<PartyFilter />}\n      {...props}\n      bulkActionButtons={false}\n      sort={{ field: \"id\", order: \"desc\" }}\n      pagination={<CustomPagination />}\n    >\n      <PartyList {...props} />\n    </List>\n  );\n};\nconst PartyShow = (props) => (\n  <Show {...props} title={<PartyTitle />}>\n    <SimpleShowLayout>\n      <TextField source=\"name\" />\n      <EmailField source=\"email\" />\n      <TextField source=\"business_name\" />\n      <TextField source=\"address\" />\n      <TextField source=\"contact_number\" />\n    </SimpleShowLayout>\n  </Show>\n);\nconst PartyEdit = (props) => {\n  const notify = useNotify();\n  const refresh = useRefresh();\n  const redirect = useRedirect();\n  const onSuccess = () => {\n    notify(`Party updated successfully.`);\n    redirect(\"/parties\");\n    refresh();\n  };\n  return (\n    <Edit\n      {...props}\n      title={<PartyTitle />}\n      onFailure={(data) => {\n        notify(data.body, \"error\");\n        refresh();\n      }}\n      undoable={false}\n    >\n      <SimpleForm toolbar={<UserEditToolbar />}>\n        <TextInput\n          label=\"Business Name\"\n          source=\"business_name\"\n          fullWidth\n          variant=\"outlined\"\n          validate={required()}\n        />\n        <TextInput\n          source=\"address\"\n          fullWidth\n          variant=\"outlined\"\n          validate={required()}\n          multiline\n          rows={2}\n        />\n        <TextInput\n          label=\"Contact Number\"\n          source=\"contact_number\"\n          fullWidth\n          variant=\"outlined\"\n          validate={required()}\n        />\n        <RadioButtonGroupInput\n          source=\"active\"\n          label=\"Active Party\"\n          choices={[\n            { id: \"yes\", name: \"Yes\" },\n            { id: \"no\", name: \"No\" },\n          ]}\n        />\n      </SimpleForm>\n    </Edit>\n  );\n};\nconst PartyCreate = (props) => {\n  const notify = useNotify();\n  const refresh = useRefresh();\n  const redirect = useRedirect();\n  const onSuccess = () => {\n    notify(`Party addedd successfully.`);\n    redirect(\"/parties\");\n    refresh();\n  };\n  return (\n    <Create\n      {...props}\n      onSuccess={onSuccess}\n      onFailure={(data) => {\n        notify(data.body, \"error\");\n      }}\n    >\n      <SimpleForm>\n        <TextInput\n          source=\"name\"\n          fullWidth\n          variant=\"outlined\"\n          validate={required()}\n          value=\"Abdullah\"\n        />\n        <TextInput\n          source=\"email\"\n          fullWidth\n          variant=\"outlined\"\n          validate={required()}\n          type=\"email\"\n        />\n        <TextInput\n          source=\"password\"\n          fullWidth\n          variant=\"outlined\"\n          validate={required()}\n          type=\"password\"\n        />\n        <TextInput\n          label=\"Business Name\"\n          source=\"business_name\"\n          fullWidth\n          variant=\"outlined\"\n          validate={required()}\n        />\n        <TextInput\n          source=\"address\"\n          fullWidth\n          variant=\"outlined\"\n          validate={required()}\n          multiline\n          rows={2}\n        />\n        <TextInput\n          label=\"Contact Number\"\n          source=\"contact_number\"\n          fullWidth\n          variant=\"outlined\"\n          validate={required()}\n        />\n      </SimpleForm>\n    </Create>\n  );\n};\nexport default {\n  list: PartyListParent,\n  show: PartyShow,\n  create: PartyCreate,\n  edit: PartyEdit,\n  icon: PersonIcon,\n  name: \"parties\",\n};\n","import * as React from \"react\";\nimport {\n  List,\n  Datagrid,\n  TextField,\n  Edit,\n  SimpleForm,\n  TextInput,\n  Create,\n  ImageField,\n  Show,\n  SimpleShowLayout,\n  required,\n  ReferenceField,\n  ReferenceInput,\n  SelectInput,\n  useNotify,\n  useRefresh,\n  useRedirect,\n  Toolbar,\n  SaveButton,\n  EditButton,\n  BooleanField,\n  RadioButtonGroupInput,\n  ImageInput,\n  Filter,\n} from \"react-admin\";\nimport KitchenIcon from \"@material-ui/icons/Kitchen\";\nimport CustomPagination from \"../components/PaginationCustom\";\nconst ItemTitle = ({ record }) => {\n  return <span>Item {record ? ` - ${record.name}` : \"\"}</span>;\n};\nconst UserEditToolbar = (props) => (\n  <Toolbar {...props}>\n    <SaveButton {...props} label=\"Update Item\" />\n  </Toolbar>\n);\nconst ItemFilter = (props) => (\n  <Filter {...props}>\n    <TextInput\n      label=\"Search Item Name\"\n      source=\"name\"\n      alwaysOn\n      variant=\"outlined\"\n      fullWidth\n    />\n  </Filter>\n);\nexport const ItemList = (props) => {\n  return (\n    <List\n      {...props}\n      bulkActionButtons={false}\n      // pagination={false}\n      filters={<ItemFilter />}\n      pagination={<CustomPagination />}\n    >\n      <Datagrid rowClick=\"show\">\n        <ImageField\n          source=\"r_image\"\n          className=\"img-round img-50\"\n          title=\"Item image\"\n          label=\"Image\"\n        />\n        <TextField source=\"name\" />\n        <ReferenceField source=\"category_id\" reference=\"categories\">\n          <TextField source=\"name\" />\n        </ReferenceField>\n        <TextField source=\"added\" />\n        <BooleanField source=\"tax_boolean\" label=\"20% VAT\" />\n        <BooleanField source=\"visible_boolean\" label=\"Visible On App\" />\n        <EditButton />\n      </Datagrid>\n    </List>\n  );\n};\nexport const ItemEdit = (props) => {\n  const refresh = useRefresh();\n  const notify = useNotify();\n  return (\n    <Edit\n      {...props}\n      undoable={false}\n      title={<ItemTitle />}\n      onFailure={(data) => {\n        notify(data.body, \"error\");\n        refresh();\n      }}\n    >\n      <SimpleForm toolbar={<UserEditToolbar />}>\n        <TextInput\n          source=\"name\"\n          fullWidth\n          validate={[required()]}\n          variant=\"outlined\"\n        />\n        <ReferenceInput\n          source=\"category_id\"\n          reference=\"categories\"\n          fullWidth\n          validate={[required()]}\n          variant=\"outlined\"\n        >\n          <SelectInput optionText=\"name\" />\n        </ReferenceInput>\n        <RadioButtonGroupInput\n          source=\"tax\"\n          label=\"20% VAT\"\n          choices={[\n            { id: \"yes\", name: \"Yes\" },\n            { id: \"no\", name: \"No\" },\n          ]}\n        />\n        <RadioButtonGroupInput\n          source=\"visible\"\n          label=\"Visible on App\"\n          choices={[\n            { id: \"yes\", name: \"Yes\" },\n            { id: \"no\", name: \"No\" },\n          ]}\n        />\n        <ImageInput\n          source=\"image\"\n          accept=\"image/png, image/jpg, image/jpeg\"\n          maxSize={5000000}\n        >\n          <ImageField source=\"image\" />\n        </ImageInput>\n      </SimpleForm>\n    </Edit>\n  );\n};\nexport const ItemCreate = (props) => {\n  const notify = useNotify();\n  const refresh = useRefresh();\n  const redirect = useRedirect();\n  const onSuccess = () => {\n    notify(`Item added successfully.`);\n    redirect(\"/items\");\n    refresh();\n  };\n  return (\n    <Create\n      {...props}\n      onSuccess={onSuccess}\n      onFailure={(data) => {\n        notify(data.body, \"error\");\n      }}\n    >\n      <SimpleForm>\n        <TextInput\n          source=\"name\"\n          fullWidth\n          placeholder=\"Potato\"\n          autoFocus\n          variant=\"outlined\"\n          validate={[required()]}\n        />\n        <ReferenceInput\n          source=\"category_id\"\n          reference=\"categories\"\n          fullWidth\n          validate={[required()]}\n          variant=\"outlined\"\n        >\n          <SelectInput optionText=\"name\" />\n        </ReferenceInput>\n        <RadioButtonGroupInput\n          source=\"tax\"\n          label=\"20% VAT\"\n          choices={[\n            { id: \"yes\", name: \"Yes\" },\n            { id: \"no\", name: \"No\" },\n          ]}\n        />\n        <RadioButtonGroupInput\n          source=\"visible\"\n          label=\"Visible on App\"\n          choices={[\n            { id: \"yes\", name: \"Yes\" },\n            { id: \"no\", name: \"No\" },\n          ]}\n        />\n        <ImageInput\n          source=\"image\"\n          accept=\"image/png, image/jpg, image/jpeg\"\n          maxSize={5000000}\n        >\n          <ImageField source=\"image\" />\n        </ImageInput>\n      </SimpleForm>\n    </Create>\n  );\n};\nexport const ItemShow = (props) => (\n  <Show {...props} title={<ItemTitle />}>\n    <SimpleShowLayout>\n      <TextField source=\"id\" />\n      <TextField source=\"name\" />\n      <ReferenceField source=\"category_id\" reference=\"categories\">\n        <TextField source=\"name\" />\n      </ReferenceField>\n      <TextField source=\"added\" />\n      <ImageField source=\"image\" className=\"img-round\" alt=\"item image\" />\n    </SimpleShowLayout>\n  </Show>\n);\nexport default {\n  list: ItemList,\n  create: ItemCreate,\n  show: ItemShow,\n  edit: ItemEdit,\n  name: \"items\",\n  icon: KitchenIcon,\n};\n","import * as React from \"react\";\nimport {\n  List,\n  Datagrid,\n  TextField,\n  Edit,\n  SimpleForm,\n  TextInput,\n  Create,\n  ImageField,\n  Show,\n  SimpleShowLayout,\n  required,\n  ShowGuesser,\n  useNotify,\n  useRefresh,\n  useRedirect,\n  DeleteButton,\n  Toolbar,\n  SaveButton,\n  EditButton,\n  Filter,\n} from \"react-admin\";\nimport CategoryIcon from \"@material-ui/icons/Category\";\nconst CategoryTitle = ({ record }) => {\n  return <span>Category {record ? ` - ${record.name}` : \"\"}</span>;\n};\nconst UserEditToolbar = (props) => (\n  <Toolbar {...props}>\n    <SaveButton {...props} label=\"Update Category\" />\n  </Toolbar>\n);\nconst CategoryFilter = (props) => (\n  <Filter {...props}>\n    <TextInput\n      label=\"Search Category Name\"\n      source=\"name\"\n      alwaysOn\n      variant=\"outlined\"\n      fullWidth\n    />\n  </Filter>\n);\nexport const CategoryList = (props) => {\n  return (\n    <List {...props} bulkActionButtons={false} filters={<CategoryFilter />}>\n      <Datagrid rowClick=\"show\">\n        {/* <TextField source=\"id\" /> */}\n        <TextField source=\"name\" />\n        <EditButton />\n      </Datagrid>\n    </List>\n  );\n};\nexport const CategoryEdit = (props) => {\n  const refresh = useRefresh();\n  const notify = useNotify();\n  return (\n    <Edit\n      {...props}\n      undoable={false}\n      title={<CategoryTitle />}\n      onFailure={(data) => {\n        notify(data.body, \"error\");\n\n        refresh();\n      }}\n    >\n      <SimpleForm toolbar={<UserEditToolbar />}>\n        <TextInput\n          source=\"name\"\n          fullWidth\n          validate={[required()]}\n          variant=\"outlined\"\n        />\n      </SimpleForm>\n    </Edit>\n  );\n};\nexport const CategoryCreate = (props) => {\n  const notify = useNotify();\n  const refresh = useRefresh();\n  const redirect = useRedirect();\n  const onSuccess = () => {\n    notify(`Catgeory addedd successfully.`);\n    redirect(\"/categories\");\n    refresh();\n  };\n  return (\n    <Create\n      {...props}\n      onSuccess={onSuccess}\n      onFailure={(data) => {\n        notify(data.body, \"error\");\n      }}\n    >\n      <SimpleForm>\n        <TextInput\n          source=\"name\"\n          fullWidth\n          placeholder=\"Fruits\"\n          autoFocus\n          variant=\"outlined\"\n        />\n      </SimpleForm>\n    </Create>\n  );\n};\nexport const CategoryShow = (props) => (\n  <Show {...props} title={<CategoryTitle />}>\n    <SimpleShowLayout>\n      <TextField source=\"id\" />\n      <TextField source=\"name\" />\n      <ImageField source=\"image\" className=\"img-round\" alt=\"item image\" />\n    </SimpleShowLayout>\n  </Show>\n);\nexport default {\n  create: CategoryCreate,\n  list: CategoryList,\n  edit: CategoryEdit,\n  name: \"categories\",\n  icon: CategoryIcon,\n  show: ShowGuesser,\n};\n","import * as React from \"react\";\nimport {\n  List,\n  Datagrid,\n  TextField,\n  Edit,\n  SimpleForm,\n  TextInput,\n  ImageField,\n  Show,\n  SimpleShowLayout,\n  required,\n  ShowGuesser,\n  useNotify,\n  useRefresh,\n  useRedirect,\n  Toolbar,\n  SaveButton,\n  EditButton,\n  Filter,\n  DateInput,\n  NumberInput,\n  DeleteButton,\n  ShowButton,\n  ReferenceInput,\n  AutocompleteInput,\n  ReferenceField,\n  useDataProvider,\n  Loading,\n} from \"react-admin\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport ExpenseIcon from \"@material-ui/icons/DonutSmall\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport moment from \"moment\";\nimport {\n  FormControl,\n  FormHelperText,\n  TextField as MTextField,\n  Card,\n} from \"@material-ui/core\";\nimport { app } from \"../contants\";\nimport axios from \"axios\";\n\nconst UserEditToolbar = (props) => (\n  <Toolbar {...props}>\n    <SaveButton {...props} label=\"Update Expense\" />\n  </Toolbar>\n);\nconst ExpenseFilter = (props) => (\n  <Filter {...props}>\n    <DateInput source=\"start_date\" alwaysOn variant=\"outlined\" />\n    <DateInput source=\"end_date\" alwaysOn variant=\"outlined\" />\n    <ReferenceInput\n      source=\"expense_type\"\n      reference=\"expense_types\"\n      alwaysOn\n      variant=\"outlined\"\n      perPage={10000000}\n      fullWidth\n      filterToQuery={(searchText) => ({ name: searchText })}\n    >\n      <AutocompleteInput optionText=\"name\" />\n    </ReferenceInput>\n  </Filter>\n);\nexport const ExpenseList = (props) => {\n  return (\n    <List {...props} bulkActionButtons={false} filters={<ExpenseFilter />}>\n      <Datagrid rowClick=\"show\">\n        <ReferenceField\n          source=\"expense_type.id\"\n          reference=\"expense_types\"\n          label={\"Expense Type\"}\n        >\n          <TextField source=\"name\" />\n        </ReferenceField>\n        <TextField source=\"amount\" label={`Amount(${app.currencySymbol})`} />\n        <TextField source=\"extra\" label={\"E.Name\"} emptyText=\"--\" />\n        <TextField source=\"date\" />\n        <TextField source=\"created_at\" label={\"Created At\"} />\n        <EditButton />\n        <ShowButton />\n        <DeleteButton />\n      </Datagrid>\n    </List>\n  );\n};\nexport const ExpenseEdit = (props) => {\n  const refresh = useRefresh();\n  const notify = useNotify();\n  return (\n    <Edit\n      {...props}\n      undoable={false}\n      onFailure={(data) => {\n        notify(data.body, \"error\");\n        refresh();\n      }}\n    >\n      <SimpleForm toolbar={<UserEditToolbar />}>\n        <ReferenceInput\n          source=\"expense_type_id\"\n          reference=\"expense_types\"\n          fullWidth\n          validate={[required()]}\n          variant=\"outlined\"\n          perPage={10000000}\n          filterToQuery={(searchText) => ({ name: searchText })}\n        >\n          <AutocompleteInput optionText=\"name\" />\n        </ReferenceInput>\n        <NumberInput\n          source=\"amount\"\n          variant=\"outlined\"\n          fullWidth\n          validate={[required()]}\n          label={`Amount(${app.currencySymbol})`}\n        />\n        <TextInput\n          source=\"extra\"\n          variant=\"outlined\"\n          fullWidth\n          validate={[required()]}\n          label={`Employee Name`}\n        />\n      </SimpleForm>\n    </Edit>\n  );\n};\nexport const ExpenseCreate = (props) => {\n  const notify = useNotify();\n  const redirect = useRedirect();\n  const refresh = useRefresh();\n  const [expenseTypes, setExpenseTypes] = React.useState([]);\n  const [listExpenseTypes, setListExpenseTypes] = React.useState([]);\n  const [expenseType, setExpenseType] = React.useState();\n  const [loading, setLoading] = React.useState(false);\n  const [date, setDate] = React.useState(moment().format(\"YYYY-MM-DD\"));\n  const dataProvider = useDataProvider();\n  const processExpenseType = (expenseType, index) => {\n    return {\n      ...expenseType,\n      id: index,\n      expense_type_id: expenseType.id,\n      amount: expenseType.default_amount,\n      extend: expenseType.name == \"Wages\" ? true : false,\n      extra: null,\n    };\n  };\n  const loadData = async () => {\n    setLoading(true);\n    const { data: expense_types } = await dataProvider.getListSimple(\n      \"expense_types\"\n    );\n    var updated_expense_types = app\n      .sort(expense_types)\n      .map((i, index) => processExpenseType(i, index));\n    setExpenseTypes(updated_expense_types);\n    let temp_updated_expense_types = updated_expense_types.filter(\n      (i) => i.name == \"Wages\"\n    );\n    setListExpenseTypes(temp_updated_expense_types);\n    setExpenseType(temp_updated_expense_types[0]);\n    setLoading(false);\n  };\n  const addExpense = async () => {\n    if (!date) {\n      notify(\"Please select date.\", \"error\");\n    }\n    const tempExpenseTypes = [];\n    expenseTypes.forEach((item) => {\n      let amount = item.amount.toString();\n      let amounts = amount.split(\"+\").map((i) => parseFloat(i));\n      amounts.forEach((am) => {\n        if (am && am > 0) {\n          tempExpenseTypes.push({\n            date,\n            amount: parseFloat(am),\n            expense_type_id: item.expense_type_id,\n            extra: item.extra,\n          });\n        }\n      });\n    });\n    const url = `${app.api}expenses`;\n    await axios\n      .post(url, {\n        expenses: tempExpenseTypes,\n      })\n      .then(({ data }) => {\n        notify(\"Expenses added successfully.\", \"success\");\n        redirect(\"/expenses\");\n        refresh();\n      })\n      .catch((result) => {\n        notify(\"Expenses not added.\", \"error\");\n      });\n  };\n  const changeAmount = (id, amount) => {\n    const tempExpenseTypes = [...expenseTypes];\n    tempExpenseTypes[id].amount = amount;\n    setExpenseTypes(tempExpenseTypes);\n  };\n  const changeExtra = (id, extra) => {\n    const tempExpenseTypes = [...expenseTypes];\n    tempExpenseTypes[id].extra = extra;\n    setExpenseTypes(tempExpenseTypes);\n  };\n  React.useEffect(loadData, []);\n  if (loading) return <Loading loadingPrimary=\"\" loadingSecondary=\"\" />;\n  else if (!expenseTypes.length)\n    return (\n      <Card\n        variant=\"elevation\"\n        style={{\n          padding: 15,\n        }}\n      >\n        <div>No expense types found. Please add.</div>\n      </Card>\n    );\n  else\n    return (\n      <Card\n        variant=\"elevation\"\n        style={{\n          padding: 15,\n        }}\n      >\n        <FormControl fullWidth>\n          <Grid\n            container\n            spacing={2}\n            style={{\n              paddingBottom: 8,\n            }}\n          >\n            <Grid item xs={12} md={9}>\n              <Autocomplete\n                value={expenseType}\n                onChange={(event, value) => {\n                  if (value) {\n                    setExpenseType(value);\n                  }\n                }}\n                options={listExpenseTypes}\n                getOptionLabel={(e_type) => `${e_type.name}`}\n                renderInput={(params) => (\n                  <MTextField\n                    {...params}\n                    label=\"\"\n                    variant=\"outlined\"\n                    size=\"small\"\n                  />\n                )}\n              />\n              <FormHelperText>Add extra Expense Type</FormHelperText>\n            </Grid>\n            <Grid item xs={12} md={3}>\n              <Button\n                startIcon={<SaveIcon />}\n                variant=\"contained\"\n                color=\"primary\"\n                fullWidth\n                onClick={() => {\n                  var tempExpenseType = {\n                    ...expenseType,\n                    id: expenseTypes.length,\n                  };\n                  setExpenseTypes(\n                    app\n                      .sort([...expenseTypes, tempExpenseType])\n                      .map((i, j) => ({\n                        ...i,\n                        id: j,\n                      }))\n                  );\n                }}\n              >\n                Add Expense Type\n              </Button>\n            </Grid>\n          </Grid>\n\n          <div style={{ marginBottom: 10 }}>\n            <MTextField\n              value={date}\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n              type=\"date\"\n              onChange={(e) => setDate(e.target.value)}\n            />\n            <FormHelperText>\n              Enter Date, enter any date to record expense.\n            </FormHelperText>\n          </div>\n          <Grid\n            container\n            spacing={2}\n            style={{\n              padding: 8,\n            }}\n          >\n            {expenseTypes.map((expense_type) => (\n              <div style={{ marginBottom: 10 }} key={expense_type.id}>\n                <Grid item xs={12} md={12}>\n                  <MTextField\n                    style={{ padding: 2 }}\n                    label={`${expense_type.name}(${app.currencySymbol})`}\n                    variant=\"outlined\"\n                    size=\"small\"\n                    value={expense_type.amount}\n                    onChange={(e) => {\n                      changeAmount(expense_type.id, e.target.value);\n                    }}\n                  />\n                </Grid>\n                {expense_type.extend && (\n                  <MTextField\n                    style={{ padding: 2 }}\n                    label=\"Employee Name\"\n                    variant=\"outlined\"\n                    size=\"small\"\n                    value={expense_type.extra}\n                    onChange={(e) => {\n                      changeExtra(expense_type.id, e.target.value);\n                    }}\n                  />\n                )}\n              </div>\n            ))}\n          </Grid>\n          <div>\n            <Button\n              style={{ marginTop: 10 }}\n              startIcon={<SaveIcon />}\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={addExpense}\n            >\n              Add Expense\n            </Button>\n          </div>\n        </FormControl>\n      </Card>\n    );\n};\nexport const ExpenseShow = (props) => (\n  <Show {...props}>\n    <SimpleShowLayout>\n      <TextField source=\"id\" />\n      <TextField source=\"name\" />\n      <ImageField source=\"image\" className=\"img-round\" alt=\"item image\" />\n    </SimpleShowLayout>\n  </Show>\n);\nexport default {\n  create: ExpenseCreate,\n  list: ExpenseList,\n  edit: ExpenseEdit,\n  name: \"expenses\",\n  icon: ExpenseIcon,\n  show: ShowGuesser,\n};\n","import * as React from \"react\";\nimport {\n  List,\n  Datagrid,\n  TextField,\n  Edit,\n  SimpleForm,\n  TextInput,\n  Create,\n  ImageField,\n  Show,\n  SimpleShowLayout,\n  required,\n  ShowGuesser,\n  useNotify,\n  useRefresh,\n  useRedirect,\n  SelectInput,\n  Toolbar,\n  SaveButton,\n  EditButton,\n  Filter,\n  DateInput,\n  NumberInput,\n  DeleteButton,\n  ShowButton,\n} from \"react-admin\";\nimport ExpenseIcon from \"@material-ui/icons/FontDownload\";\nimport { app } from \"../contants\";\n\nconst UserEditToolbar = (props) => (\n  <Toolbar {...props}>\n    <SaveButton {...props} label=\"Update Expense\" />\n  </Toolbar>\n);\nexport const ExpenseList = (props) => {\n  return (\n    <List {...props} bulkActionButtons={false}>\n      <Datagrid rowClick=\"show\">\n        <TextField source=\"id\" />\n        <TextField source=\"name\" />\n        <TextField source=\"default_amount\" label={\"Default Amount\"} />\n        <TextField source=\"created_at\" label={\"Created At\"} />\n        <EditButton />\n        <ShowButton />\n        <DeleteButton />\n      </Datagrid>\n    </List>\n  );\n};\nexport const ExpenseEdit = (props) => {\n  const refresh = useRefresh();\n  const notify = useNotify();\n  return (\n    <Edit\n      {...props}\n      undoable={false}\n      onFailure={(data) => {\n        notify(data.body, \"error\");\n        refresh();\n      }}\n    >\n      <SimpleForm toolbar={<UserEditToolbar />}>\n        <TextInput\n          source=\"name\"\n          fullWidth\n          validate={[required()]}\n          variant=\"outlined\"\n        />\n        <NumberInput\n          source=\"default_amount\"\n          variant=\"outlined\"\n          fullWidth\n          validate={[required()]}\n          label={`Default Amount(${app.currencySymbol})`}\n          defaultValue={\"0\"}\n        />\n      </SimpleForm>\n    </Edit>\n  );\n};\nexport const ExpenseCreate = (props) => {\n  const notify = useNotify();\n  const refresh = useRefresh();\n  const redirect = useRedirect();\n  const onSuccess = () => {\n    notify(`Expense addedd successfully.`);\n    redirect(\"/expense_types\");\n    refresh();\n  };\n  return (\n    <Create\n      {...props}\n      onSuccess={onSuccess}\n      onFailure={(data) => {\n        notify(data.body, \"error\");\n      }}\n    >\n      <SimpleForm>\n        <TextInput\n          source=\"name\"\n          fullWidth\n          validate={[required()]}\n          variant=\"outlined\"\n        />\n        <NumberInput\n          source=\"default_amount\"\n          variant=\"outlined\"\n          fullWidth\n          validate={[required()]}\n          label={`Default Amount(${app.currencySymbol})`}\n          defaultValue={\"0\"}\n        />\n      </SimpleForm>\n    </Create>\n  );\n};\nexport const ExpenseShow = (props) => (\n  <Show {...props}>\n    <SimpleShowLayout>\n      <TextField source=\"id\" />\n      <TextField source=\"name\" />\n      <ImageField source=\"image\" className=\"img-round\" alt=\"item image\" />\n    </SimpleShowLayout>\n  </Show>\n);\nexport default {\n  create: ExpenseCreate,\n  list: ExpenseList,\n  edit: ExpenseEdit,\n  name: \"expense_types\",\n  icon: ExpenseIcon,\n  show: ShowGuesser,\n};\n","import * as React from \"react\";\nimport { useReactToPrint } from \"react-to-print\";\nimport {\n  List,\n  Filter,\n  DateInput,\n  ReferenceInput,\n  AutocompleteInput,\n} from \"react-admin\";\nimport Button from \"@material-ui/core/Button\";\nimport Print from \"@material-ui/icons/Print\";\nimport Card from \"@material-ui/core/Card\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport ExpenseIcon from \"@material-ui/icons/BarChart\";\nimport { app } from \"../contants\";\nimport moment from \"moment\";\nconst ExpenseFilter = (props) => (\n  <Filter {...props}>\n    <DateInput source=\"start_date\" alwaysOn variant=\"outlined\" />\n    <DateInput source=\"end_date\" alwaysOn variant=\"outlined\" />\n    <ReferenceInput\n      source=\"expense_type\"\n      reference=\"expense_types\"\n      alwaysOn\n      variant=\"outlined\"\n      perPage={10000000}\n      fullWidth\n      filterToQuery={(searchText) => ({ name: searchText })}\n    >\n      <AutocompleteInput optionText=\"name\" />\n    </ReferenceInput>\n  </Filter>\n);\nconst process_expense = (expense) => {\n  return {\n    id: expense.id,\n    amount: expense.amount,\n    date: expense.date,\n    extra: expense.extra,\n    expense_type: expense.expense_type.name,\n  };\n};\nconst ExpenseListView = (props) => {\n  const [expenses, setExpenses] = React.useState([]);\n  const [headers, setHeaders] = React.useState([]);\n  const [totalAmounts, setTotalAmounts] = React.useState([]);\n  React.useEffect(() => {\n    const expenses_data = Object.keys(props.data).map(\n      (item) => props.data[item]\n    );\n    if (expenses_data.length > 0) {\n      var processed_expenses = {};\n\n      expenses_data.forEach((item) => {\n        if (processed_expenses[item.expense_type.name] === undefined) {\n          processed_expenses[item.expense_type.name] = [process_expense(item)];\n        } else {\n          processed_expenses[item.expense_type.name].push(\n            process_expense(item)\n          );\n        }\n      });\n      const processed_total_amounts = Object.keys(processed_expenses).map((e) =>\n        processed_expenses[e].reduce((a, b) => a + b.amount, 0)\n      );\n      setTotalAmounts(processed_total_amounts);\n      const expense_types_keys = Object.keys(processed_expenses);\n      setHeaders(expense_types_keys);\n      const rows = Math.max.apply(\n        null,\n        expense_types_keys.map((key) => processed_expenses[key].length)\n      );\n\n      expense_types_keys.map((key) => {\n        let length = processed_expenses[key].length;\n        processed_expenses[key] = processed_expenses[key].concat(\n          new Array(Math.abs(length - rows)).fill(null)\n        );\n      });\n      const new_expenses = [];\n      for (let i = 0; i < rows; i++) {\n        new_expenses.push([]);\n      }\n      Object.values(processed_expenses).map((e_type) => {\n        e_type.map((expense, index) => {\n          new_expenses[index].push(expense);\n        });\n      });\n      setExpenses(new_expenses);\n    } else {\n      setExpenses([]);\n      setHeaders([]);\n      setTotalAmounts([]);\n    }\n  }, [props]);\n  const componentRef = React.useRef();\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n  if (expenses.length > 0)\n    return (\n      <>\n        <Button\n          style={{\n            margin: 10,\n            float: \"right\",\n          }}\n          variant=\"contained\"\n          color=\"primary\"\n          startIcon={<Print fontSize=\"inherit\" />}\n          onClick={handlePrint}\n        >\n          Print\n        </Button>\n        <Table size=\"small\" ref={componentRef}>\n          <TableHead>\n            <TableRow>\n              {headers.map((key, index) => (\n                <TableCell key={index}>\n                  {key}({app.currencySymbol})\n                </TableCell>\n              ))}\n              <TableCell>Total({app.currencySymbol})</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {expenses.map((row) => (\n              <TableRow>\n                {row.map((expense, index) => (\n                  <TableCell key={index}>\n                    {expense && (\n                      <div>\n                        {expense.amount.toFixed(2)}\n                        {expense.extra && ` - ${expense.extra}`}\n                        <FormHelperText>{expense.date}</FormHelperText>\n                      </div>\n                    )}\n                  </TableCell>\n                ))}\n              </TableRow>\n            ))}\n            <TableRow>\n              {totalAmounts.map((amount, index) => (\n                <TableCell key={index}>\n                  <strong>{amount.toFixed(2)}</strong>\n                </TableCell>\n              ))}\n              <TableCell>\n                <strong>\n                  {totalAmounts.reduce((a, b) => a + b, 0).toFixed(2)}\n                </strong>\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </>\n    );\n  else\n    return (\n      <Card\n        variant=\"outlined\"\n        style={{\n          padding: 15,\n        }}\n      >\n        Expenses not found.\n      </Card>\n    );\n};\nexport const ExpenseList = (props) => {\n  return (\n    <List\n      {...props}\n      filters={<ExpenseFilter />}\n      bulkActionButtons={false}\n      pagination={false}\n      hasCreate={false}\n      perPage={1000000}\n      empty={false}\n    >\n      <ExpenseListView />\n    </List>\n  );\n};\n\nexport default {\n  list: ExpenseList,\n  name: \"expense_views\",\n  icon: ExpenseIcon,\n};\n","import * as React from \"react\";\nimport {\n  List,\n  Datagrid,\n  TextField,\n  Edit,\n  SimpleForm,\n  TextInput,\n  Create,\n  ImageField,\n  Show,\n  SimpleShowLayout,\n  ReferenceField,\n  SelectInput,\n  ReferenceInput,\n  required,\n  useNotify,\n  useRefresh,\n  useRedirect,\n  NumberInput,\n  RadioButtonGroupInput,\n  Filter,\n  useDataProvider,\n  EditButton,\n  DateField,\n  DateInput,\n  BooleanField,\n  Toolbar,\n  SaveButton,\n  AutocompleteInput,\n} from \"react-admin\";\nimport {\n  InputAdornment,\n  TextField as MaterialTextField,\n} from \"@material-ui/core\";\nimport DynamicFeedIcon from \"@material-ui/icons/DynamicFeed\";\nimport { app } from \"../contants\";\nimport { ListAlt } from \"@material-ui/icons\";\nimport CustomPagination from \"../components/PaginationCustom\";\nconst InventoryTitle = ({ record }) => {\n  //return <span>Inventory {record ? ` - ${record.name}` : \"\"}</span>;\n  return <span>Inventory</span>;\n};\nconst UserEditToolbar = (props) => (\n  <Toolbar {...props}>\n    <SaveButton {...props} label=\"Update Inventory\" />\n  </Toolbar>\n);\nconst InventoryFilter = (props) => (\n  <Filter {...props}>\n    <DateInput\n      source=\"created_at\"\n      label=\"Select Date\"\n      variant=\"outlined\"\n      alwaysOn\n    />\n    <ReferenceInput\n      source=\"item_id\"\n      reference=\"items\"\n      alwaysOn\n      variant=\"outlined\"\n      perPage={10000000}\n      filterToQuery={(searchText) => ({ name: searchText })}\n    >\n      <AutocompleteInput optionText=\"name\" />\n    </ReferenceInput>\n  </Filter>\n);\nconst InventoryList = (props) => {\n  return (\n    <List\n      {...props}\n      filters={<InventoryFilter />}\n      bulkActionButtons={false}\n      sort={{ field: \"id\", order: \"desc\" }}\n      pagination={<CustomPagination />}\n    >\n      <Datagrid rowClick=\"edit\">\n        <ReferenceField source=\"item_id\" reference=\"items\">\n          <TextField source=\"name\" />\n        </ReferenceField>\n        <TextField\n          source=\"buying_price\"\n          label={`Buying Price(${app.currencySymbol})`}\n        />\n        <TextField\n          source=\"selling_price\"\n          label={`Selling Price(${app.currencySymbol})`}\n        />\n        <TextField source=\"unit\" label=\"Total Units\" />\n        <TextField source=\"remaining_unit\" label=\"Remaining Units\" />\n        <BooleanField source=\"tax_available\" label=\"20% VAT\" sortable={false} />\n        <BooleanField source=\"active\" label=\"Price on App\" sortable={false} />\n        <TextField source=\"date\" label=\"Added\" />\n      </Datagrid>\n    </List>\n  );\n};\n\nconst InventoryEdit = (props) => {\n  const [choices, setChoices] = React.useState([]);\n  const [newIndex, setNewIndex] = React.useState(0);\n  const dataProvider = useDataProvider();\n\n  const loadSellingPrice = (item_id) => {\n    dataProvider\n      .getListSimple(\"inventories\", { item_id })\n      .then(({ data }) => {\n        const newChoices = data.map((item, index) => ({\n          id: parseFloat(item.selling_price),\n          name: ` ${item.selling_price} - ${item.date}`,\n          value: parseFloat(item.selling_price),\n        }));\n        setChoices(newChoices);\n        setNewIndex(newChoices.length);\n      })\n      .catch((error) => {});\n  };\n  const addSellingPrice = (newSellingPrice) => {\n    var temp = [...choices];\n    temp[newIndex] = {\n      id: newSellingPrice,\n      name: ` ${newSellingPrice ? newSellingPrice : 0} - Today`,\n      value: newSellingPrice,\n    };\n    setChoices(temp);\n  };\n  React.useEffect(() => {\n    dataProvider\n      .getOne(\"inventories\", { id: props.id })\n      .then(({ data }) => {\n        loadSellingPrice(data.item_id);\n      })\n      .catch((error) => {});\n  }, []);\n  return (\n    <Edit {...props} undoable={false}>\n      <SimpleForm toolbar={<UserEditToolbar />}>\n        <ReferenceInput\n          source=\"item_id\"\n          reference=\"items\"\n          fullWidth\n          validate={[required()]}\n          variant=\"outlined\"\n          onChange={(event) => loadSellingPrice(event.target.value)}\n        >\n          <SelectInput optionText=\"name\" />\n        </ReferenceInput>\n        <NumberInput\n          source=\"buying_price\"\n          InputProps={{\n            inputProps: {\n              max: 100,\n              min: 10,\n            },\n          }}\n          fullWidth\n          placeholder=\"100\"\n          validate={[required()]}\n          label=\"Buying Price\"\n          variant=\"outlined\"\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                {app.currencySymbol}\n              </InputAdornment>\n            ),\n          }}\n        />\n        <MaterialTextField\n          fullWidth\n          placeholder=\"150\"\n          label=\"Selling Price\"\n          variant=\"outlined\"\n          size=\"small\"\n          type=\"number\"\n          required\n          onChange={(event) => addSellingPrice(parseFloat(event.target.value))}\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                {app.currencySymbol}\n              </InputAdornment>\n            ),\n          }}\n          style={{\n            marginBottom: 20,\n          }}\n        />\n        {choices.length > 0 && (\n          <RadioButtonGroupInput\n            label=\"Today's Selling Price\"\n            source=\"selling_price\"\n            choices={choices}\n            validate={[required()]}\n            row={false}\n          />\n        )}\n      </SimpleForm>\n    </Edit>\n  );\n};\nconst InventoryCreate = (props) => {\n  const notify = useNotify();\n  const refresh = useRefresh();\n  const redirect = useRedirect();\n  const [choices, setChoices] = React.useState([]);\n  const [newIndex, setNewIndex] = React.useState(0);\n  const dataProvider = useDataProvider();\n  const onSuccess = () => {\n    notify(`Inventory addedd successfully.`);\n    redirect(\"/inventories\");\n    refresh();\n  };\n  const loadSellingPrice = (item_id) => {\n    dataProvider\n      .getListSimple(\"inventories\", { item_id })\n      .then(({ data }) => {\n        const newChoices = data.map((item, index) => ({\n          id: parseFloat(item.selling_price),\n          name: ` ${item.selling_price} - ${item.date}`,\n          value: parseFloat(item.selling_price),\n        }));\n        setChoices(newChoices);\n        setNewIndex(newChoices.length);\n      })\n      .catch((error) => {});\n  };\n  const addSellingPrice = (newSellingPrice) => {\n    var temp = [...choices];\n    temp[newIndex] = {\n      id: newSellingPrice,\n      name: ` ${newSellingPrice ? newSellingPrice : 0} - Today`,\n      value: newSellingPrice,\n    };\n    setChoices(temp);\n  };\n  return (\n    <Create {...props} onSuccess={onSuccess}>\n      <SimpleForm>\n        <ReferenceInput\n          source=\"item_id\"\n          reference=\"items\"\n          fullWidth\n          validate={[required()]}\n          variant=\"outlined\"\n          onChange={(event) => loadSellingPrice(event)}\n          perPage={10000000}\n          filterToQuery={(searchText) => ({ name: searchText })}\n        >\n          <AutocompleteInput optionText=\"name\" />\n        </ReferenceInput>\n        <NumberInput\n          source=\"buying_price\"\n          fullWidth\n          placeholder=\"100\"\n          validate={[required()]}\n          label=\"Buying Price\"\n          variant=\"outlined\"\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                {app.currencySymbol}\n              </InputAdornment>\n            ),\n          }}\n        />\n        <MaterialTextField\n          fullWidth\n          placeholder=\"150\"\n          label=\"Selling Price\"\n          variant=\"outlined\"\n          size=\"small\"\n          type=\"number\"\n          required\n          onChange={(event) => addSellingPrice(parseFloat(event.target.value))}\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                {app.currencySymbol}\n              </InputAdornment>\n            ),\n          }}\n          style={{\n            marginBottom: 20,\n          }}\n        />\n        <NumberInput\n          source=\"unit\"\n          fullWidth\n          placeholder=\"150\"\n          label=\"Units\"\n          variant=\"outlined\"\n          validate={[required()]}\n          InputProps={{\n            startAdornment: <InputAdornment position=\"start\">=</InputAdornment>,\n          }}\n        />\n        {choices.length > 0 && (\n          <RadioButtonGroupInput\n            label=\"Today's Selling Price\"\n            source=\"selling_price\"\n            choices={choices}\n            validate={[required()]}\n            row={false}\n          />\n        )}\n      </SimpleForm>\n    </Create>\n  );\n};\nconst InventoryShow = (props) => (\n  <Show {...props} title={<InventoryTitle />}>\n    <SimpleShowLayout>\n      <TextField source=\"id\" />\n      <ReferenceField source=\"item_id\" reference=\"items\">\n        <TextField source=\"name\" />\n      </ReferenceField>\n      <TextField\n        source=\"buying_price\"\n        label={`Buying Price(${app.currencySymbol})`}\n      />\n      <TextField\n        source=\"selling_price\"\n        label={`Selling Price(${app.currencySymbol})`}\n      />\n      <TextField source=\"unit\" />\n      <DateField source=\"date\" showTime />\n    </SimpleShowLayout>\n  </Show>\n);\nexport default {\n  list: InventoryList,\n  create: InventoryCreate,\n  show: InventoryShow,\n  edit: InventoryEdit,\n  options: {\n    label: \"Inventory\",\n  },\n  name: \"inventories\",\n  icon: ListAlt,\n};\n","import React, { Component } from \"react\";\nimport {\n  Link,\n  Loading,\n  Title,\n  useNotify,\n  useRefresh,\n  useRedirect,\n} from \"react-admin\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport Grid from \"@material-ui/core/Grid\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { app } from \"../contants\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { AddShoppingCart, PlusOne, RemoveCircle } from \"@material-ui/icons\";\nimport Button from \"@material-ui/core/Button\";\nimport dataProvider from \"../providers/dataProvider\";\nimport axios from \"axios\";\nimport {\n  InputAdornment,\n  TextField as MaterialTextField,\n} from \"@material-ui/core\";\nconst classes = {\n  root: { margin: \"auto\", border: \"none\" },\n  spacer: { height: 20 },\n  invoices: { margin: \"10px 0\" },\n};\nconst getUpdatedTotal = (cart) => {\n  let tempItems = [...cart];\n  const totalSum = tempItems.reduce(\n    (a, b) => a + b[\"price\"] * b[\"quantity\"],\n    0\n  );\n  const totalTax = tempItems.reduce((a, b) => a + b[\"tax\"] * b[\"quantity\"], 0);\n  let temp = {\n    cart: tempItems.map((item) => ({\n      price: parseFloat(item.price).toFixed(2),\n      buying_price: item.buying_price,\n      tax: parseFloat(item.tax),\n      quantity: item.quantity,\n      total: (parseFloat(item.price) * item.quantity).toFixed(2),\n      item_id: item.item_id,\n      inventory_id: item.inventory_id,\n      title: item.title,\n      inventory_id: item.inventory_id,\n      max: item.max,\n    })),\n    total: parseFloat(totalSum) + parseFloat(totalTax),\n    sub_total: parseFloat(totalSum),\n    total_tax: parseFloat(totalTax),\n  };\n  return temp;\n};\nconst Cart = ({ data, submitOrder, setData, del }) => {\n  var totalWithOutTax = 0;\n  if (data.cart.length == 0) return <p>There is no item in cart.</p>;\n  const handleRemoveCartItem = (id) => {\n    let newData = { ...data };\n    newData.cart = newData.cart.filter((item) => item.inventory_id != id);\n    newData = { ...newData, ...getUpdatedTotal(newData.cart) };\n    setData(newData);\n  };\n  return (\n    <Table size=\"small\">\n      <TableHead>\n        <TableRow>\n          {del && (\n            <TableCell\n              style={{\n                width: 10,\n              }}\n            ></TableCell>\n          )}\n          <TableCell>Item</TableCell>\n          <TableCell align=\"right\">Quantity</TableCell>\n          <TableCell align=\"right\">Unit Price({app.currencySymbol})</TableCell>\n          <TableCell align=\"right\">20% VAT({app.currencySymbol})</TableCell>\n          <TableCell align=\"right\">Total({app.currencySymbol})</TableCell>\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        {data.cart.map((item, index) => {\n          let total = parseFloat(item.price) * item.quantity;\n          totalWithOutTax += total;\n          total += item.quantity * item.tax;\n          return (\n            <TableRow key={index}>\n              {del && (\n                <TableCell>\n                  <RemoveCircle\n                    onClick={() => handleRemoveCartItem(item.inventory_id)}\n                    color=\"error\"\n                  />\n                </TableCell>\n              )}\n              <TableCell>\n                <Link to={`/items/${item.item_id}/show`} target=\"_blank\">\n                  {item.title}\n                </Link>\n              </TableCell>\n              <TableCell align=\"right\">{item.quantity}</TableCell>\n              <TableCell align=\"right\">{item.price}</TableCell>\n              <TableCell align=\"right\">{item.tax * item.quantity}</TableCell>\n              <TableCell align=\"right\">\n                <strong>{total.toFixed(2)}</strong>\n              </TableCell>\n            </TableRow>\n          );\n        })}\n        <TableRow>\n          <TableCell align=\"right\" colSpan={del ? 5 : 4}>\n            <strong>{data.total_tax.toFixed(2)}</strong>\n          </TableCell>\n          <TableCell align=\"right\">\n            <strong>{data.sub_total.toFixed(2)}</strong>\n          </TableCell>\n        </TableRow>\n        <TableRow>\n          <TableCell align=\"right\" colSpan={del ? 5 : 4}>\n            <strong>Total({app.currencySymbol})</strong>\n          </TableCell>\n          <TableCell align=\"right\">\n            <strong>{data.total.toFixed(2)}</strong>\n          </TableCell>\n        </TableRow>\n        <TableRow>\n          <TableCell align=\"right\" colSpan={6}>\n            <Button\n              startIcon={<SaveIcon />}\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={submitOrder}\n            >\n              Update Order\n            </Button>\n          </TableCell>\n        </TableRow>\n      </TableBody>\n    </Table>\n  );\n};\nconst useStyles = makeStyles({\n  root: {\n    marginTop: \"1em\",\n  },\n\n  headings: {\n    margin: \"10px 6px\",\n  },\n  form: {\n    width: \"100%\",\n  },\n\n  textInput: {\n    marginTop: 8,\n  },\n  label: {\n    color: \"rgba(0,0,0,0.6)\",\n    fontSize: 12,\n    margin: \"5px 0px\",\n  },\n});\n\nconst OrderEdit = (props) => {\n  const classes = useStyles();\n  const notify = useNotify();\n  const refresh = useRefresh();\n  const redirect = useRedirect();\n  const [data, setData] = React.useState({\n    cart: [],\n    total_tax: 0,\n    sub_total: 0,\n    total: 0,\n  });\n  const [loading, setLoading] = React.useState(false);\n  const [order, setOrder] = React.useState();\n  const [inventories, setInventories] = React.useState([]);\n  const [quantity, setQuantity] = React.useState(1);\n  const [sellPrice, setSellPrice] = React.useState(0);\n  const [inventory, setInventory] = React.useState([]);\n  const [status, setStatus] = React.useState(\"Completed\");\n  const [van, setVan] = React.useState(app.vans[0]);\n  React.useEffect(() => {\n    const loadData = async () => {\n      setLoading(true);\n      try {\n        const { data: singleOrder } = await dataProvider.getOne(\"orders\", {\n          id: props.id,\n        });\n        setOrder(singleOrder);\n        setVan(singleOrder.van);\n        setData({\n          ...data,\n          cart: singleOrder.cart,\n          ...getUpdatedTotal(singleOrder.cart),\n        });\n        setStatus(singleOrder.status);\n        var inventories = (\n          await dataProvider.getListSimple(\"inventories\", {\n            available: true,\n          })\n        ).data;\n        inventories = inventories\n          .map((item) => ({\n            id: item.id,\n            title: item.title,\n            price: parseFloat(item.selling_price).toFixed(2),\n            buying_price: parseFloat(item.buying_price).toFixed(2),\n            tax: item.tax,\n            quantity: 0,\n            item_id: item.item_id,\n            max: item.remaining_unit,\n            date: item.date.split(\",\")[0],\n          }))\n          .sort((a, b) => b.id - a.id);\n        setInventories(inventories);\n        setInventory(inventories[0].id);\n        setSellPrice(inventories[0].price);\n      } catch (error) {\n        notify(`Sorry, order not found.`, \"error\");\n        redirect(\"/orders\");\n        refresh();\n      }\n\n      setLoading(false);\n    };\n    loadData();\n  }, []);\n  const addItemInCart = () => {\n    if (quantity == \"\" || parseFloat(quantity) <= 0) {\n      notify(`Sorry, please select and valid quantity.`, \"error\");\n      setQuantity(\"\");\n      return;\n    }\n    if (!Number.isInteger(quantity / 0.5)) {\n      notify(`Sorry, please select quantity of multiple 0.5.`, \"error\");\n      return;\n    }\n    let completeInventory = [\n      ...inventories.filter((item) => item.id == inventory),\n    ][0];\n    var items = [...data.cart];\n    var clash = false;\n    for (let i = 0; i < items.length; i++) {\n      if (items[i].inventory_id == inventory) {\n        if (items[i].quantity + 1 > completeInventory.max) {\n          notify(\n            `Sorry, stock limit reached. Maximum stock is ${completeInventory.max} units.`,\n            \"error\"\n          );\n          return;\n        } else items[i].quantity += parseFloat(quantity);\n        clash = true;\n        completeInventory = items[i];\n        break;\n      }\n    }\n    if (!clash) completeInventory.quantity = parseFloat(quantity);\n    completeInventory.inventory_id = inventory;\n    if (completeInventory.max == 0) {\n      notify(`Sorry, item is out of stock.`, \"error\");\n      return;\n    } else if (completeInventory.quantity > completeInventory.max) {\n      notify(\n        `Sorry, stock limit reached. Maximum stock is ${completeInventory.max} units.`,\n        \"error\"\n      );\n      return;\n    }\n    if (!clash) items.push(completeInventory);\n    /**\n     * Change sell price accordingly to given price\n     */\n    let tempItems = [...items];\n    try {\n      tempItems[tempItems.findIndex((item) => item.id == inventory)].price =\n        sellPrice;\n    } catch (error) {}\n    const totalSum = tempItems.reduce(\n      (a, b) => a + b[\"price\"] * b[\"quantity\"],\n      0\n    );\n    const totalTax = tempItems.reduce(\n      (a, b) => a + b[\"tax\"] * b[\"quantity\"],\n      0\n    );\n    let temp = {\n      party_id: order.party_id,\n      cart: tempItems.map((item) => ({\n        price: parseFloat(item.price).toFixed(2),\n        buying_price: item.buying_price,\n        tax: parseFloat(item.tax),\n        quantity: item.quantity,\n        total: (parseFloat(item.price) * item.quantity).toFixed(2),\n        item_id: item.item_id,\n        inventory_id: item.inventory_id,\n        title: item.title,\n        max: item.max,\n      })),\n      total: parseFloat(totalSum) + parseFloat(totalTax),\n      sub_total: parseFloat(totalSum),\n      total_tax: parseFloat(totalTax),\n    };\n    setData(temp);\n    setQuantity(\"1\");\n  };\n  const submitOrder = async () => {\n    let updatedData = {\n      status,\n      van,\n      cart: data.cart,\n      total: data.total,\n      total_tax: data.total_tax,\n    };\n    try {\n      await dataProvider.update(\"orders\", {\n        id: props.id,\n        data: updatedData,\n      });\n      redirect(\"/orders\");\n      refresh();\n    } catch (error) {\n      notify(error.body, \"error\");\n    }\n  };\n  if (loading) return <Loading loadingPrimary=\"\" loadingSecondary=\"\" />;\n  else if (order)\n    return (\n      <>\n        <Card className={classes.root}>\n          <Title title=\"View Order\" />\n          <CardContent>\n            <Grid container spacing={1}>\n              <Grid item xs={12}>\n                <label className={classes.label}>Order#</label>\n                <br />\n                <span> {order.order_code}</span>\n              </Grid>\n              <Grid item xs={12}>\n                <label className={classes.label}>Order Date & Time : </label>\n                <br />\n                <span> {order.created_at}</span>\n              </Grid>\n              <Grid item xs={12}>\n                <label className={classes.label}>Party</label>\n                <br />\n                <span>\n                  <Link to={`/parties/${order.party_id}/show`} target=\"_blank\">\n                    {order.party_business_name}\n                  </Link>\n                </span>\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <label className={classes.label}>Status</label>\n                <br />\n                {order.status == \"Progress\" ||\n                order.status == \"Canceled\" ||\n                order.status == \"Completed\" ? (\n                  <FormControl className={classes.form} size=\"small\">\n                    <Select\n                      required\n                      value={status}\n                      onChange={(event) => {\n                        setStatus(event.target.value);\n                      }}\n                      displayEmpty\n                      fullWidth\n                      variant=\"outlined\"\n                      placeholder=\"Party\"\n                    >\n                      {app.status.map((item, index) => (\n                        <MenuItem key={index} value={item}>\n                          {item}\n                        </MenuItem>\n                      ))}\n                    </Select>\n                  </FormControl>\n                ) : (\n                  <span>{order.status}</span>\n                )}\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <label className={classes.label}>Van</label>\n                <br />\n                {order.status == \"Progress\" ||\n                order.status == \"Canceled\" ||\n                order.status == \"Completed\" ? (\n                  <FormControl className={classes.form} size=\"small\">\n                    <Select\n                      required\n                      value={van}\n                      onChange={(event) => {\n                        setVan(event.target.value);\n                      }}\n                      displayEmpty\n                      fullWidth\n                      variant=\"outlined\"\n                      placeholder=\"Party\"\n                    >\n                      {app.vans.map((i, j) => (\n                        <MenuItem key={j} value={i}>\n                          {i}\n                        </MenuItem>\n                      ))}\n                    </Select>\n                  </FormControl>\n                ) : (\n                  <span>{order.van}</span>\n                )}\n              </Grid>\n              {(order.status == \"Progress\" ||\n                order.status == \"Canceled\" ||\n                order.status == \"Completed\") && (\n                <Grid item xs={12}>\n                  <FormControl className={classes.form} size=\"small\">\n                    <h4 className={classes.headings}>Add Item</h4>\n                    <Grid container spacing={2}>\n                      <Grid item xs={12} md={6}>\n                        <Select\n                          required\n                          value={inventory}\n                          onChange={(event) => {\n                            setInventory(event.target.value);\n                            setSellPrice(\n                              inventories.filter(\n                                (item) => item.id == event.target.value\n                              )[0].price\n                            );\n                          }}\n                          displayEmpty\n                          fullWidth\n                          variant=\"outlined\"\n                          placeholder=\"Party\"\n                        >\n                          {inventories.map((inventory, index) => (\n                            <MenuItem key={index} value={inventory.id}>\n                              {`${inventory.title} - ${app.currencySymbol} ${inventory.price}, ${inventory.date}`}\n                            </MenuItem>\n                          ))}\n                        </Select>\n                      </Grid>\n                      <Grid item xs={12} md={2}>\n                        <MaterialTextField\n                          fullWidth\n                          placeholder=\"150\"\n                          label=\"Quantity\"\n                          variant=\"outlined\"\n                          size=\"small\"\n                          type=\"number\"\n                          required\n                          value={quantity}\n                          onChange={(event) => setQuantity(event.target.value)}\n                          InputProps={{\n                            startAdornment: (\n                              <InputAdornment position=\"start\">\n                                =\n                              </InputAdornment>\n                            ),\n                          }}\n                          style={{\n                            marginBottom: 20,\n                          }}\n                        />\n                      </Grid>\n                      <Grid item xs={12} md={2}>\n                        <MaterialTextField\n                          fullWidth\n                          placeholder=\"350\"\n                          label=\"Selling Price\"\n                          variant=\"outlined\"\n                          size=\"small\"\n                          type=\"number\"\n                          required\n                          value={sellPrice}\n                          onChange={(event) => setSellPrice(event.target.value)}\n                          InputProps={{\n                            startAdornment: (\n                              <InputAdornment position=\"start\">\n                                {app.currencySymbol}\n                              </InputAdornment>\n                            ),\n                          }}\n                          style={{\n                            marginBottom: 20,\n                          }}\n                        />\n                      </Grid>\n                      <Grid item xs={12} md={2}>\n                        <Button\n                          startIcon={<SaveIcon />}\n                          variant=\"contained\"\n                          color=\"primary\"\n                          fullWidth\n                          onClick={addItemInCart}\n                        >\n                          Add Item\n                        </Button>\n                      </Grid>\n                    </Grid>\n                  </FormControl>\n                </Grid>\n              )}\n              <Grid item xs={12}>\n                <h4 className={classes.headings}>Cart</h4>\n                <Cart\n                  data={data}\n                  submitOrder={submitOrder}\n                  setData={setData}\n                  del={\n                    order.status == \"Progress\" || order.status == \"Canceled\"\n                      ? true\n                      : false\n                  }\n                />\n              </Grid>\n            </Grid>\n          </CardContent>\n        </Card>\n      </>\n    );\n  else return \"\";\n};\n\nexport default OrderEdit;\n","import * as React from \"react\";\nimport {\n  List,\n  Datagrid,\n  TextField,\n  ReferenceField,\n  Filter,\n  TextInput,\n  DateInput,\n  ReferenceInput,\n  AutocompleteInput,\n  SelectInput,\n} from \"react-admin\";\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\nimport { app } from \"../contants\";\nimport OrderEdit from \"./OrderEdit\";\nimport CustomPagination from \"../components/PaginationCustom\";\n\nconst OrderFilter = (props) => (\n  <Filter {...props}>\n    <TextInput\n      label=\"Order#\"\n      source=\"order_code\"\n      alwaysOn\n      variant=\"outlined\"\n      fullWidth\n    />\n    <ReferenceInput\n      source=\"party_id\"\n      reference=\"parties\"\n      alwaysOn\n      variant=\"outlined\"\n      perPage={10000000}\n      filterToQuery={(searchText) => ({ business_name: searchText })}\n    >\n      <AutocompleteInput optionText=\"business_name\" />\n    </ReferenceInput>\n    <SelectInput\n      choices={app.status.map((item) => ({ id: item, name: item }))}\n      source=\"status\"\n      label=\"Status\"\n      variant=\"outlined\"\n    />\n    <SelectInput\n      choices={app.vans.map((item) => ({ id: item, name: item }))}\n      source=\"van\"\n      label=\"Van\"\n      variant=\"outlined\"\n    />\n    <DateInput source=\"created_at\" label=\"Date\" variant=\"outlined\" />\n  </Filter>\n);\nexport const OrderList = (props) => {\n  return (\n    <List\n      {...props}\n      bulkActionButtons={false}\n      filters={<OrderFilter />}\n      sort={{ field: \"id\", order: \"desc\" }}\n      pagination={<CustomPagination />}\n    >\n      <Datagrid rowClick=\"edit\">\n        <TextField\n          source=\"order_code\"\n          label=\"Order#\"\n          style={{\n            fontWeight: \"bold\",\n          }}\n        />\n        <ReferenceField source=\"party_id\" reference=\"parties\">\n          <TextField source=\"business_name\" />\n        </ReferenceField>\n        <TextField source=\"total_items\" label=\"Items\" sortable={false} />\n        <TextField source=\"total_quantity\" label=\"Quantity\" sortable={false} />\n        <TextField\n          source=\"total\"\n          label={`Total Amount(${app.currencySymbol})`}\n        />\n        <TextField source=\"status\" />\n        <TextField source=\"order_from\" label=\"Order From\" />\n        <TextField source=\"van\" />\n        <TextField source=\"created_at\" label=\"Date\" />\n      </Datagrid>\n    </List>\n  );\n};\n\n// export class OrderPrint extends React.PureComponent {\n//   render() {\n//     return (\n//       <div>\n//         <ReactToPrint\n//           trigger={() => {\n//             return (\n//               <div\n//                 style={{\n//                   display: \"flex\",\n//                   justifyContent: \"flex-end\",\n//                   marginTop: 10,\n//                 }}\n//               >\n//                 <Button\n//                   variant=\"contained\"\n//                   color=\"primary\"\n//                   startIcon={<Print fontSize=\"inherit\" />}\n//                 >\n//                   Print\n//                 </Button>\n//               </div>\n//             );\n//           }}\n//           content={() => this.componentRef}\n//         />\n//         <OrderEdit ref={(el) => (this.componentRef = el)} {...this.props} />\n//       </div>\n//     );\n//   }\n// }\nexport default {\n  list: OrderList,\n  name: \"orders\",\n  icon: ShoppingCartIcon,\n  edit: OrderEdit,\n  options: { label: \"App Orders\" },\n};\n","import * as React from \"react\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport {\n  List,\n  Datagrid,\n  TextField,\n  ReferenceField,\n  ReferenceInput,\n  Filter,\n  TextInput,\n  DateInput,\n  SelectInput,\n  useNotify,\n  useRefresh,\n  useRedirect,\n  Link,\n  Loading,\n  Title,\n  AutocompleteInput,\n} from \"react-admin\";\nimport Grid from \"@material-ui/core/Grid\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { app } from \"../contants\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { AddShoppingCart, RemoveCircle } from \"@material-ui/icons\";\nimport Button from \"@material-ui/core/Button\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\n\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport {\n  IconButton,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport dataProvider from \"../providers/dataProvider\";\nimport {\n  InputAdornment,\n  TextField as MaterialTextField,\n} from \"@material-ui/core\";\nimport axios from \"axios\";\nimport CustomPagination from \"../components/PaginationCustom\";\nconst OrderFilter = (props) => (\n  <Filter {...props}>\n    <TextInput\n      label=\"Order#\"\n      source=\"order_code\"\n      alwaysOn\n      variant=\"outlined\"\n      fullWidth\n    />\n    <ReferenceInput\n      source=\"party_id\"\n      reference=\"parties\"\n      alwaysOn\n      variant=\"outlined\"\n      perPage={10000000}\n      filterToQuery={(searchText) => ({ business_name: searchText })}\n    >\n      <AutocompleteInput optionText=\"business_name\" />\n    </ReferenceInput>\n    <SelectInput\n      choices={app.status.map((item) => ({ id: item, name: item }))}\n      source=\"status\"\n      label=\"Status\"\n      variant=\"outlined\"\n    />\n    <SelectInput\n      choices={app.vans.map((item) => ({ id: item, name: item }))}\n      source=\"van\"\n      label=\"Van\"\n      variant=\"outlined\"\n    />\n    <DateInput source=\"created_at\" label=\"Date\" variant=\"outlined\" />\n  </Filter>\n);\n\nexport const OrderList = (props) => {\n  return (\n    <List\n      {...props}\n      bulkActionButtons={false}\n      filters={<OrderFilter />}\n      sort={{ field: \"id\", order: \"desc\" }}\n      pagination={<CustomPagination />}\n    >\n      <Datagrid rowClick={(id) => `/orders/${id}`}>\n        <TextField\n          source=\"order_code\"\n          label=\"Order#\"\n          style={{\n            fontWeight: \"bold\",\n          }}\n        />\n        <ReferenceField source=\"party_id\" reference=\"parties\">\n          <TextField source=\"business_name\" />\n        </ReferenceField>\n        <TextField source=\"total_items\" label=\"Items\" sortable={false} />\n        <TextField source=\"total_quantity\" label=\"Quantity\" sortable={false} />\n        <TextField\n          source=\"total\"\n          label={`Total Amount(${app.currencySymbol})`}\n        />\n        <TextField source=\"status\" />\n        <TextField source=\"order_from\" label=\"Order From\" />\n        <TextField source=\"van\" />\n        <TextField source=\"created_at\" label=\"Date\" />\n      </Datagrid>\n    </List>\n  );\n};\n\nconst Cart = ({ data, submitOrder, setData }) => {\n  var totalWithOutTax = 0;\n  if (data.cart.length == 0) return <p>There is no item in cart.</p>;\n  const handleRemoveCartItem = (id) => {\n    let newData = { ...data };\n    newData.cart = newData.cart.filter((item) => item.inventory_id != id);\n    setData(newData);\n  };\n  return (\n    <Table size=\"small\">\n      <TableHead>\n        <TableRow>\n          <TableCell\n            style={{\n              width: 10,\n            }}\n          ></TableCell>\n          <TableCell>Item</TableCell>\n          <TableCell align=\"right\">Quantity</TableCell>\n          <TableCell align=\"right\">Unit Price({app.currencySymbol})</TableCell>\n          <TableCell align=\"right\">20% VAT({app.currencySymbol})</TableCell>\n          <TableCell align=\"right\">Total({app.currencySymbol})</TableCell>\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        {data.cart.map((item, index) => {\n          let total = parseFloat(item.price) * item.quantity;\n          totalWithOutTax += total;\n          total += item.quantity * item.tax;\n          return (\n            <TableRow key={index}>\n              <TableCell>\n                <IconButton\n                  edge=\"end\"\n                  aria-label=\"comments\"\n                  onClick={() => handleRemoveCartItem(item.inventory_id)}\n                >\n                  <RemoveCircle color=\"error\" />\n                </IconButton>\n              </TableCell>\n              <TableCell>\n                <Link to={`/items/${item.item_id}/show`} target=\"_blank\">\n                  {item.title}\n                </Link>\n              </TableCell>\n              <TableCell align=\"right\">{item.quantity}</TableCell>\n              <TableCell align=\"right\">{item.price}</TableCell>\n              <TableCell align=\"right\">{item.tax * item.quantity}</TableCell>\n              <TableCell align=\"right\">\n                <strong>{total.toFixed(2)}</strong>\n              </TableCell>\n            </TableRow>\n          );\n        })}\n        <TableRow>\n          <TableCell></TableCell>\n          <TableCell align=\"right\"></TableCell>\n          <TableCell align=\"right\"></TableCell>\n          <TableCell align=\"right\"></TableCell>\n          <TableCell align=\"right\">\n            <strong>{data.total_tax.toFixed(2)}</strong>\n          </TableCell>\n          <TableCell align=\"right\">\n            <strong>{data.sub_total.toFixed(2)}</strong>\n          </TableCell>\n        </TableRow>\n        <TableRow>\n          <TableCell align=\"right\" colSpan={5}>\n            <strong>Total({app.currencySymbol})</strong>\n          </TableCell>\n          <TableCell align=\"right\">\n            <strong>{data.total.toFixed(2)}</strong>\n          </TableCell>\n        </TableRow>\n        <TableRow>\n          <TableCell align=\"right\" colSpan={6}>\n            <Button\n              startIcon={<SaveIcon />}\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={submitOrder}\n            >\n              Add Order\n            </Button>\n          </TableCell>\n        </TableRow>\n      </TableBody>\n    </Table>\n  );\n};\nconst useStyles = makeStyles({\n  root: {\n    marginTop: \"1em\",\n  },\n\n  headings: {\n    margin: \"10px 6px\",\n  },\n  form: {\n    width: \"100%\",\n  },\n\n  textInput: {\n    marginTop: 8,\n  },\n});\nexport const ItemCreate = (props) => {\n  const classes = useStyles();\n  const notify = useNotify();\n  const refresh = useRefresh();\n  const redirect = useRedirect();\n  const [data, setData] = React.useState({\n    cart: [],\n    total_tax: 0,\n    sub_total: 0,\n    total: 0,\n  });\n  const [parties, setParties] = React.useState([]);\n  const [inventories, setInventories] = React.useState([]);\n  const [party, setParty] = React.useState([]);\n  const [quantity, setQuantity] = React.useState(1);\n  const [costPrice, setCostPrice] = React.useState(0);\n  const [van, setVan] = React.useState(app.vans[0]);\n  const [sellPrice, setSellPrice] = React.useState(0);\n  const [inventory, setInventory] = React.useState([]);\n  const [loading, setLoading] = React.useState(false);\n  React.useEffect(() => {\n    const loadData = async () => {\n      setLoading(true);\n      const { data: parties } = await dataProvider.getListSimple(\"parties\");\n      var inventories = (\n        await dataProvider.getListSimple(\"inventories\", {\n          available: true,\n        })\n      ).data;\n      inventories = inventories\n        .map((item) => ({\n          id: item.id,\n          title: item.title,\n          price: parseFloat(item.selling_price).toFixed(2),\n          buying_price: parseFloat(item.buying_price).toFixed(2),\n          tax: item.tax,\n          quantity: 0,\n          item_id: item.item_id,\n          max: item.remaining_unit,\n          date: item.date.split(\",\")[0],\n        }))\n        .sort((a, b) => b.id - a.id);\n      setInventories(inventories);\n      setParties(parties);\n      setInventory(inventories[0]);\n      setSellPrice(inventories[0].price);\n      setCostPrice(inventories[0].buying_price);\n      setParty(parties[0]);\n      setLoading(false);\n    };\n    loadData();\n  }, []);\n  const addItemInCart = () => {\n    if (quantity == \"\" || parseFloat(quantity) <= 0) {\n      notify(`Sorry, please select and valid quantity.`, \"error\");\n      setQuantity(\"\");\n      return;\n    }\n    if (!Number.isInteger(quantity / 0.5)) {\n      notify(`Sorry, please select quantity of multiple 0.5.`, \"error\");\n      return;\n    }\n    let completeInventory = [\n      ...inventories.filter((item) => item.id == inventory.id),\n    ][0];\n    var items = [...data.cart];\n    var clash = false;\n    for (let i = 0; i < items.length; i++) {\n      if (items[i].inventory_id == inventory.id) {\n        if (items[i].quantity + 1 > completeInventory.max) {\n          notify(\n            `Sorry, stock limit reached. Maximum stock is ${completeInventory.max} units.`,\n            \"error\"\n          );\n          return;\n        } else items[i].quantity += parseFloat(quantity);\n        clash = true;\n        completeInventory = items[i];\n        break;\n      }\n    }\n    if (!clash) completeInventory.quantity = parseFloat(quantity);\n    completeInventory.inventory_id = inventory.id;\n    if (completeInventory.max == 0) {\n      notify(`Sorry, item is out of stock.`, \"error\");\n      return;\n    } else if (completeInventory.quantity > completeInventory.max) {\n      notify(\n        `Sorry, stock limit reached. Maximum stock is ${completeInventory.max} units.`,\n        \"error\"\n      );\n      return;\n    }\n    if (!clash) items.push(completeInventory);\n    /**\n     * Change sell price accordingly to given price\n     */\n    let tempItems = [...items];\n    try {\n      tempItems[tempItems.findIndex((item) => item.id == inventory.id)].price =\n        sellPrice;\n    } catch (error) {}\n    const totalSum = tempItems.reduce(\n      (a, b) => a + b[\"price\"] * b[\"quantity\"],\n      0\n    );\n    const totalTax = tempItems.reduce(\n      (a, b) => a + b[\"tax\"] * b[\"quantity\"],\n      0\n    );\n    let temp = {\n      party_id: party.id,\n      cart: tempItems.map((item) => ({\n        price: parseFloat(item.price).toFixed(2),\n        buying_price: item.buying_price,\n        tax: parseFloat(item.tax),\n        quantity: item.quantity,\n        total: (parseFloat(item.price) * item.quantity).toFixed(2),\n        item_id: item.item_id,\n        inventory_id: item.inventory_id,\n        title: item.title,\n        max: item.max,\n      })),\n      total: parseFloat(totalSum) + parseFloat(totalTax),\n      sub_total: parseFloat(totalSum),\n      total_tax: parseFloat(totalTax),\n    };\n    setData(temp);\n    setQuantity(\"1\");\n  };\n  const submitOrder = async () => {\n    let temp = { ...data };\n    temp.cart = temp.cart.map((item) => ({\n      ...item,\n      tax: (item.tax * item.quantity).toFixed(2),\n    }));\n    temp.manual = 1;\n    temp.bank = value;\n    temp.van_id = van;\n    setLoading(true);\n    const url = app.api + \"orders\";\n    await axios\n      .post(url, temp)\n      .then((response) => {\n        setLoading(false);\n        notify(`Manual order added successfully.`);\n        redirect(\"/manual_orders\");\n        refresh();\n      })\n      .catch((error) => {\n        notify(error, \"error\");\n        setLoading(false);\n      });\n    setLoading(false);\n  };\n  const [value, setValue] = React.useState(\"No\");\n\n  const handleChange = (event) => {\n    setValue(event.target.value);\n  };\n  if (loading) return <Loading loadingPrimary=\"\" loadingSecondary=\"\" />;\n  else\n    return (\n      <Card className={classes.root}>\n        <Title title=\"Add Manual Order\" />\n        <CardContent>\n          <Grid container spacing={2}>\n            <Grid item xs={12} md={6}>\n              <FormControl className={classes.form} size=\"small\">\n                <FormLabel component=\"legend\" className={classes.headings}>\n                  Party\n                </FormLabel>\n                <Autocomplete\n                  value={party}\n                  onChange={(event, newValue) => {\n                    if (newValue && newValue.id) setParty(newValue);\n                  }}\n                  options={parties}\n                  getOptionLabel={(party) => party.business_name}\n                  renderInput={(params) => (\n                    <MaterialTextField\n                      {...params}\n                      label=\"\"\n                      variant=\"outlined\"\n                      size=\"small\"\n                    />\n                  )}\n                />\n              </FormControl>\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <FormControl className={classes.form} size=\"small\">\n                <FormLabel component=\"legend\" className={classes.headings}>\n                  Van\n                </FormLabel>\n                <Select\n                  required\n                  value={van}\n                  onChange={(event) => {\n                    setVan(event.target.value);\n                  }}\n                  displayEmpty\n                  fullWidth\n                  variant=\"outlined\"\n                  placeholder=\"Party\"\n                >\n                  {app.vans.map((van, index) => (\n                    <MenuItem key={index} value={van}>\n                      {van}\n                    </MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid item xs={12}>\n              <FormControl className={classes.form} size=\"small\">\n                <FormLabel component=\"legend\" className={classes.headings}>\n                  Add Bank Information to Invioce\n                </FormLabel>\n                <RadioGroup value={value} onChange={handleChange}>\n                  <FormControlLabel\n                    value=\"Yes\"\n                    control={<Radio />}\n                    label=\"Yes\"\n                  />\n                  <FormControlLabel value=\"No\" control={<Radio />} label=\"No\" />\n                </RadioGroup>\n              </FormControl>\n            </Grid>\n            <Grid item xs={12}>\n              <FormControl className={classes.form} size=\"small\">\n                <FormLabel component=\"legend\" className={classes.headings}>\n                  Choose Inventory ( {\"1. \"}\n                  <Link to=\"/inventories/create\" target=\"_blank\">\n                    Add Inventory\n                  </Link>\n                  {\" - 2. \"}\n                  <span\n                    style={{\n                      color: app.colorOne,\n                      cursor: \"pointer\",\n                    }}\n                    onClick={async () => {\n                      var inventories = (\n                        await dataProvider.getListSimple(\"inventories\", {\n                          available: true,\n                        })\n                      ).data;\n                      inventories = inventories\n                        .map((item) => ({\n                          id: item.id,\n                          title: item.title,\n                          price: parseFloat(item.selling_price).toFixed(2),\n                          buying_price: parseFloat(item.buying_price).toFixed(\n                            2\n                          ),\n                          tax: item.tax,\n                          quantity: 0,\n                          item_id: item.item_id,\n                          max: item.remaining_unit,\n                          date: item.date.split(\",\")[0],\n                        }))\n                        .sort((a, b) => b.id - a.id);\n                      setInventories(inventories);\n                      notify(\"Inventory refetch successfully.\", \"success\");\n                    }}\n                  >\n                    Refetch Inventory\n                  </span>\n                  )\n                </FormLabel>\n                <Grid container spacing={2}>\n                  <Grid item xs={12} md={5}>\n                    <Autocomplete\n                      value={inventory}\n                      onChange={(event, newValue) => {\n                        if (newValue && newValue.id) {\n                          setInventory(newValue);\n                          let inventory = inventories.filter(\n                            (item) => item.id == newValue.id\n                          )[0];\n                          setSellPrice(inventory.price);\n                          setCostPrice(inventory.buying_price);\n                        } else {\n                          // setSellPrice(0);\n                          // setCostPrice(0);\n                        }\n                      }}\n                      options={inventories}\n                      getOptionLabel={(inventory) =>\n                        `${inventory.title} - ${app.currencySymbol} ${inventory.price}, ${inventory.date}`\n                      }\n                      renderInput={(params) => (\n                        <MaterialTextField\n                          {...params}\n                          label=\"\"\n                          variant=\"outlined\"\n                          size=\"small\"\n                        />\n                      )}\n                    />\n                  </Grid>\n                  <Grid item xs={12} md={1}>\n                    <MaterialTextField\n                      fullWidth\n                      placeholder=\"150\"\n                      label=\"Quantity\"\n                      variant=\"outlined\"\n                      size=\"small\"\n                      type=\"number\"\n                      required\n                      value={quantity}\n                      onChange={(event) => setQuantity(event.target.value)}\n                      InputProps={{\n                        startAdornment: (\n                          <InputAdornment position=\"start\">=</InputAdornment>\n                        ),\n                      }}\n                      style={{\n                        marginBottom: 20,\n                      }}\n                    />\n                  </Grid>\n                  <Grid item xs={12} md={2}>\n                    <MaterialTextField\n                      fullWidth\n                      disabled\n                      placeholder=\"150\"\n                      label=\"Cost Price\"\n                      variant=\"outlined\"\n                      size=\"small\"\n                      type=\"number\"\n                      required\n                      value={costPrice}\n                      readonly\n                      onChange={(event) => setCostPrice(event.target.value)}\n                      InputProps={{\n                        startAdornment: (\n                          <InputAdornment position=\"start\">\n                            {app.currencySymbol}\n                          </InputAdornment>\n                        ),\n                      }}\n                      style={{\n                        marginBottom: 20,\n                      }}\n                    />\n                  </Grid>\n                  <Grid item xs={12} md={2}>\n                    <MaterialTextField\n                      fullWidth\n                      placeholder=\"350\"\n                      label=\"Selling Price\"\n                      variant=\"outlined\"\n                      size=\"small\"\n                      type=\"number\"\n                      required\n                      value={sellPrice}\n                      onChange={(event) => setSellPrice(event.target.value)}\n                      InputProps={{\n                        startAdornment: (\n                          <InputAdornment position=\"start\">\n                            {app.currencySymbol}\n                          </InputAdornment>\n                        ),\n                      }}\n                      style={{\n                        marginBottom: 20,\n                      }}\n                    />\n                  </Grid>\n                  <Grid item xs={12} md={2}>\n                    <Button\n                      startIcon={<SaveIcon />}\n                      variant=\"contained\"\n                      color=\"primary\"\n                      fullWidth\n                      onClick={addItemInCart}\n                    >\n                      Add Item\n                    </Button>\n                  </Grid>\n                </Grid>\n              </FormControl>\n            </Grid>\n            <Grid item xs={12}>\n              <FormLabel component=\"legend\" className={classes.headings}>\n                Cart\n              </FormLabel>\n              <Cart data={data} submitOrder={submitOrder} setData={setData} />\n            </Grid>\n          </Grid>\n        </CardContent>\n      </Card>\n    );\n};\nexport default {\n  list: OrderList,\n  name: \"manual_orders\",\n  icon: AddShoppingCart,\n  create: ItemCreate,\n  options: { label: \"Manual Orders\" },\n};\n","import * as React from \"react\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport {\n  List,\n  Datagrid,\n  TextField,\n  ReferenceField,\n  ReferenceInput,\n  Filter,\n  DateInput,\n  SelectInput,\n  useNotify,\n  useRefresh,\n  useRedirect,\n  Link,\n  Loading,\n  Title,\n  AutocompleteInput,\n  ArrayField,\n  SimpleShowLayout,\n  NumberField,\n  Show,\n  DateField,\n} from \"react-admin\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport ReceiptIcon from \"@material-ui/icons/Receipt\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport Grid from \"@material-ui/core/Grid\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { app } from \"../contants\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { RemoveCircle, Money } from \"@material-ui/icons\";\nimport Button from \"@material-ui/core/Button\";\nimport { Button as RAButton } from \"react-admin\";\nimport CustomDelete from \"../components/CustomDelete\";\nimport ReactToPrint from \"react-to-print\";\nimport Print from \"@material-ui/icons/Print\";\n\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport {\n  IconButton,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport dataProvider from \"../providers/dataProvider\";\nimport {\n  InputAdornment,\n  TextField as MaterialTextField,\n} from \"@material-ui/core\";\nimport axios from \"axios\";\nimport CustomPagination from \"../components/PaginationCustom\";\nconst OrderFilter = (props) => (\n  <Filter {...props}>\n    <ReferenceInput\n      source=\"party_id\"\n      reference=\"parties\"\n      alwaysOn\n      variant=\"outlined\"\n      perPage={10000000}\n      filterToQuery={(searchText) => ({ business_name: searchText })}\n    >\n      <AutocompleteInput optionText=\"business_name\" />\n    </ReferenceInput>\n    <SelectInput\n      choices={app.vans.map((item) => ({ id: item, name: item }))}\n      source=\"van\"\n      label=\"Van\"\n      variant=\"outlined\"\n      alwaysOn\n    />\n    <DateInput source=\"start_date\" alwaysOn variant=\"outlined\" />\n    <DateInput source=\"end_date\" alwaysOn variant=\"outlined\" />\n  </Filter>\n);\n\n// const DeleteCustomButton = (props) => {\n//   return <DeleteButton {...props} />;\n// };\nconst PrintUpperTableFun = (props) => {\n  const [data, setData] = React.useState([]);\n  React.useEffect(() => {\n    setData(\n      Object.keys(props.data)\n        .map((item) => props.data[item])\n        .sort((a, b) => a.sr - b.sr)\n    );\n  }, [props.data]);\n  var total = 0;\n  return (\n    <Table size=\"small\">\n      <TableBody>\n        {data.map((order) => {\n          total = 0;\n          return (\n            <>\n              <TableRow>\n                <TableCell>\n                  <div style={{ paddingLeft: 15 }}>\n                    <strong>Sr# </strong>\n                    {order.sr}\n                  </div>\n                </TableCell>\n                <TableCell align=\"right\">\n                  <RAButton\n                    onClick={() => {\n                      window.open(\n                        `#/purchase_invoices/create/${order.id}`,\n                        \"_blank\"\n                      );\n                    }}\n                    key=\"button\"\n                    label=\"generate Invoice\"\n                  >\n                    <ReceiptIcon />\n                  </RAButton>\n                  <RAButton\n                    onClick={() => {\n                      window.location = `#/purchase_orders/${order.id}`;\n                    }}\n                    key=\"button\"\n                    label=\"Edit\"\n                  >\n                    <EditIcon />\n                  </RAButton>\n                  <CustomDelete\n                    dispatchCrudDelete={false}\n                    startUndoable={false}\n                    resource={\"purchase_orders\"}\n                    record={order}\n                    undoable={false}\n                  />\n                </TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell colSpan={2}>\n                  <div style={{ paddingLeft: 15 }}>\n                    <strong>\n                      Party Name :{\" \"}\n                      <span style={{ color: \"#f5881f\" }}>\n                        {order.party.business_name}\n                      </span>\n                    </strong>\n                  </div>\n                </TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell colSpan={2}>\n                  <div style={{ paddingLeft: 15 }}>\n                    <strong>Date : </strong>\n                    {order.created_at}\n                  </div>\n                </TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell colSpan={2}>\n                  <div style={{ paddingLeft: 15 }}>\n                    <strong>Van : </strong>\n                    {order.van}\n                  </div>\n                </TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell colSpan={3}>\n                  <Table\n                    size=\"small\"\n                    style={{\n                      marginBottom: 20,\n                    }}\n                  >\n                    <TableHead>\n                      <TableRow>\n                        <TableCell>Name </TableCell>\n                        <TableCell>Type</TableCell>\n                        <TableCell>Quantity</TableCell>\n                        <TableCell align=\"right\">\n                          Price({app.currencySymbol})\n                        </TableCell>\n                        <TableCell align=\"right\">\n                          Total({app.currencySymbol})\n                        </TableCell>\n                      </TableRow>\n                    </TableHead>\n                    <TableBody>\n                      {order.cart.map((cart) => {\n                        total += parseFloat(cart.total);\n                        return (\n                          <TableRow>\n                            <TableCell style={{ width: \"40%\" }}>\n                              {cart.name}\n                            </TableCell>\n                            <TableCell style={{ width: \"20%\" }}>\n                              {cart.type}\n                            </TableCell>\n                            <TableCell style={{ width: \"5%\" }}>\n                              {cart.quantity}\n                            </TableCell>\n                            <TableCell align=\"right\" style={{ width: \"20%\" }}>\n                              {cart.price}\n                            </TableCell>\n                            <TableCell align=\"right\" style={{ width: \"20%\" }}>\n                              {cart.total}\n                            </TableCell>\n                          </TableRow>\n                        );\n                      })}\n                      <TableRow>\n                        <TableCell align=\"right\" colSpan={4}>\n                          <strong>Total({app.currencySymbol})</strong>\n                        </TableCell>\n                        <TableCell align=\"right\">\n                          <strong>{total.toFixed(2)}</strong>\n                        </TableCell>\n                      </TableRow>\n                    </TableBody>\n                  </Table>\n                </TableCell>\n              </TableRow>\n            </>\n          );\n        })}\n      </TableBody>\n    </Table>\n  );\n};\nclass PrintUpperTable extends React.Component {\n  render() {\n    return <PrintUpperTableFun {...this.props} />;\n  }\n}\n\nconst OrderListRows = (props) => {\n  const [print, setPrint] = React.useState(false);\n  var tableRef;\n  return (\n    <>\n      {Object.keys(props.data).length > 0 && (\n        <div\n          style={{\n            marginRight: 10,\n          }}\n        >\n          <ReactToPrint\n            onAfterPrint={() => setPrint(false)}\n            trigger={() => {\n              return (\n                <div\n                  style={{\n                    float: \"right\",\n                    marginTop: 10,\n                    marginBottom: 10,\n                  }}\n                >\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    startIcon={<Print fontSize=\"inherit\" />}\n                  >\n                    Print\n                  </Button>\n                </div>\n              );\n            }}\n            onBeforeGetContent={async () => {\n              setPrint(true);\n              await app.sleep(1);\n            }}\n            pageStyle={\"padding:20px\"}\n            content={() => tableRef}\n          />\n          <PrintUpperTable\n            ref={(el) => (tableRef = el)}\n            print={print}\n            {...props}\n          />\n        </div>\n      )}\n    </>\n  );\n};\nexport const OrderList = (props) => {\n  return (\n    <List\n      pagination={<CustomPagination />}\n      {...props}\n      filters={<OrderFilter />}\n      sort={{ field: \"id\", order: \"desc\" }}\n    >\n      <OrderListRows />\n    </List>\n  );\n};\nconst getTotalCount = (data, typeIndex) => {\n  return data.cart\n    .filter((i) => i.type === app.boxTypes[typeIndex])\n    .reduce((a, b) => a + parseFloat(b[\"quantity\"]), 0);\n};\nconst Cart = ({ data, submitOrder, setData, add }) => {\n  if (data.cart.length === 0) return <p>There is no item in cart.</p>;\n  const handleRemoveCartItem = (id) => {\n    var newData = { ...data };\n    newData.cart = newData.cart.filter((item) => item.id !== id);\n    const total = newData.cart.reduce(\n      (a, b) => a + parseFloat(b[\"price\"]) * parseFloat(b[\"quantity\"]),\n      0\n    );\n    newData.total = total;\n    setData(newData);\n  };\n  var t1 = getTotalCount(data, 0);\n  var t2 = getTotalCount(data, 1);\n  var t3 = getTotalCount(data, 2);\n  return (\n    <Table size=\"small\">\n      <TableHead>\n        <TableRow>\n          <TableCell\n            style={{\n              width: 10,\n            }}\n          ></TableCell>\n          <TableCell>Item</TableCell>\n          <TableCell align=\"right\">Type</TableCell>\n          <TableCell align=\"right\">Quantity</TableCell>\n          <TableCell align=\"right\">Price({app.currencySymbol})</TableCell>\n          <TableCell align=\"right\">Total({app.currencySymbol})</TableCell>\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        {data.cart.map((item, index) => {\n          return (\n            <TableRow key={index}>\n              <TableCell>\n                <IconButton\n                  edge=\"end\"\n                  aria-label=\"comments\"\n                  onClick={() => handleRemoveCartItem(item.id)}\n                >\n                  <RemoveCircle color=\"error\" />\n                </IconButton>\n              </TableCell>\n              <TableCell>\n                <Link to={`/items/${item.item_id}/show`} target=\"_blank\">\n                  {item.name}\n                </Link>\n              </TableCell>\n\n              <TableCell align=\"right\">{item.type}</TableCell>\n              <TableCell align=\"right\">{item.quantity}</TableCell>\n              <TableCell align=\"right\">\n                {parseFloat(item.price).toFixed(2)}\n              </TableCell>\n              <TableCell align=\"right\">\n                <strong>\n                  {parseFloat(item.price * parseFloat(item.quantity)).toFixed(\n                    2\n                  )}\n                </strong>\n              </TableCell>\n            </TableRow>\n          );\n        })}\n        <TableRow>\n          <TableCell align=\"right\" colSpan={5}>\n            <strong>Total({app.currencySymbol})</strong>\n          </TableCell>\n          <TableCell align=\"right\">\n            <strong>{parseFloat(data.total).toFixed(2)}</strong>\n          </TableCell>\n        </TableRow>\n        <TableRow>\n          <TableCell align=\"right\" colSpan={6}>\n            <strong>Total : </strong> <strong>{t1}</strong> {app.boxTypes[0]},{\" \"}\n            <strong>{t2}</strong>, {app.boxTypes[1]}, <strong>{t3}</strong>{\" \"}\n            {app.boxTypes[2]}\n          </TableCell>\n        </TableRow>\n        <TableRow>\n          <TableCell align=\"right\" colSpan={7}>\n            <Button\n              startIcon={<SaveIcon />}\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={submitOrder}\n            >\n              {add ? \"Add\" : \"Update\"} Purchase Order\n            </Button>\n          </TableCell>\n        </TableRow>\n      </TableBody>\n    </Table>\n  );\n};\nconst useStyles = makeStyles({\n  root: {\n    marginTop: \"1em\",\n  },\n\n  headings: {\n    margin: \"10px 6px\",\n  },\n  form: {\n    width: \"100%\",\n  },\n\n  textInput: {\n    marginTop: 8,\n  },\n});\nconst PurchaseOrdersCreate = (props) => {\n  const classes = useStyles();\n  const notify = useNotify();\n  const refresh = useRefresh();\n  const redirect = useRedirect();\n  const [data, setData] = React.useState({\n    cart: [],\n    total: 0,\n  });\n  const [parties, setParties] = React.useState([]);\n  const [items, setItems] = React.useState([]);\n  const [party, setParty] = React.useState([]);\n  const [quantity, setQuantity] = React.useState(1);\n  const [van, setVan] = React.useState(app.vans[0]);\n  const [boxType, setBoxType] = React.useState(app.boxTypes[0]);\n  const [item, setItem] = React.useState([]);\n  const [price, setPrice] = React.useState(0);\n  const [loading, setLoading] = React.useState(false);\n  React.useEffect(() => {\n    const loadData = async () => {\n      setLoading(true);\n      const { data: parties } = await dataProvider.getListSimple(\"parties\");\n      var tempItems = (\n        await dataProvider.getListSimple(\"items\", {\n          available: true,\n        })\n      ).data.sort((a, b) => a.name - b.name);\n\n      setItems(tempItems);\n      setParties(parties);\n      setItem(tempItems[0]);\n      setParty(parties[0]);\n      setLoading(false);\n    };\n    loadData();\n  }, []);\n  const addItemInCart = () => {\n    if (quantity === \"\" || parseInt(quantity) <= 0) {\n      if (boxType !== app.boxTypes[2]) {\n        notify(`Sorry, please enter any valid integral quantity.`, \"error\");\n        return;\n      }\n    }\n    if (quantity === \"\" || parseFloat(quantity) % 0.5 !== 0) {\n      if (boxType === app.boxTypes[2]) {\n        notify(\n          `Sorry, please enter any valid float quantity for Loose Items.`,\n          \"error\"\n        );\n        return;\n      }\n    }\n    if (typeof price == \"undefined\" || price === \"\") {\n      notify(`Sorry, please enter any valid price.`, \"error\");\n      return;\n    }\n    var newCart = data.cart;\n    // if already in then increment with the new quantity\n    var tempItemValidate = newCart.filter(\n      (i) => i.item_id === item.id && i.type === boxType\n    )[0];\n    if (tempItemValidate) {\n      tempItemValidate.quantity =\n        parseFloat(tempItemValidate.quantity) + parseFloat(quantity);\n      tempItemValidate.price = parseFloat(price);\n    } else {\n      const newId =\n        newCart.length === 0 ? 1 : newCart[newCart.length - 1].id + 1;\n      newCart.push({\n        id: newId,\n        item_id: item.id,\n        name: item.name,\n        type: boxType,\n        quantity,\n        price,\n      });\n    }\n    const total = newCart.reduce(\n      (a, b) => a + parseFloat(b[\"price\"]) * parseFloat(b[\"quantity\"]),\n      0\n    );\n    var temp = {\n      party_id: party.id,\n      cart: newCart,\n      total,\n    };\n    setData(temp);\n    // setQuantity(\"0.5\");\n    setPrice(0);\n  };\n  const submitOrder = async () => {\n    var temp = { ...data };\n    temp.cart = temp.cart.map((item) => ({\n      ...item,\n      total: parseFloat(\n        parseFloat(item.price) * parseFloat(item.quantity)\n      ).toFixed(2),\n      price: parseFloat(item.price).toFixed(2),\n    }));\n    temp.van_id = van;\n    setLoading(true);\n    const url = app.api + \"purchase_orders\";\n    await axios\n      .post(url, temp)\n      .then(() => {\n        setLoading(false);\n        notify(`Purchase order added successfully.`);\n        redirect(\"/purchase_orders\");\n        refresh();\n      })\n      .catch((error) => {\n        notify(error, \"error\");\n        setLoading(false);\n      });\n    setLoading(false);\n  };\n\n  if (loading) return <Loading loadingPrimary=\"\" loadingSecondary=\"\" />;\n  else\n    return (\n      <Card className={classes.root}>\n        <Title title=\"Add Purchase Order\" />\n        <CardContent>\n          <Grid container spacing={2}>\n            <Grid item xs={12} md={6}>\n              <FormControl className={classes.form} size=\"small\">\n                <FormLabel component=\"legend\" className={classes.headings}>\n                  Party ( {\"1. \"}\n                  <Link to=\"/parties/create\" target=\"_blank\">\n                    Add Party\n                  </Link>\n                  {\" - 2. \"}\n                  <span\n                    style={{\n                      color: app.colorOne,\n                      cursor: \"pointer\",\n                    }}\n                    onClick={async () => {\n                      const parties = (\n                        await dataProvider.getListSimple(\"parties\", {\n                          available: true,\n                        })\n                      ).data;\n                      setParties(parties);\n                      notify(\"Parties refetch successfully.\", \"success\");\n                    }}\n                  >\n                    Refetch Parties\n                  </span>\n                  )\n                </FormLabel>\n                <Autocomplete\n                  value={party}\n                  onChange={(event, newValue) => {\n                    if (newValue && newValue.id) setParty(newValue);\n                  }}\n                  options={parties}\n                  getOptionLabel={(party) => party.business_name}\n                  renderInput={(params) => (\n                    <MaterialTextField\n                      {...params}\n                      label=\"\"\n                      variant=\"outlined\"\n                      size=\"small\"\n                    />\n                  )}\n                />\n              </FormControl>\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <FormControl className={classes.form} size=\"small\">\n                <FormLabel component=\"legend\" className={classes.headings}>\n                  Van\n                </FormLabel>\n                <Select\n                  required\n                  value={van}\n                  onChange={(event) => {\n                    setVan(event.target.value);\n                  }}\n                  displayEmpty\n                  fullWidth\n                  variant=\"outlined\"\n                  placeholder=\"Party\"\n                >\n                  {app.vans.map((van, index) => (\n                    <MenuItem key={index} value={van}>\n                      {van}\n                    </MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid item xs={12}>\n              <FormControl className={classes.form} size=\"small\">\n                <Grid container spacing={2}>\n                  <Grid item xs={12} md={4}>\n                    <Autocomplete\n                      value={item}\n                      onChange={(event, newValue) => {\n                        if (newValue && newValue.id) {\n                          setItem(newValue);\n                          setQuantity(1);\n                        }\n                      }}\n                      options={items}\n                      getOptionLabel={(item) => `${item.name}`}\n                      renderInput={(params) => (\n                        <MaterialTextField\n                          {...params}\n                          label=\"\"\n                          variant=\"outlined\"\n                          size=\"small\"\n                        />\n                      )}\n                    />\n                  </Grid>\n\n                  <Grid item xs={12} md={2}>\n                    <FormControl className={classes.form} size=\"small\">\n                      <Select\n                        required\n                        value={boxType}\n                        onChange={(event) => {\n                          setBoxType(event.target.value);\n                          setQuantity(1);\n                        }}\n                        displayEmpty\n                        fullWidth\n                        variant=\"outlined\"\n                        placeholder=\"Box Type\"\n                      >\n                        {app.boxTypes.map((box, index) => (\n                          <MenuItem key={index} value={box}>\n                            {box}\n                          </MenuItem>\n                        ))}\n                      </Select>\n                    </FormControl>\n                  </Grid>\n                  <Grid item xs={12} md={2}>\n                    <MaterialTextField\n                      fullWidth\n                      placeholder=\"150\"\n                      label=\"Quantity\"\n                      variant=\"outlined\"\n                      size=\"small\"\n                      type=\"number\"\n                      required\n                      value={quantity}\n                      onChange={(event) => {\n                        if (boxType === app.boxTypes[2]) {\n                          setQuantity(parseFloat(event.target.value));\n                        } else {\n                          setQuantity(parseInt(event.target.value));\n                        }\n                      }}\n                      InputProps={{\n                        startAdornment: (\n                          <InputAdornment position=\"start\">=</InputAdornment>\n                        ),\n                      }}\n                      style={{\n                        marginBottom: 20,\n                      }}\n                    />\n                  </Grid>\n                  <Grid item xs={12} md={2}>\n                    <MaterialTextField\n                      fullWidth\n                      placeholder=\"120.85\"\n                      label=\"Unit Price\"\n                      variant=\"outlined\"\n                      size=\"small\"\n                      type=\"number\"\n                      required\n                      value={price}\n                      onChange={(event) => setPrice(event.target.value)}\n                      InputProps={{\n                        startAdornment: (\n                          <InputAdornment position=\"start\">\n                            {app.currencySymbol}\n                          </InputAdornment>\n                        ),\n                      }}\n                      style={{\n                        marginBottom: 20,\n                      }}\n                    />\n                  </Grid>\n                  <Grid item xs={12} md={2}>\n                    <Button\n                      startIcon={<SaveIcon />}\n                      variant=\"contained\"\n                      color=\"primary\"\n                      fullWidth\n                      onClick={addItemInCart}\n                    >\n                      Add Item\n                    </Button>\n                  </Grid>\n                </Grid>\n              </FormControl>\n            </Grid>\n            <Grid item xs={12}>\n              <FormLabel component=\"legend\" className={classes.headings}>\n                Cart\n              </FormLabel>\n              <Cart\n                data={data}\n                submitOrder={submitOrder}\n                setData={setData}\n                add\n              />\n            </Grid>\n          </Grid>\n        </CardContent>\n      </Card>\n    );\n};\nconst PurchaseOrdersEdit = (props) => {\n  const classes = useStyles();\n  const notify = useNotify();\n  const refresh = useRefresh();\n  const redirect = useRedirect();\n  const [data, setData] = React.useState({\n    cart: [],\n  });\n  const [parties, setParties] = React.useState([]);\n  const [items, setItems] = React.useState([]);\n  const [party, setParty] = React.useState([]);\n  const [quantity, setQuantity] = React.useState(1);\n  const [van, setVan] = React.useState(app.vans[0]);\n  const [boxType, setBoxType] = React.useState(app.boxTypes[0]);\n  const [item, setItem] = React.useState([]);\n  const [loading, setLoading] = React.useState(false);\n  const [price, setPrice] = React.useState(0);\n  React.useEffect(() => {\n    const loadData = async () => {\n      setLoading(true);\n      try {\n        const { data: parties } = await dataProvider.getListSimple(\"parties\");\n        var tempItems = (\n          await dataProvider.getListSimple(\"items\", {\n            available: true,\n          })\n        ).data.sort((a, b) => a.name - b.name);\n\n        const { data: singleOrder } = await dataProvider.getOne(\n          \"purchase_orders\",\n          {\n            id: props.id,\n          }\n        );\n        setData({\n          cart: singleOrder.cart,\n          total: singleOrder.total,\n        });\n        setVan(singleOrder.van);\n        setItems(tempItems);\n        setParties(parties);\n        setItem(tempItems[0]);\n        setParty(singleOrder.party);\n      } catch (error) {\n        notify(`Sorry, purchase order not found.`, \"error\");\n        redirect(\"/purchase_orders\");\n        refresh();\n      }\n\n      setLoading(false);\n    };\n    loadData();\n  }, []);\n  const addItemInCart = () => {\n    if (quantity === \"\" || parseInt(quantity) <= 0) {\n      if (boxType !== app.boxTypes[2]) {\n        notify(`Sorry, please enter any valid integral quantity.`, \"error\");\n        return;\n      }\n    }\n    if (quantity === \"\" || parseFloat(quantity) % 0.5 !== 0) {\n      if (boxType === app.boxTypes[2]) {\n        notify(\n          `Sorry, please enter any valid float quantity for Loose Items.`,\n          \"error\"\n        );\n        return;\n      }\n    }\n    if (price === \"\" || typeof price == \"undefined\") {\n      notify(`Sorry, please enter any valid price.`, \"error\");\n      return;\n    }\n    var newCart = data.cart;\n    // if already in then increment with the new quantity\n    var tempItemValidate = newCart.filter(\n      (i) => i.item_id === item.id && i.type === boxType\n    )[0];\n    if (tempItemValidate) {\n      tempItemValidate.quantity =\n        parseFloat(tempItemValidate.quantity) + parseFloat(quantity);\n      tempItemValidate.price = parseFloat(price);\n    } else {\n      const newId =\n        newCart.length === 0 ? 1 : newCart[newCart.length - 1].id + 1;\n      newCart.push({\n        id: newId,\n        item_id: item.id,\n        name: item.name,\n        type: boxType,\n        quantity,\n        price,\n      });\n    }\n    const total = newCart.reduce(\n      (a, b) => a + parseFloat(b[\"price\"]) * parseFloat(b[\"quantity\"]),\n      0\n    );\n    var temp = {\n      party_id: party.id,\n      cart: newCart,\n      total,\n    };\n    setData(temp);\n  };\n  const submitOrder = async () => {\n    var temp = { ...data };\n    temp.cart = temp.cart.map((item) => ({\n      ...item,\n      total: parseFloat(\n        parseFloat(item.price) * parseFloat(item.quantity)\n      ).toFixed(2),\n      price: parseFloat(item.price).toFixed(2),\n    }));\n    const total = temp.cart.reduce(\n      (a, b) => a + parseFloat(b[\"price\"]) * parseFloat(b[\"quantity\"]),\n      0\n    );\n    let updatedData = {\n      van_id: van,\n      cart: temp.cart,\n      party_id: party.id,\n      total,\n    };\n    try {\n      await dataProvider.update(\"purchase_orders\", {\n        id: props.id,\n        data: updatedData,\n      });\n      redirect(\"/purchase_orders\");\n      refresh();\n    } catch (error) {\n      notify(error.body, \"error\");\n    }\n  };\n\n  if (loading) return <Loading loadingPrimary=\"\" loadingSecondary=\"\" />;\n  else\n    return (\n      <Card className={classes.root}>\n        <Title title=\"Update Purchase Order\" />\n        <CardContent>\n          <Grid container spacing={2}>\n            <Grid item xs={12} md={6}>\n              <FormControl className={classes.form} size=\"small\">\n                <FormLabel component=\"legend\" className={classes.headings}>\n                  Party\n                </FormLabel>\n                <Autocomplete\n                  value={party}\n                  onChange={(event, newValue) => {\n                    if (newValue && newValue.id) setParty(newValue);\n                  }}\n                  options={parties}\n                  getOptionLabel={(party) => party.business_name}\n                  renderInput={(params) => (\n                    <MaterialTextField\n                      {...params}\n                      label=\"\"\n                      variant=\"outlined\"\n                      size=\"small\"\n                    />\n                  )}\n                />\n              </FormControl>\n            </Grid>\n            <Grid item xs={12} md={6}>\n              <FormControl className={classes.form} size=\"small\">\n                <FormLabel component=\"legend\" className={classes.headings}>\n                  Van\n                </FormLabel>\n                <Select\n                  required\n                  value={van}\n                  onChange={(event) => {\n                    setVan(event.target.value);\n                  }}\n                  displayEmpty\n                  fullWidth\n                  variant=\"outlined\"\n                  placeholder=\"Party\"\n                >\n                  {app.vans.map((van, index) => (\n                    <MenuItem key={index} value={van}>\n                      {van}\n                    </MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid item xs={12}>\n              <FormControl className={classes.form} size=\"small\">\n                <Grid container spacing={2}>\n                  <Grid item xs={12} md={4}>\n                    <Autocomplete\n                      value={item}\n                      onChange={(event, newValue) => {\n                        if (newValue && newValue.id) {\n                          setItem(newValue);\n                          setQuantity(1);\n                        }\n                      }}\n                      options={items}\n                      getOptionLabel={(item) => `${item.name}`}\n                      renderInput={(params) => (\n                        <MaterialTextField\n                          {...params}\n                          label=\"\"\n                          variant=\"outlined\"\n                          size=\"small\"\n                        />\n                      )}\n                    />\n                  </Grid>\n\n                  <Grid item xs={12} md={2}>\n                    <FormControl className={classes.form} size=\"small\">\n                      <Select\n                        required\n                        value={boxType}\n                        onChange={(event) => {\n                          setBoxType(event.target.value);\n                          setQuantity(1);\n                        }}\n                        displayEmpty\n                        fullWidth\n                        variant=\"outlined\"\n                        placeholder=\"Box Type\"\n                      >\n                        {app.boxTypes.map((box, index) => (\n                          <MenuItem key={index} value={box}>\n                            {box}\n                          </MenuItem>\n                        ))}\n                      </Select>\n                    </FormControl>\n                  </Grid>\n                  <Grid item xs={12} md={2}>\n                    <MaterialTextField\n                      fullWidth\n                      placeholder=\"150\"\n                      label=\"Quantity\"\n                      variant=\"outlined\"\n                      size=\"small\"\n                      type=\"number\"\n                      required\n                      value={quantity}\n                      onChange={(event) => {\n                        if (boxType === app.boxTypes[2]) {\n                          setQuantity(parseFloat(event.target.value));\n                        } else {\n                          setQuantity(parseInt(event.target.value));\n                        }\n                      }}\n                      InputProps={{\n                        startAdornment: (\n                          <InputAdornment position=\"start\">=</InputAdornment>\n                        ),\n                      }}\n                      style={{\n                        marginBottom: 20,\n                      }}\n                    />\n                  </Grid>\n                  <Grid item xs={12} md={2}>\n                    <MaterialTextField\n                      fullWidth\n                      placeholder=\"120.85\"\n                      label=\"Unit Price\"\n                      variant=\"outlined\"\n                      size=\"small\"\n                      type=\"number\"\n                      required\n                      value={price}\n                      onChange={(event) => setPrice(event.target.value)}\n                      InputProps={{\n                        startAdornment: (\n                          <InputAdornment position=\"start\">\n                            {app.currencySymbol}\n                          </InputAdornment>\n                        ),\n                      }}\n                      style={{\n                        marginBottom: 20,\n                      }}\n                    />\n                  </Grid>\n                  <Grid item xs={12} md={2}>\n                    <Button\n                      startIcon={<SaveIcon />}\n                      variant=\"contained\"\n                      color=\"primary\"\n                      fullWidth\n                      onClick={addItemInCart}\n                    >\n                      Add Item\n                    </Button>\n                  </Grid>\n                </Grid>\n              </FormControl>\n            </Grid>\n            <Grid item xs={12}>\n              <FormLabel component=\"legend\" className={classes.headings}>\n                Cart\n              </FormLabel>\n              <Cart data={data} submitOrder={submitOrder} setData={setData} />\n            </Grid>\n          </Grid>\n        </CardContent>\n      </Card>\n    );\n};\nexport const Purchase_orderShow = (props) => (\n  <Show {...props}>\n    <SimpleShowLayout>\n      <TextField source=\"id\" />\n      <ReferenceField source=\"party_id\" reference=\"parties\">\n        <TextField source=\"business_name\" />\n      </ReferenceField>\n      <ArrayField source=\"cart\">\n        <Datagrid>\n          <TextField source=\"id\" />\n          <ReferenceField source=\"item_id\" reference=\"items\">\n            <TextField source=\"name\" />\n          </ReferenceField>\n          <TextField source=\"name\" />\n          <TextField source=\"type\" />\n          <NumberField source=\"quantity\" />\n          <TextField source=\"price\" />\n          <TextField source=\"total\" />\n        </Datagrid>\n      </ArrayField>\n      <TextField source=\"van\" />\n      <TextField source=\"total\" />\n      <TextField source=\"created_at\" />\n    </SimpleShowLayout>\n  </Show>\n);\n\nexport default {\n  list: OrderList,\n  name: \"purchase_orders\",\n  icon: Money,\n  create: PurchaseOrdersCreate,\n  edit: PurchaseOrdersEdit,\n  options: { label: \"Purchase Orders\" },\n  show: Purchase_orderShow,\n};\n","import * as React from \"react\";\nimport {\n  List,\n  Datagrid,\n  TextField,\n  ReferenceField,\n  DateInput,\n  Filter,\n  Loading,\n  AutocompleteInput,\n  ReferenceInput,\n  SelectInput,\n  Show,\n  ShowButton,\n  NumberField,\n} from \"react-admin\";\nimport ReactToPrint from \"react-to-print\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport Receipt from \"@material-ui/icons/Receipt\";\nimport Button from \"@material-ui/core/Button\";\nimport Print from \"@material-ui/icons/Print\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport { app } from \"../contants\";\nimport { useNotify, useRefresh, useRedirect, Link, Title } from \"react-admin\";\nimport Grid from \"@material-ui/core/Grid\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CustomDelete from \"../components/CustomDelete\";\nimport CustomPagination from \"../components/PaginationCustom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Select,\n  MenuItem,\n} from \"@material-ui/core\";\nimport dataProvider from \"../providers/dataProvider\";\nimport { TextField as MaterialTextField } from \"@material-ui/core\";\nimport axios from \"axios\";\n\nconst OrderFilter = (props) => (\n  <Filter {...props}>\n    <DateInput source=\"current_date\" alwaysOn variant=\"outlined\" />\n  </Filter>\n);\n\n// const InvoiceList = (props) => {\n//   return (\n//     <List\n//       {...props}\n//       bulkActionButtons={false}\n//       filters={<OrderFilter />}\n//       pagination={<CustomPagination />}\n//       sort={{ field: \"id\", order: \"desc\" }}\n//       hasCreate={false}\n//       empty={false}\n//       filterDefaultValues={{ current_date: Date() }}\n//     >\n//       <Datagrid>\n//         <ShowButton />\n//       </Datagrid>\n//     </List>\n//   );\n// };\nconst OrderListRows = (props) => {\n  const notify = useNotify();\n  const data = Object.keys(props.data).map((item) => props.data[item]);\n  const [costs, setCosts] = React.useState({});\n  const rawData = [];\n  const newData = [];\n  data.forEach((order) => {\n    order.cart.forEach((item) => {\n      rawData.push({\n        id: item.item_id,\n        name: item.name,\n        type: item.type,\n        quantity: parseFloat(item.quantity),\n      });\n    });\n  });\n  for (let index = 0; index < rawData.length; index++) {\n    const element = {\n      ...rawData[index],\n      quantity: parseFloat(rawData[index].quantity),\n    };\n    let againElement = app.filter(newData, element);\n    if (againElement.length === 0) {\n      newData.push(element);\n    } else if (againElement.length === 1) {\n      againElement = againElement[0];\n      againElement.quantity =\n        parseFloat(againElement.quantity) + parseFloat(element.quantity);\n    }\n  }\n  const finalOutput = [];\n  for (let index = 0; index < newData.length; index++) {\n    const element = newData[index];\n    let againElement = app.filter(finalOutput, element, false);\n    if (againElement.length === 0) {\n      finalOutput.push({\n        item_id: element.id,\n        name: element.name,\n        total: {\n          [element[\"type\"]]: `${element.quantity}`,\n        },\n      });\n    } else {\n      againElement = againElement[0];\n      againElement.total = {\n        ...againElement.total,\n        [element[\"type\"]]: `${element.quantity}`,\n      };\n    }\n  }\n  finalOutput.sort((a, b) => (a.name > b.name ? 1 : b.name > a.name ? -1 : 0));\n  const changeCost = (value, item_id, type) => {\n    var tempCosts = { ...costs };\n    tempCosts[item_id] = {\n      cost_price: parseFloat(value),\n      item_type: type,\n      item_id,\n    };\n    setCosts(tempCosts);\n  };\n  const submitCost = async (item_id, item_type, name) => {\n    // const cost_price = costs[item_id];\n    // if (!cost_price) {\n    //   notify(`Please enter cost for '${name}'`, \"error\");\n    // } else {\n    // const data = {\n    //   item_id,\n    //   item_type,\n    //   cost_price,\n    // };\n    await axios\n      .post(\n        `${app.api}purchase_order_costing`,\n        Object.values(costs).map((item) => ({\n          ...item,\n          price: 0,\n          created_at: new Date(),\n        }))\n      )\n      .then((res) => {\n        notify(`All given costs are updated.`, \"success\");\n      })\n      .catch((err) => {\n        console.log(err);\n        notify(`Error occured!`, \"error\");\n      });\n    // }\n  };\n  if (finalOutput.length == 0) {\n    return <div style={{ padding: 10 }}>No data to show...</div>;\n  } else\n    return (\n      <>\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"end\",\n            padding: \"10px 35px 10px 0px\",\n          }}\n        >\n          <Button\n            onClick={submitCost}\n            startIcon={<SaveIcon />}\n            variant=\"contained\"\n            color=\"primary\"\n          >\n            Update All Costs\n          </Button>\n        </div>\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Item</TableCell>\n              <TableCell>Type</TableCell>\n              <TableCell>Quantity</TableCell>\n              <TableCell align=\"center\" style={{ width: \"20%\" }}>\n                Cost Price({app.currencySymbol})\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {finalOutput.map((item, i) =>\n              Object.keys(item.total).map((type, j) => (\n                <TableRow key={`${i}_${j}`}>\n                  <TableCell>{item.name}</TableCell>\n                  <TableCell>{type}</TableCell>\n                  <TableCell>{item.total[type]}</TableCell>\n                  <TableCell align=\"center\">\n                    <MaterialTextField\n                      placeholder=\"0.00\"\n                      variant=\"outlined\"\n                      size=\"small\"\n                      type=\"number\"\n                      inputProps={{ style: { textAlign: \"center\" } }}\n                      onChange={(event) => {\n                        changeCost(event.target.value, item.item_id, type);\n                      }}\n                    />\n                  </TableCell>\n                </TableRow>\n              ))\n            )}\n          </TableBody>\n        </Table>\n      </>\n    );\n};\nexport const OrderList = (props) => {\n  return (\n    <List\n      {...props}\n      bulkActionButtons={false}\n      filters={<OrderFilter />}\n      pagination={false}\n      hasCreate={false}\n      empty={false}\n      filterDefaultValues={{ current_date: Date() }}\n    >\n      <OrderListRows />\n    </List>\n  );\n};\n\nexport default {\n  list: OrderList,\n  name: \"purchase_order_costing\",\n  icon: Receipt,\n};\n","import * as React from \"react\";\nimport { List, Filter, DateInput, SelectInput } from \"react-admin\";\nimport ProductionQuantityLimitsIcon from \"@material-ui/icons/PlusOne\";\n\nimport { app } from \"../contants\";\nimport Button from \"@material-ui/core/Button\";\nimport ReactToPrint from \"react-to-print\";\nimport Print from \"@material-ui/icons/Print\";\nimport DataTable from \"react-data-table-component\";\n\nconst OrderFilter = (props) => (\n  <Filter {...props}>\n    <SelectInput\n      choices={app.vans.map((item) => ({ id: item, name: item }))}\n      source=\"van\"\n      label=\"Van\"\n      variant=\"outlined\"\n      alwaysOn\n    />\n    <DateInput source=\"start_date\" alwaysOn variant=\"outlined\" />\n    <DateInput source=\"end_date\" alwaysOn variant=\"outlined\" />\n  </Filter>\n);\n\nclass PrintItemWiseDetails extends React.Component {\n  normalize(output) {\n    var str = \"\";\n    str += `${output[app.boxTypes[0]] ? output[app.boxTypes[0]] : 0} ${\n      app.boxTypes[0]\n    }${\", \"}`;\n    str += `${output[app.boxTypes[1]] ? output[app.boxTypes[1]] : 0} ${\n      app.boxTypes[1]\n    }${\", \"}`;\n    str += `${output[app.boxTypes[2]] ? output[app.boxTypes[2]] : 0} ${\n      app.boxTypes[2]\n    }`;\n    return str;\n  }\n  render() {\n    const newCart = app.sort(\n      this.props.allCart.map((item, index) => ({\n        ...item,\n        id: index,\n        total: this.normalize(item.total),\n      })),\n      \"name\"\n    );\n    return (\n      <div>\n        <div\n          style={{\n            display: \"flex\",\n            padding: \"15px 10px\",\n            border: \"1px solid #555\",\n            borderRadius: 4,\n            marginBottom: 10,\n            marginLeft: 11,\n          }}\n        >\n          <div\n            style={{\n              flex: 0.5,\n            }}\n          >\n            <strong>Date : </strong>\n            {new Date().toLocaleDateString()}\n          </div>\n          <div\n            style={{\n              flex: 1,\n            }}\n          >\n            <strong>Driver Name : </strong>\n            <div\n              style={{\n                textDecoration: \"underline\",\n                display: \"inline-block\",\n                width: \"60%\",\n                borderBottom: \"2px dotted #000\",\n              }}\n            ></div>\n          </div>\n          <div\n            style={{\n              flex: 1,\n            }}\n          >\n            <strong>Signature : </strong>\n            <div\n              style={{\n                textDecoration: \"underline\",\n                display: \"inline-block\",\n                width: \"60%\",\n                borderBottom: \"2px dotted #000\",\n              }}\n            ></div>\n          </div>\n        </div>\n        <DataTable\n          columns={[\n            {\n              name: \"Item\",\n              selector: (row) => row.name,\n              sortable: true,\n            },\n            {\n              name: \"Van\",\n              selector: (row) => row.van,\n              sortable: true,\n            },\n            {\n              name: \"Total\",\n              selector: (row) => row.total,\n            },\n          ]}\n          data={newCart}\n          pagination\n          paginationComponentOptions={{\n            selectAllRowsItem: true,\n            selectAllRowsItemText: \"All Items\",\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nconst OrderListRows = (props) => {\n  const data = Object.keys(props.data).map((item) => props.data[item]);\n  const rawData = [];\n  const newData = [];\n  data.forEach((order) => {\n    order.cart.forEach((item) => {\n      rawData.push({\n        name: item.name,\n        type: item.type,\n        quantity: parseFloat(item.quantity),\n        van: order.van,\n      });\n    });\n  });\n  for (let index = 0; index < rawData.length; index++) {\n    const element = {\n      ...rawData[index],\n      quantity: parseFloat(rawData[index].quantity),\n    };\n    let againElement = app.filter(newData, element);\n    if (againElement.length === 0) {\n      newData.push(element);\n    } else if (againElement.length === 1) {\n      againElement = againElement[0];\n      againElement.quantity =\n        parseFloat(againElement.quantity) + parseFloat(element.quantity);\n    }\n  }\n  const finalOutput = [];\n  for (let index = 0; index < newData.length; index++) {\n    const element = newData[index];\n    let againElement = app.filter(finalOutput, element, false);\n    if (againElement.length === 0) {\n      finalOutput.push({\n        name: element.name,\n        van: element.van,\n        total: {\n          [element[\"type\"]]: `${element.quantity}`,\n        },\n      });\n    } else {\n      againElement = againElement[0];\n      againElement.total = {\n        ...againElement.total,\n        [element[\"type\"]]: `${element.quantity}`,\n      };\n    }\n  }\n  var summaryRef;\n  return (\n    <>\n      {data.length > 0 && (\n        <div\n          style={{\n            marginRight: 10,\n          }}\n        >\n          <ReactToPrint\n            trigger={() => {\n              return (\n                <div\n                  style={{\n                    display: \"flex\",\n                    justifyContent: \"flex-end\",\n                    marginTop: 10,\n                    marginBottom: 10,\n                  }}\n                >\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    startIcon={<Print fontSize=\"inherit\" />}\n                  >\n                    Print\n                  </Button>\n                </div>\n              );\n            }}\n            pageStyle={\"padding:20px\"}\n            content={() => summaryRef}\n          />\n          <PrintItemWiseDetails\n            ref={(el) => (summaryRef = el)}\n            data={data}\n            allCart={finalOutput}\n          />\n        </div>\n      )}\n    </>\n  );\n};\nexport const OrderList = (props) => {\n  return (\n    <List pagination={false} {...props} filters={<OrderFilter />}>\n      <OrderListRows />\n    </List>\n  );\n};\n\nexport default {\n  list: OrderList,\n  name: \"purchase_items\",\n  icon: ProductionQuantityLimitsIcon,\n  options: { label: \"Purchase Items\" },\n};\n","import * as React from \"react\";\nimport { createElement } from \"react\";\nimport { Card, Box, Typography, Divider } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Link } from \"react-router-dom\";\n\nimport cartouche from \"./cartouche.png\";\n\nimport { app } from \"../contants\";\n\nconst useStyles = makeStyles((theme) => ({\n  card: {\n    minHeight: 52,\n    display: \"flex\",\n    flexDirection: \"column\",\n    flex: \"1\",\n    \"& a\": {\n      textDecoration: \"none\",\n      color: \"inherit\",\n    },\n  },\n  main: () => ({\n    overflow: \"inherit\",\n    padding: 16,\n    background: `url(${cartouche}) no-repeat`,\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    \"& .icon\": {\n      color: app.colorOne,\n    },\n  }),\n  title: {},\n}));\n\nconst CardWithIcon = (props) => {\n  const { icon, title, subtitle, to, children, color } = props;\n  const classes = useStyles(props);\n  return (\n    <Card className={classes.card}>\n      <Link to={to}>\n        <div className={classes.main}>\n          <Box width=\"3em\" className=\"icon\">\n            {createElement(icon, { fontSize: \"large\" })}\n          </Box>\n          <Box textAlign=\"right\">\n            <Typography className={classes.title} color=\"textSecondary\">\n              {title}\n            </Typography>\n            <Typography\n              variant=\"h5\"\n              component=\"h2\"\n              style={{\n                color: color ? color : \"#000\",\n              }}\n            >\n              {subtitle || \"\"}\n            </Typography>\n          </Box>\n        </div>\n      </Link>\n      {children && <Divider />}\n      {children}\n    </Card>\n  );\n};\n\nexport default CardWithIcon;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAYAAADII9YOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFF2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDYgNzkuZGFiYWNiYiwgMjAyMS8wNC8xNC0wMDozOTo0NCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjQgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wNy0xNFQyMzozODoyNiswNTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDctMTVUMDA6MDI6MDQrMDU6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDctMTVUMDA6MDI6MDQrMDU6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZjM5OGFlZGItZmUyNS05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\"","import * as React from \"react\";\nimport {\n  List,\n  Datagrid,\n  TextField,\n  ReferenceField,\n  DateField,\n  DateInput,\n  Filter,\n  ReferenceInput,\n  SelectInput,\n  TextInput,\n  Link,\n} from \"react-admin\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport ReactToPrint from \"react-to-print\";\nimport Button from \"@material-ui/core/Button\";\nimport Print from \"@material-ui/icons/Print\";\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\nimport { app } from \"../contants\";\nimport CardWithIcon from \"../dashboard/CardWithIcon\";\nconst ReportFilter = (props) => (\n  <Filter {...props}>\n    <DateInput source=\"start_date\" alwaysOn variant=\"outlined\" />\n    <DateInput source=\"end_date\" alwaysOn variant=\"outlined\" />\n    <ReferenceInput\n      source=\"party_id\"\n      reference=\"parties\"\n      alwaysOn\n      variant=\"outlined\"\n    >\n      <SelectInput optionText=\"business_name\" />\n    </ReferenceInput>\n    {/* <SelectInput\n      alwaysOn\n      choices={[\n        { id: \"Manual Order\", name: \"Manual Order\" }\n      ]}\n      source=\"van\"\n      label=\"Van\"\n      variant=\"outlined\"\n    /> */}\n    <TextInput\n      label=\"Order#\"\n      source=\"order_code\"\n      alwaysOn\n      variant=\"outlined\"\n      fullWidth\n    />\n  </Filter>\n);\nconst Report = (props) => {\n  const [data, setData] = React.useState([]);\n  const [tabsData, setTabsData] = React.useState({\n    totalProfit: 0,\n    totalRevenue: 0,\n    totalBuying: 0,\n    totalTax: 0,\n  });\n  React.useEffect(() => {\n    let tabsOutput = {\n      totalProfit: 0,\n      totalRevenue: 0,\n      totalBuying: 0,\n      totalTax: 0,\n    };\n\n    let tempData = Object.keys(props.data)\n      .map((item) => props.data[item])\n      .sort((a, b) => b.id - a.id);\n    setData(tempData);\n    for (let i = 0; i < tempData.length; i++) {\n      tabsOutput.totalRevenue += parseFloat(tempData[i].total);\n      tabsOutput.totalTax += parseFloat(tempData[i].total_tax);\n      for (let j = 0; j < tempData[i].cart.length; j++) {\n        tabsOutput.totalProfit += parseFloat(tempData[i].cart[j].profit);\n        tabsOutput.totalBuying +=\n          parseFloat(tempData[i].cart[j].buying_price) *\n          tempData[i].cart[j].quantity;\n      }\n    }\n    setTabsData(tabsOutput);\n  }, [props]);\n\n  const classes = {\n    root: { margin: \"auto\", border: \"none\" },\n    spacer: { height: 20 },\n    invoices: { margin: \"10px 0\" },\n  };\n  const styles = {\n    flex: { display: \"flex\" },\n    leftCol: { flex: 1, margin: \"0.5em\" },\n  };\n  const Tile = ({ title, sub, color }) => {\n    return (\n      <div style={styles.leftCol}>\n        <div style={styles.flex}>\n          <CardWithIcon\n            to=\"/orders\"\n            color={color}\n            icon={() => (\n              <h1\n                style={{\n                  padding: 0,\n                  margin: 0,\n                  marginTop: -10,\n                }}\n              >\n                {app.currencySymbol}\n              </h1>\n            )}\n            title={title}\n            subtitle={sub}\n          />\n        </div>\n      </div>\n    );\n  };\n  return (\n    <>\n      <div style={styles.flex}>\n        <Tile\n          title=\"Total Amount Spent\"\n          sub={tabsData.totalBuying.toFixed(2)}\n        />\n        <Tile title=\"20% VAT\" sub={tabsData.totalTax.toFixed(2)} color=\"red\" />\n        <Tile\n          title=\"Profit\"\n          sub={tabsData.totalProfit.toFixed(2)}\n          color={tabsData.totalProfit <= 0 ? \"red\" : \"green\"}\n        />\n        <Tile title=\"Total Revenue\" sub={tabsData.totalRevenue.toFixed(2)} />\n      </div>\n      <div style={classes.invoices}>\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Order Code</TableCell>\n              <TableCell>Party</TableCell>\n              <TableCell>Cart</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {data &&\n              data.map((item, index) => {\n                return (\n                  <TableRow key={index}>\n                    <TableCell>\n                      <Link to={`/orders/${item.id}`} target=\"_blank\">\n                        {item.order_code}\n                      </Link>\n                    </TableCell>\n                    <TableCell>\n                      <Link to={`/parties/${item.party_id}`} target=\"_blank\">\n                        {item.party_business_name}\n                      </Link>\n                    </TableCell>\n                    <TableCell>\n                      <Table size=\"small\">\n                        <TableHead>\n                          <TableRow>\n                            <TableCell>Item</TableCell>\n                            <TableCell align=\"right\">\n                              Buying Price({app.currencySymbol})\n                            </TableCell>\n                            <TableCell align=\"right\">\n                              Sold Price({app.currencySymbol})\n                            </TableCell>\n                            <TableCell align=\"right\">Quantity</TableCell>\n                            <TableCell align=\"right\">\n                              Sub Total({app.currencySymbol})\n                            </TableCell>\n                            <TableCell align=\"right\">\n                              20% VAT({app.currencySymbol})\n                            </TableCell>\n                            <TableCell align=\"right\">\n                              Total({app.currencySymbol})\n                            </TableCell>\n                            <TableCell align=\"right\">\n                              Profit({app.currencySymbol})\n                            </TableCell>\n                          </TableRow>\n                        </TableHead>\n                        <TableBody>\n                          {item.cart.map((cartItem, cartIndex) => {\n                            return (\n                              <TableRow key={cartIndex}>\n                                <TableCell>\n                                  <Link\n                                    to={`/items/${cartItem.item_id}`}\n                                    target=\"_blank\"\n                                  >\n                                    {cartItem.title}\n                                  </Link>\n                                </TableCell>\n                                <TableCell align=\"right\">\n                                  {cartItem.buying_price}\n                                </TableCell>\n                                <TableCell align=\"right\">\n                                  {cartItem.price}\n                                </TableCell>\n                                <TableCell align=\"right\">\n                                  {cartItem.quantity}\n                                </TableCell>\n                                <TableCell align=\"right\">\n                                  <strong>{cartItem.total}</strong>\n                                </TableCell>\n                                <TableCell align=\"right\">\n                                  {cartItem.tax}\n                                </TableCell>\n                                <TableCell align=\"right\">\n                                  <strong>{cartItem.total_with_tax}</strong>\n                                </TableCell>\n                                <TableCell\n                                  align=\"right\"\n                                  style={{\n                                    color:\n                                      cartItem.profit < 0 ? \"red\" : \"green\",\n                                  }}\n                                >\n                                  <strong>{cartItem.profit}</strong>\n                                </TableCell>\n                              </TableRow>\n                            );\n                          })}\n                          <TableRow>\n                            <TableCell colSpan={5} align=\"right\">\n                              <strong>Totals({app.currencySymbol})</strong>\n                            </TableCell>\n                            <TableCell colSpan={1} align=\"right\">\n                              <strong>{item.total_tax}</strong>\n                            </TableCell>\n                            <TableCell colSpan={1} align=\"right\">\n                              <strong>{item.total}</strong>\n                            </TableCell>\n                            <TableCell\n                              colSpan={1}\n                              align=\"right\"\n                              style={{\n                                color: item.total_profit < 0 ? \"red\" : \"green\",\n                              }}\n                            >\n                              <strong>{item.total_profit}</strong>\n                            </TableCell>\n                          </TableRow>\n                        </TableBody>\n                      </Table>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n          </TableBody>\n        </Table>\n      </div>\n    </>\n  );\n};\nexport class ReportList extends React.PureComponent {\n  render() {\n    return (\n      <div>\n        <List\n          pagination={false}\n          {...this.props}\n          bulkActionButtons={false}\n          filters={<ReportFilter />}\n          sort={{ field: \"id\", order: \"desc\" }}\n        >\n          <Report />\n        </List>\n      </div>\n    );\n  }\n}\nexport class ReportPrint extends React.PureComponent {\n  render() {\n    return (\n      <div>\n        <ReactToPrint\n          trigger={() => {\n            return (\n              <div\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"flex-end\",\n                  marginTop: 10,\n                  marginBottom: 10,\n                }}\n              >\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<Print fontSize=\"inherit\" />}\n                >\n                  Print\n                </Button>\n              </div>\n            );\n          }}\n          content={() => this.componentRef}\n        />\n        <ReportList ref={(el) => (this.componentRef = el)} {...this.props} />\n      </div>\n    );\n  }\n}\nexport default {\n  list: ReportPrint,\n  name: \"order_reports\",\n  icon: FileCopyIcon,\n  options: { label: \"Order Reportings\" },\n};\n","import * as React from \"react\";\nimport {\n  List,\n  Datagrid,\n  TextField,\n  ReferenceField,\n  DateField,\n  DateInput,\n  Filter,\n  ReferenceInput,\n  SelectInput,\n  TextInput,\n  Link,\n  AutocompleteInput,\n} from \"react-admin\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport dataProvider from \"../providers/dataProvider\";\nimport ReactToPrint from \"react-to-print\";\nimport Button from \"@material-ui/core/Button\";\nimport Print from \"@material-ui/icons/Print\";\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\nimport { app } from \"../contants\";\nimport CardWithIcon from \"../dashboard/CardWithIcon\";\nimport CustomPagination from \"../components/PaginationCustom\";\nimport moment from \"moment\";\nconst ReportFilter = (props) => (\n  <Filter {...props}>\n    <DateInput source=\"start_date\" alwaysOn variant=\"outlined\" />\n    <DateInput source=\"end_date\" alwaysOn variant=\"outlined\" />\n    <ReferenceInput\n      source=\"party_id\"\n      reference=\"parties\"\n      alwaysOn\n      variant=\"outlined\"\n      perPage={10000000}\n      filterToQuery={(searchText) => ({ business_name: searchText })}\n    >\n      <AutocompleteInput optionText=\"business_name\" />\n    </ReferenceInput>\n    <SelectInput\n      choices={app.vans.map((item) => ({ id: item, name: item }))}\n      source=\"van\"\n      label=\"Van\"\n      variant=\"outlined\"\n      alwaysOn\n    />\n  </Filter>\n);\nconst Report = (props) => {\n  const [data, setData] = React.useState([]);\n  const [tabsData, setTabsData] = React.useState({\n    totalProfit: 0,\n    totalRevenue: 0,\n    totalBuying: 0,\n    totalTax: 0,\n  });\n  const [totalExpense, setTotalExpense] = React.useState(0);\n  const filterIsExists = (filter_name = \"\") => {\n    try {\n      var filters;\n      let searchParams = new URLSearchParams(window.location.href);\n      for (let p of searchParams) {\n        filters = p[1];\n        break;\n      }\n      filters = JSON.parse(filters);\n      const filter_keys = Object.keys(filters);\n      if (filter_keys.indexOf(filter_name) > -1) return filters[filter_name];\n      return false;\n    } catch (e) {\n      return false;\n    }\n  };\n  const getTotalExpense = async () => {\n    const start_date = filterIsExists(\"start_date\");\n    const end_date = filterIsExists(\"end_date\");\n    var needToSplit = true;\n    var created_dates;\n    if (start_date && end_date) {\n      created_dates = app.getDaysBetweenDates(\n        moment(start_date),\n        moment(end_date)\n      );\n      needToSplit = false;\n    } else {\n      created_dates = data\n        .map((item) => item.created_at)\n        .filter(app.uniqueValuesFromArray);\n    }\n    if (created_dates.length > 0) {\n      if (needToSplit) {\n        for (let i = 0; i < created_dates.length; i++) {\n          const exploded_date = created_dates[i].split(\"/\");\n          // YYYY-MM-DD\n          // 2022-05-03 -> To be Used\n          // 2022-May-03\n          created_dates[i] =\n            exploded_date[2] + \"-\" + exploded_date[1] + \"-\" + exploded_date[0];\n        }\n      }\n      const { data: expenses } = await dataProvider.getListSimple(\"expenses\", {\n        dates: created_dates.join(\",\"),\n      });\n      const total = expenses.reduce((a, b) => a + b[\"amount\"], 0);\n      setTotalExpense(total);\n    } else {\n      setTotalExpense(0);\n    }\n  };\n  React.useEffect(getTotalExpense, [\n    tabsData.totalProfit,\n    window.location.href,\n  ]);\n  React.useEffect(() => {\n    let tabsOutput = {\n      totalProfit: 0,\n      totalRevenue: 0,\n      totalBuying: 0,\n      totalTax: 0,\n    };\n\n    let tempData = Object.keys(props.data)\n      .map((item) => props.data[item])\n      .sort((a, b) => b.id - a.id);\n    setData(tempData);\n    for (let i = 0; i < tempData.length; i++) {\n      // tabsOutput.totalRevenue += parseFloat(tempData[i].total);\n      tabsOutput.totalTax += parseFloat(tempData[i].total_tax);\n      for (let j = 0; j < tempData[i].cart.length; j++) {\n        tabsOutput.totalProfit += parseFloat(tempData[i].cart[j].profit);\n        tabsOutput.totalBuying +=\n          parseFloat(tempData[i].cart[j].cost_price) *\n          tempData[i].cart[j].quantity;\n      }\n      tabsOutput.totalProfit -= parseFloat(tempData[i].discount_amount);\n    }\n    setTabsData(tabsOutput);\n  }, [props]);\n\n  const classes = {\n    root: { margin: \"auto\", border: \"none\" },\n    spacer: { height: 20 },\n    invoices: { margin: \"10px 0\" },\n  };\n  const styles = {\n    flex: { display: \"flex\" },\n    leftCol: { flex: 1, margin: \"0.5em\" },\n  };\n  const Tile = ({ title, sub, color }) => {\n    return (\n      <div style={styles.leftCol}>\n        <div style={styles.flex}>\n          <CardWithIcon\n            to=\"/orders\"\n            color={color}\n            icon={() => (\n              <h1\n                style={{\n                  padding: 0,\n                  margin: 0,\n                  marginTop: -10,\n                }}\n              >\n                {app.currencySymbol}\n              </h1>\n            )}\n            title={title}\n            subtitle={sub}\n          />\n        </div>\n      </div>\n    );\n  };\n  return (\n    <>\n      <div style={styles.flex}>\n        <Tile title=\"Total Spent\" sub={tabsData.totalBuying.toFixed(2)} />\n        <Tile title=\"Expense\" sub={totalExpense.toFixed(2)} color=\"red\" />\n        <Tile\n          title=\"Profit\"\n          sub={tabsData.totalProfit.toFixed(2)}\n          color={tabsData.totalProfit <= 0 ? \"red\" : \"green\"}\n        />\n        <Tile\n          title=\"Net Profit\"\n          sub={(tabsData.totalProfit - totalExpense).toFixed(2)}\n          color={tabsData.totalProfit - totalExpense <= 0 ? \"red\" : \"green\"}\n        />\n        <Tile\n          title=\"Total Revenue\"\n          sub={(\n            tabsData.totalBuying +\n            (tabsData.totalProfit - totalExpense)\n          ).toFixed(2)}\n        />\n      </div>\n      <div style={classes.invoices}>\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Date</TableCell>\n              <TableCell>Party</TableCell>\n              <TableCell>Cart</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {data &&\n              data.map((item, index) => {\n                return (\n                  <TableRow key={index}>\n                    <TableCell>{item.created_at}</TableCell>\n                    <TableCell\n                      style={{\n                        width: \"10%\",\n                      }}\n                    >\n                      <Link to={`/parties/${item.party_id}`} target=\"_blank\">\n                        {item.party_business_name}\n                      </Link>\n                    </TableCell>\n                    <TableCell>\n                      <Table size=\"small\">\n                        <TableHead>\n                          <TableRow>\n                            <TableCell>Item</TableCell>\n                            <TableCell>Type</TableCell>\n                            <TableCell align=\"right\">\n                              Cost Price({app.currencySymbol})\n                            </TableCell>\n                            <TableCell align=\"right\">\n                              Sell Price({app.currencySymbol})\n                            </TableCell>\n                            <TableCell align=\"right\">Quantity</TableCell>\n                            {/* <TableCell align=\"right\">\n                              Sub Total({app.currencySymbol})\n                            </TableCell> */}\n                            <TableCell align=\"right\">\n                              20% VAT({app.currencySymbol})\n                            </TableCell>\n                            <TableCell align=\"right\">\n                              Total({app.currencySymbol})\n                            </TableCell>\n                            <TableCell align=\"right\">\n                              Profit({app.currencySymbol})\n                            </TableCell>\n                          </TableRow>\n                        </TableHead>\n                        <TableBody>\n                          {item.cart.map((cartItem, cartIndex) => {\n                            return (\n                              <TableRow key={cartIndex}>\n                                <TableCell>\n                                  <Link\n                                    to={`/items/${cartItem.item_id}`}\n                                    target=\"_blank\"\n                                  >\n                                    {cartItem.name}\n                                  </Link>\n                                </TableCell>\n                                <TableCell>{cartItem.type}</TableCell>\n                                <TableCell align=\"right\">\n                                  {cartItem.cost_price}\n                                </TableCell>\n                                <TableCell align=\"right\">\n                                  {cartItem.price}\n                                </TableCell>\n                                <TableCell align=\"right\">\n                                  {cartItem.quantity}\n                                </TableCell>\n                                {/* <TableCell align=\"right\">\n                                  <strong>{cartItem.total}</strong>\n                                </TableCell> */}\n                                <TableCell align=\"right\">\n                                  {cartItem.tax}\n                                </TableCell>\n                                <TableCell align=\"right\">\n                                  <strong>\n                                    {parseFloat(cartItem.total).toFixed(2)}\n                                  </strong>\n                                </TableCell>\n                                <TableCell\n                                  align=\"right\"\n                                  style={{\n                                    color:\n                                      cartItem.profit < 0 ? \"red\" : \"green\",\n                                  }}\n                                >\n                                  <strong>{cartItem.profit}</strong>\n                                </TableCell>\n                              </TableRow>\n                            );\n                          })}\n                          <TableRow>\n                            <TableCell colSpan={5} align=\"right\">\n                              <strong>\n                                Actual Total({app.currencySymbol})\n                              </strong>\n                            </TableCell>\n                            <TableCell colSpan={1} align=\"right\">\n                              <strong>{item.total_tax}</strong>\n                            </TableCell>\n                            <TableCell colSpan={1} align=\"right\">\n                              <strong>{item.total_without_discount}</strong>\n                            </TableCell>\n                            <TableCell\n                              colSpan={1}\n                              align=\"right\"\n                              style={{\n                                color: item.profit < 0 ? \"red\" : \"green\",\n                              }}\n                            >\n                              <strong>{item.profit}</strong>\n                            </TableCell>\n                          </TableRow>\n                          <TableRow>\n                            <TableCell colSpan={5} align=\"right\">\n                              <strong>Discount({app.currencySymbol})</strong>\n                            </TableCell>\n                            <TableCell colSpan={1} align=\"right\">\n                              <strong>--</strong>\n                            </TableCell>\n                            <TableCell colSpan={1} align=\"right\">\n                              <strong>{item.discount_amount}</strong>\n                            </TableCell>\n                            <TableCell\n                              colSpan={1}\n                              align=\"right\"\n                              // style={{\n                              //   color: item.total_profit < 0 ? \"red\" : \"green\",\n                              // }}\n                            >\n                              <strong>--</strong>\n                            </TableCell>\n                          </TableRow>\n                          <TableRow>\n                            <TableCell colSpan={5} align=\"right\">\n                              <strong>Grand Total({app.currencySymbol})</strong>\n                            </TableCell>\n                            <TableCell colSpan={1} align=\"right\">\n                              <strong>{item.total_tax}</strong>\n                            </TableCell>\n                            <TableCell colSpan={1} align=\"right\">\n                              <strong>{item.total}</strong>\n                            </TableCell>\n                            <TableCell\n                              colSpan={1}\n                              align=\"right\"\n                              style={{\n                                color: item.total_profit < 0 ? \"red\" : \"green\",\n                              }}\n                            >\n                              <strong>{item.total_profit}</strong>\n                            </TableCell>\n                          </TableRow>\n                        </TableBody>\n                      </Table>\n                    </TableCell>\n                  </TableRow>\n                );\n              })}\n          </TableBody>\n        </Table>\n      </div>\n    </>\n  );\n};\nexport class ReportList extends React.PureComponent {\n  render() {\n    return (\n      <div>\n        <List\n          pagination={<CustomPagination />}\n          {...this.props}\n          bulkActionButtons={false}\n          filters={<ReportFilter />}\n          sort={{ field: \"id\", order: \"desc\" }}\n        >\n          <Report />\n        </List>\n      </div>\n    );\n  }\n}\nexport class ReportPrint extends React.PureComponent {\n  render() {\n    return (\n      <div>\n        <ReactToPrint\n          trigger={() => {\n            return (\n              <div\n                style={{\n                  margin: 10,\n                  display: \"block\",\n                  textAlign: \"right\",\n                }}\n              >\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<Print fontSize=\"inherit\" />}\n                >\n                  Print\n                </Button>\n              </div>\n            );\n          }}\n          content={() => this.componentRef}\n        />\n        <ReportList ref={(el) => (this.componentRef = el)} {...this.props} />\n      </div>\n    );\n  }\n}\nexport default {\n  list: ReportPrint,\n  name: \"purchase_order_reports\",\n  icon: FileCopyIcon,\n  options: { label: \"Order Reportings\" },\n};\n","import * as React from \"react\";\nimport { List, DateInput, Filter, SelectInput, Link } from \"react-admin\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport ReactToPrint from \"react-to-print\";\nimport Button from \"@material-ui/core/Button\";\nimport Print from \"@material-ui/icons/Print\";\nimport { app } from \"../contants\";\nimport LocalShippingIcon from \"@material-ui/icons/LocalShipping\";\nconst ReportFilter = (props) => (\n  <Filter {...props}>\n    <DateInput\n      source=\"created_at\"\n      alwaysOn\n      variant=\"outlined\"\n      label=\"Select Date\"\n    />\n    <SelectInput\n      alwaysOn\n      choices={app.vans.map((item) => ({ id: item, name: item }))}\n      source=\"van\"\n      label=\"Van\"\n      variant=\"outlined\"\n    />\n  </Filter>\n);\nconst neutralData = (data) => {\n  let group = data.reduce((r, a) => {\n    r[a.van] = [\n      ...(r[a.van] || []),\n      a.cart.map((item) => ({\n        item_id: item.item_id,\n        inventory_id: item.inventory_id,\n        quantity: item.quantity,\n        title: item.title,\n      })),\n    ];\n    return r;\n  }, {});\n  group = Object.keys(group)\n    .sort()\n    .reduce((obj, key) => {\n      obj[key] = group[key];\n      return obj;\n    }, {});\n  Object.keys(group).map((key) => {\n    let carts = group[key];\n    let newCarts = [];\n    carts.map((cart) => {\n      cart.map((item) => {\n        newCarts.push(item);\n      });\n    });\n    group[key] = newCarts;\n  });\n  Object.keys(group).map((key) => {\n    let result = [];\n    group[key].reduce(function (res, value) {\n      if (!res[value.inventory_id]) {\n        res[value.inventory_id] = {\n          inventory_id: value.inventory_id,\n          quantity: 0,\n          item_id: value.item_id,\n          title: value.title,\n        };\n        result.push(res[value.inventory_id]);\n      }\n      res[value.inventory_id].quantity += value.quantity;\n      return res;\n    }, {});\n    group[key] = result;\n    return result;\n  });\n  return group;\n};\nconst Report = (props) => {\n  const [data, setData] = React.useState([]);\n  React.useEffect(() => {\n    let tempData = neutralData(\n      Object.keys(props.data)\n        .map((item) => props.data[item])\n        .filter((item) => item.status === \"Progress\")\n        .sort((a, b) => b.id - a.id)\n    );\n    setData(tempData);\n  }, [props]);\n\n  const classes = {\n    root: { margin: \"auto\", border: \"none\" },\n    spacer: { height: 20 },\n    invoices: { margin: \"10px 0\" },\n  };\n  if (Object.keys(props.data).length == 0)\n    return (\n      <p\n        style={{\n          margin: 10,\n        }}\n      >\n        Sorry, no records found!\n      </p>\n    );\n  return (\n    <>\n      <div style={classes.invoices}>\n        {data &&\n          Object.keys(data).map((key) => {\n            return (\n              <div\n                style={{\n                  marginBottom: 10,\n                }}\n              >\n                <h4\n                  style={{\n                    margin: 0,\n                    marginLeft: 14,\n                    color: app.colorOne,\n                  }}\n                >\n                  {key == \"null\" ? \"Unspecified Van\" : key}\n                </h4>\n                <Table size=\"small\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell>\n                        <strong>Item</strong>\n                      </TableCell>\n                      <TableCell>\n                        <strong>Quantity</strong>\n                      </TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {data[key].map((item, index) => (\n                      <TableRow key={index}>\n                        <TableCell\n                          style={{\n                            width: \"50%\",\n                          }}\n                        >\n                          <Link\n                            to={`/items/${item.item_id}/show`}\n                            target=\"_blank\"\n                          >\n                            {item.title}\n                          </Link>\n                        </TableCell>\n                        <TableCell\n                          style={{\n                            width: \"50%\",\n                          }}\n                        >\n                          {item.quantity}\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              </div>\n            );\n          })}\n      </div>\n    </>\n  );\n};\nexport class ReportList extends React.PureComponent {\n  render() {\n    return (\n      <div>\n        <List\n          pagination={false}\n          {...this.props}\n          bulkActionButtons={false}\n          filters={<ReportFilter />}\n          sort={{ field: \"id\", order: \"desc\" }}\n        >\n          <Report />\n        </List>\n      </div>\n    );\n  }\n}\nexport class ReportPrint extends React.PureComponent {\n  render() {\n    return (\n      <div>\n        <ReactToPrint\n          trigger={() => {\n            return (\n              <div\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"flex-end\",\n                  marginTop: 10,\n                  marginBottom: 10,\n                }}\n              >\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<Print fontSize=\"inherit\" />}\n                >\n                  Print\n                </Button>\n              </div>\n            );\n          }}\n          content={() => this.componentRef}\n        />\n        <ReportList ref={(el) => (this.componentRef = el)} {...this.props} />\n      </div>\n    );\n  }\n}\nexport default {\n  list: ReportPrint,\n  name: \"van_reports\",\n  icon: LocalShippingIcon,\n  options: { label: \"Van Reportings\" },\n};\n","import * as React from \"react\";\nimport \"./style.css\";\nimport { List, DateInput, Filter, SelectInput } from \"react-admin\";\nimport Receipt from \"@material-ui/icons/Receipt\";\nimport { app } from \"../contants\";\nimport ReactToPrint from \"react-to-print\";\nimport Print from \"@material-ui/icons/Print\";\nimport Button from \"@material-ui/core/Button\";\nimport moment from \"moment\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nconst OrderFilter = (props) => (\n  <Filter {...props}>\n    <SelectInput\n      choices={app.vans.map((item) => ({ id: item, name: item }))}\n      source=\"van\"\n      label=\"Van\"\n      variant=\"outlined\"\n      alwaysOn\n    />\n    <DateInput source=\"current_date\" alwaysOn variant=\"outlined\" />\n  </Filter>\n);\n\nconst Content = (props) => {\n  const [data, setData] = React.useState({});\n  React.useEffect(() => {\n    var daily_reports = {};\n    const data = Object.keys(props.data)\n      .map((item) => props.data[item])\n      .sort((a, b) => b.id - a.id);\n    data.forEach((item) => {\n      daily_reports[item.party.business_name] = {\n        total_amount: parseFloat(item.total).toFixed(2),\n        transactions_total: parseFloat(item.transactions_total).toFixed(2),\n        name: item.party.business_name,\n        transactions: item.transactions,\n      };\n    });\n    daily_reports = Object.keys(daily_reports)\n      .sort()\n      .reduce((obj, key) => {\n        obj[key] = daily_reports[key];\n        return obj;\n      }, {});\n    setData(daily_reports);\n  }, [props.data]);\n  if (Object.keys(data).length === 0)\n    return <div style={{ padding: 10 }}>Loading...</div>;\n  else\n    return (\n      <div style={{ padding: 10 }}>\n        <div\n          style={{\n            display: \"flex\",\n            padding: \"15px 10px\",\n            border: \"1px solid #555\",\n            borderRadius: 4,\n            marginBottom: 10,\n          }}\n        >\n          <div\n            style={{\n              flex: 1,\n            }}\n          >\n            <strong>Date : </strong>\n            {moment().format(\"DD-MMM-YYYY\")}\n          </div>\n          <div\n            style={{\n              flex: 1,\n              flexDirection: \"row\",\n              display: \"flex\",\n            }}\n          >\n            <div\n              style={{\n                flex: 0.4,\n                textAlign: \"right\",\n              }}\n            >\n              <strong>Driver Name : </strong>\n            </div>\n            <div\n              style={{\n                flex: 1,\n\n                borderBottom: \"2px dotted #555\",\n              }}\n            ></div>\n          </div>\n        </div>\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell style={{ width: \"35%\", fontWeight: \"bold\" }}>\n                Customer\n              </TableCell>\n              <TableCell\n                style={{ width: \"15%\", fontWeight: \"bold\" }}\n                align=\"center\"\n              >\n                Total Amount({app.currencySymbol})\n              </TableCell>\n              <TableCell\n                style={{ width: \"25%\", fontWeight: \"bold\" }}\n                align=\"center\"\n              >\n                Received Amount({app.currencySymbol})\n              </TableCell>\n              <TableCell\n                style={{ width: \"35%\", fontWeight: \"bold\" }}\n                align=\"center\"\n              >\n                Missing Items\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {Object.keys(data).map((key, index) => {\n              return (\n                <>\n                  <TableRow\n                    style={{\n                      border: \"1px solid #000\",\n                      borderRadius: 4,\n                    }}\n                  >\n                    <TableCell>\n                      <strong>{data[key].name}</strong>\n                    </TableCell>\n                    <TableCell align=\"right\">\n                      <strong>{data[key].transactions_total}</strong>\n                    </TableCell>\n                    <TableCell\n                      align=\"center\"\n                      style={{ border: \"1px solid #ccc\" }}\n                    ></TableCell>\n                    <TableCell\n                      style={{ border: \"1px solid #ccc\" }}\n                      align=\"center\"\n                    ></TableCell>\n                  </TableRow>\n                  {data[key].transactions.length > 0 && (\n                    <TableRow>\n                      <TableCell\n                        colSpan={2}\n                        style={{ paddingLeft: 0, paddingRight: 6 }}\n                      >\n                        <Table size=\"small\">\n                          <TableHead>\n                            <TableRow>\n                              <TableCell>\n                                <strong>Date</strong>\n                              </TableCell>\n                              <TableCell align=\"right\">\n                                <strong>\n                                  Unpaid Transaction Amount({app.currencySymbol}\n                                  )\n                                </strong>\n                              </TableCell>\n                            </TableRow>\n                          </TableHead>\n                          <TableBody>\n                            {data[key].transactions.map((transaction) => (\n                              <TableRow>\n                                <TableCell>\n                                  {moment(transaction.date).format(\n                                    \"DD/MM/YYYY\"\n                                  )}\n                                </TableCell>\n                                <TableCell align=\"right\">\n                                  <strong>\n                                    {parseFloat(transaction.amount).toFixed(2)}\n                                  </strong>\n                                </TableCell>\n                              </TableRow>\n                            ))}\n                          </TableBody>\n                        </Table>\n                      </TableCell>\n                      <TableCell colSpan={2}></TableCell>\n                    </TableRow>\n                  )}\n                </>\n              );\n            })}\n          </TableBody>\n        </Table>\n      </div>\n    );\n};\nexport class DailyInvoicesParent extends React.PureComponent {\n  render() {\n    return <Content {...this.props} />;\n  }\n}\nconst DailyInvoices = (props) => {\n  var tableRef;\n\n  if (Object.keys(props.data).length == 0) {\n    return (\n      <div\n        style={{\n          padding: 10,\n        }}\n      >\n        No records found.\n      </div>\n    );\n  } else\n    return (\n      <div>\n        <ReactToPrint\n          trigger={() => {\n            return (\n              <div\n                style={{\n                  margin: 10,\n                  display: \"inline-block\",\n                }}\n              >\n                <div>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    startIcon={<Print fontSize=\"inherit\" />}\n                  >\n                    Print\n                  </Button>\n                </div>\n              </div>\n            );\n          }}\n          pageStyle={\"padding:20px\"}\n          content={() => tableRef}\n        />\n        <DailyInvoicesParent ref={(el) => (tableRef = el)} {...props} />\n      </div>\n    );\n};\nconst InvoiceList = (props) => {\n  return (\n    <List\n      // filterDefaultValues={{ current_date: Date(), van: app.vans[0] }}\n      {...props}\n      bulkActionButtons={false}\n      filters={<OrderFilter />}\n      pagination={false}\n      sort={{ field: \"id\", order: \"desc\" }}\n      hasCreate={false}\n      perPage={1000000}\n      empty={false}\n    >\n      <DailyInvoices />\n    </List>\n  );\n};\nexport default {\n  name: \"daily_invoice_reports\",\n  list: InvoiceList,\n  icon: Receipt,\n};\n","export default __webpack_public_path__ + \"static/media/logo.4c228112.png\";","import * as React from \"react\";\n\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Link } from \"react-admin\";\nimport logo from \"./logo.png\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport { app } from \"../contants\";\n\nconst CustomerField = ({ record }) =>\n  record ? (\n    <Typography>\n      <strong>{record.business_name}</strong>\n      <br />\n      {record.address}\n      <br />\n      {record.contact_number}\n    </Typography>\n  ) : null;\nexport class InvoiceShow extends React.PureComponent {\n  render() {\n    this.classes = {\n      root: { margin: \"auto\", border: \"none\" },\n      spacer: { height: 20 },\n      invoices: { margin: \"10px 0\" },\n      margin0: { margin: 0 },\n      margin1: { margin: 0, marginTop: 5 },\n    };\n    if (!this.props.record) return null;\n\n    return (\n      <Card style={this.classes.root}>\n        <CardContent>\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n            }}\n          >\n            <div>\n              <img\n                src={logo}\n                style={{\n                  width: 100,\n                }}\n                alt=\"logo\"\n              />\n              <h4 style={this.classes.margin0}>Everyday Fresh Food Ltd.</h4>\n              <p style={this.classes.margin0}>\n                Unit 25 Chalwyn Industrial Estate\n              </p>\n              <p style={this.classes.margin0}>Parkstone, Poole</p>\n              <p style={this.classes.margin0}>BH12 4PE</p>\n              <p style={this.classes.margin0}>\n                <strong>Tel : 01202 801167</strong>\n              </p>\n              <h4 style={this.classes.margin1}>Banking Information</h4>\n              <p style={this.classes.margin0}>\n                Cheque payable to <strong>Everyday Fresh Food Ltd.</strong>\n              </p>\n              {this.props.record.bank_visible == 1 && (\n                <>\n                  <p style={this.classes.margin1}>\n                    <strong>Account Name:</strong> Everyday fresh Food\n                  </p>\n                  <p style={this.classes.margin0}>\n                    <strong>Account:</strong> 30106852\n                  </p>\n                  <p style={this.classes.margin0}>\n                    <strong>Sort Code:</strong> 40-18-00\n                  </p>\n                  <p style={this.classes.margin0}>\n                    <strong>Bank Name:</strong> HSBC\n                  </p>\n                </>\n              )}\n            </div>\n            <div>\n              <img\n                src={logo}\n                style={{\n                  width: 100,\n                  opacity: 0,\n                }}\n                alt=\"logo\"\n              />\n              <h4\n                style={{\n                  margin: 0,\n                }}\n              >\n                Invoice# {this.props.record.id}\n              </h4>\n              <CustomerField record={this.props.record.party} />\n            </div>\n          </div>\n          <div style={this.classes.spacer}>&nbsp;</div>\n          <Grid container spacing={2}>\n            <Grid item xs={6}>\n              <Typography variant=\"h6\" gutterBottom align=\"center\">\n                Date\n              </Typography>\n              <Typography gutterBottom align=\"center\">\n                {this.props.record.created_at}\n              </Typography>\n            </Grid>\n\n            <Grid item xs={5}>\n              <Typography variant=\"h6\" gutterBottom align=\"center\">\n                Order\n              </Typography>\n              <Typography gutterBottom align=\"center\">\n                {this.props.record.order.order_code}\n              </Typography>\n            </Grid>\n          </Grid>\n          <div style={this.classes.invoices}>\n            <Table size=\"small\">\n              <TableHead>\n                <TableRow>\n                  <TableCell>Item</TableCell>\n                  <TableCell\n                    style={this.classes.rightAlignedCell}\n                    align=\"right\"\n                  >\n                    Quantity\n                  </TableCell>\n                  <TableCell\n                    style={this.classes.rightAlignedCell}\n                    align=\"right\"\n                  >\n                    Unit Price({app.currencySymbol})\n                  </TableCell>\n                  <TableCell\n                    style={this.classes.rightAlignedCell}\n                    align=\"right\"\n                  >\n                    Total({app.currencySymbol})\n                  </TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {this.props.record.order.cart.map((item, index) => (\n                  <TableRow key={index}>\n                    <TableCell>\n                      <Link to={`/items/${item.item_id}/show`} target=\"_blank\">\n                        {item.title}\n                      </Link>\n                    </TableCell>\n                    <TableCell align=\"right\">{item.quantity}</TableCell>\n                    <TableCell align=\"right\">{item.price}</TableCell>\n                    <TableCell align=\"right\">\n                      <strong>{item.total}</strong>\n                    </TableCell>\n                  </TableRow>\n                ))}\n                <TableRow>\n                  <TableCell></TableCell>\n                  <TableCell align=\"right\"></TableCell>\n                  <TableCell align=\"right\">\n                    <strong>20% VAT({app.currencySymbol})</strong>\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    <strong>{this.props.record.order.total_tax}</strong>\n                  </TableCell>\n                </TableRow>\n                <TableRow>\n                  <TableCell></TableCell>\n                  <TableCell align=\"right\"></TableCell>\n                  <TableCell align=\"right\">\n                    <strong>Total({app.currencySymbol})</strong>\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    <strong>{this.props.record.order.total}</strong>\n                  </TableCell>\n                </TableRow>\n              </TableBody>\n            </Table>\n          </div>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <h4>\n                <i> Thank you for your business with us.</i>\n              </h4>\n            </Grid>\n          </Grid>\n        </CardContent>\n      </Card>\n    );\n  }\n}\n\nexport default InvoiceShow;\n","import * as React from \"react\";\nimport {\n  List,\n  Datagrid,\n  TextField,\n  ReferenceField,\n  DateField,\n  DateInput,\n  Filter,\n  TextInput,\n  EditButton,\n  ListGuesser,\n} from \"react-admin\";\nimport ReactToPrint from \"react-to-print\";\nimport PagesIcon from \"@material-ui/icons/Pages\";\nimport Button from \"@material-ui/core/Button\";\nimport Print from \"@material-ui/icons/Print\";\nimport { app } from \"../contants\";\nimport InvoiceShow from \"./InvoiceShow\";\nconst OrderFilter = (props) => (\n  <Filter {...props}>\n    <TextInput\n      label=\"Order#\"\n      source=\"order_code\"\n      alwaysOn\n      variant=\"outlined\"\n      fullWidth\n    />\n    <DateInput source=\"start_date\" alwaysOn variant=\"outlined\" />\n    <DateInput source=\"end_date\" alwaysOn variant=\"outlined\" />\n  </Filter>\n);\nexport class InvoicePrint extends React.PureComponent {\n  render() {\n    return (\n      <div>\n        <ReactToPrint\n          trigger={() => {\n            return (\n              <div\n                style={{\n                  display: \"flex\",\n                  justifyContent: \"flex-end\",\n                  marginTop: 10,\n                  marginBottom: 10,\n                }}\n              >\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<Print fontSize=\"inherit\" />}\n                >\n                  Print\n                </Button>\n              </div>\n            );\n          }}\n          content={() => this.componentRef}\n        />\n        <InvoiceShow ref={(el) => (this.componentRef = el)} {...this.props} />\n      </div>\n    );\n  }\n}\nexport const InvoiceList = (props) => {\n  return (\n    <List\n      pagination={false}\n      {...props}\n      bulkActionButtons={false}\n      filters={<OrderFilter />}\n      sort={{ field: \"id\", order: \"desc\" }}\n    >\n      <Datagrid rowClick=\"expand\" expand={<InvoicePrint />}>\n        <TextField\n          source=\"id\"\n          label=\"Invoice#\"\n          style={{\n            fontWeight: \"bold\",\n          }}\n        />\n        <TextField source=\"order.order_code\" label={\"Order Code\"} />\n        <ReferenceField\n          source=\"order.party_id\"\n          reference=\"parties\"\n          label=\"Party\"\n          sortable={false}\n        >\n          <TextField source=\"business_name\" />\n        </ReferenceField>\n        <TextField source=\"order.total_items\" label=\"Items\" sortable={false} />\n        <TextField\n          source=\"order.total_quantity\"\n          label=\"Quantity\"\n          sortable={false}\n        />\n        <TextField\n          sortable={false}\n          source=\"order.total\"\n          label={`Total Amount(${app.currencySymbol})`}\n        />\n        <TextField source=\"created_at\" label=\"Date\" />\n      </Datagrid>\n    </List>\n  );\n};\n\nexport default {\n  list: InvoiceList,\n  name: \"invoices\",\n  icon: PagesIcon,\n  show: InvoicePrint,\n};\n","import * as React from \"react\";\n\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport { app } from \"../contants\";\n\nconst CustomerField = ({ record }) =>\n  record ? (\n    <Typography align=\"right\">\n      <strong>{record.business_name}</strong>\n      <br />\n      {record.address}\n      <br />\n      {record.contact_number}\n    </Typography>\n  ) : null;\nexport class InvoiceShow extends React.PureComponent {\n  render() {\n    this.classes = {\n      root: { margin: \"auto\", border: \"none\" },\n      spacer: { height: 20 },\n      invoices: { margin: \"10px 0\" },\n      margin0: { margin: 0 },\n      margin1: { margin: 0, marginTop: 5 },\n    };\n    if (!this.props.record) return \"Sorry, Invalid Invioce.\";\n\n    return (\n      <Card style={this.classes.root}>\n        <CardContent>\n          <img\n            src={\"https://i.ibb.co/JHsgN8d/logo.png\"}\n            style={{\n              width: 150,\n            }}\n            alt=\"logo\"\n          />\n          <div\n            style={{\n              width: \"100%\",\n            }}\n          >\n            <div\n              style={{\n                width: \"50%\",\n                display: \"inline-block\",\n              }}\n            >\n              <h4 style={this.classes.margin0}>Everyday Fresh Food Ltd.</h4>\n              <p style={this.classes.margin0}>\n                Unit 25 Chalwyn Industrial Estate\n              </p>\n              <p style={this.classes.margin0}>Parkstone, Poole</p>\n              <p style={this.classes.margin0}>BH12 4PE</p>\n              <p style={this.classes.margin0}>\n                <strong>Tel : 01202 801167</strong>\n              </p>\n              <h4 style={this.classes.margin1}>Banking Information</h4>\n              <p style={this.classes.margin0}>\n                Cheque payable to <strong>Everyday Fresh Food Ltd.</strong>\n              </p>\n\n              <p style={this.classes.margin0}>\n                VAT registration number: <strong>409 2028 21</strong>\n              </p>\n              {this.props.record.bank_visible == 1 && (\n                <>\n                  <p style={this.classes.margin1}>\n                    <strong>Account Name:</strong> Everyday fresh Food\n                  </p>\n                  <p style={this.classes.margin0}>\n                    <strong>Account:</strong> 30106852\n                  </p>\n                  <p style={this.classes.margin0}>\n                    <strong>Sort Code:</strong> 40-18-00\n                  </p>\n                  <p style={this.classes.margin0}>\n                    <strong>Bank Name:</strong> HSBC\n                  </p>\n                </>\n              )}\n              <p style={this.classes.margin1}>\n                <strong>Date : </strong>\n                <i>{this.props.record.created_at}</i>\n              </p>\n            </div>\n            <div\n              style={{\n                width: \"50%\",\n                display: \"inline-block\",\n                verticalAlign: \"top\",\n              }}\n            >\n              <h4\n                style={{\n                  margin: 0,\n                  textAlign: \"right\",\n                }}\n              >\n                Invoice# {this.props.record.id}\n              </h4>\n              <CustomerField record={this.props.record.party} />\n            </div>\n          </div>\n          <div style={this.classes.spacer}>&nbsp;</div>\n          <div style={this.classes.invoices}>\n            <Table size=\"small\">\n              <TableHead>\n                <TableRow>\n                  <TableCell>Item</TableCell>\n                  <TableCell>Type</TableCell>\n                  <TableCell\n                    style={this.classes.rightAlignedCell}\n                    align=\"right\"\n                  >\n                    Quantity\n                  </TableCell>\n                  <TableCell\n                    style={this.classes.rightAlignedCell}\n                    align=\"right\"\n                  >\n                    Price({app.currencySymbol})\n                  </TableCell>\n                  <TableCell\n                    style={this.classes.rightAlignedCell}\n                    align=\"right\"\n                  >\n                    Total({app.currencySymbol})\n                  </TableCell>\n                </TableRow>\n              </TableHead>\n              <TableBody>\n                {this.props.record.cart.map((item, index) => (\n                  <TableRow key={index}>\n                    <TableCell>\n                      <strong>{item.name}</strong>\n                    </TableCell>\n                    <TableCell>{item.type}</TableCell>\n                    <TableCell align=\"right\">{item.quantity}</TableCell>\n                    <TableCell align=\"right\">\n                      {parseFloat(item.price).toFixed(2)}\n                    </TableCell>\n                    <TableCell align=\"right\">\n                      <strong>{parseFloat(item.total).toFixed(2)}</strong>\n                    </TableCell>\n                  </TableRow>\n                ))}\n                <TableRow>\n                  <TableCell align=\"right\" colSpan={4}>\n                    <strong>Total({app.currencySymbol})</strong>\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    <strong>{this.props.record.total_without_discount}</strong>\n                  </TableCell>\n                </TableRow>\n                <TableRow>\n                  <TableCell align=\"right\" colSpan={4}>\n                    <strong>Discount({app.currencySymbol})</strong>\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    <strong>{this.props.record.discount_amount}</strong>\n                  </TableCell>\n                </TableRow>\n                <TableRow>\n                  <TableCell align=\"right\" colSpan={4}>\n                    <strong>Total Amount({app.currencySymbol})</strong>\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    <strong>{this.props.record.total}</strong>\n                  </TableCell>\n                </TableRow>\n              </TableBody>\n            </Table>\n          </div>\n          <Grid container spacing={2}>\n            <Grid item xs={12}>\n              <i style={{ width: \"100%\" }}>\n                Please provide invoice number's reference when using bank\n                transfer.\n              </i>\n              <h4 style={{ padding: 0, marginTop: 8 }}>\n                <i> Thank you for your business with us.</i>\n              </h4>\n            </Grid>\n          </Grid>\n        </CardContent>\n      </Card>\n    );\n  }\n}\n\nexport default InvoiceShow;\n","import * as React from \"react\";\nimport {\n  List,\n  Datagrid,\n  TextField,\n  ReferenceField,\n  DateInput,\n  Filter,\n  Loading,\n  AutocompleteInput,\n  ReferenceInput,\n  SelectInput,\n  Show,\n  ShowButton,\n  NumberField,\n  usePermissions,\n} from \"react-admin\";\nimport { useReactToPrint } from \"react-to-print\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport Receipt from \"@material-ui/icons/Receipt\";\nimport Button from \"@material-ui/core/Button\";\nimport Print from \"@material-ui/icons/Print\";\nimport MailIcon from \"@material-ui/icons/Mail\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport { app } from \"../contants\";\nimport InvoiceShow from \"./InvoiceShow\";\nimport { useNotify, useRefresh, useRedirect, Link, Title } from \"react-admin\";\nimport Grid from \"@material-ui/core/Grid\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CustomDelete from \"../components/CustomDelete\";\nimport CustomPagination from \"../components/PaginationCustom\";\nimport { TextField as MTextField, CircularProgress } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Select,\n  MenuItem,\n} from \"@material-ui/core\";\nimport dataProvider from \"../providers/dataProvider\";\nimport { TextField as MaterialTextField } from \"@material-ui/core\";\nimport axios from \"axios\";\n\nconst OrderFilter = (props) => (\n  <Filter {...props}>\n    <ReferenceInput\n      source=\"party_id\"\n      reference=\"parties\"\n      alwaysOn\n      variant=\"outlined\"\n      perPage={10000000}\n      filterToQuery={(searchText) => ({ business_name: searchText })}\n    >\n      <AutocompleteInput optionText=\"business_name\" />\n    </ReferenceInput>\n    <SelectInput\n      choices={app.vans.map((item) => ({ id: item, name: item }))}\n      source=\"van\"\n      label=\"Van\"\n      variant=\"outlined\"\n      alwaysOn\n    />\n    <DateInput source=\"start_date\" alwaysOn variant=\"outlined\" />\n    <DateInput source=\"end_date\" alwaysOn variant=\"outlined\" />\n  </Filter>\n);\nconst InvoicePrintWrapper = (props) => {\n  const componentRef = React.useRef();\n  const notify = useNotify();\n  const [email, setEmail] = React.useState(\"\");\n  const [loading, setLoding] = React.useState(false);\n  React.useEffect(() => {\n    setEmail(props.record.party.email);\n  }, [props]);\n  const sendEmail = useReactToPrint({\n    content: () => componentRef.current,\n    copyStyles: true,\n    print: async (printIframe) => {\n      // Validate Email\n      // if (!app.validateEmail(email)) {\n      if (!true) {\n        notify(\"Please enter a valid email address\", \"warning\");\n        return;\n      }\n      setLoding(true);\n      // Generate Invoice HTML and send Email\n      const document = printIframe.contentDocument;\n      if (document) {\n        const toBeRemovedAndReplaced = [\n          {\n            removed:\n              '<link rel=\"stylesheet\" href=\"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&amp;display=swap\">',\n            replace: \"\",\n          },\n          {\n            removed:\n              '<div class=\"MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-2\">',\n            replace:\n              '<div style=\"width:100%\" class=\"MuiGrid-root MuiGrid-container MuiGrid-spacing-xs-2\">',\n          },\n          {\n            removed: 'style=\"width: 100%;\"',\n            replace: 'style=\"width: 100%;margin-top:20px\"',\n          },\n        ];\n        var invoice_message =\n          document.getElementsByTagName(\"html\")[0].innerHTML;\n\n        for (let i = 0; i < toBeRemovedAndReplaced.length; i++) {\n          const element = toBeRemovedAndReplaced[i];\n          invoice_message = invoice_message.replace(\n            element.removed,\n            element.replace\n          );\n        }\n\n        const url = app.api + \"send_email\";\n        await axios\n          .post(url, {\n            invoice_message,\n            emails: email,\n          })\n          .then((response) => {\n            notify(response.data, \"info\");\n          })\n          .catch((response) => {\n            notify(response.data, \"error\");\n          });\n      }\n      setLoding(false);\n    },\n  });\n  const handlePrint = useReactToPrint({\n    content: () => componentRef.current,\n  });\n  return (\n    <>\n      <MTextField\n        style={{\n          margin: 10,\n          width: \"40%\",\n        }}\n        variant=\"outlined\"\n        margin=\"dense\"\n        label=\"Enter Email\"\n        size=\"small\"\n        onChange={(e) => setEmail(e.target.value)}\n        value={email}\n      />\n      <Button\n        style={{\n          margin: 10,\n          marginTop: 12,\n        }}\n        variant=\"outlined\"\n        color=\"primary\"\n        startIcon={<MailIcon fontSize=\"inherit\" />}\n        onClick={sendEmail}\n      >\n        Email Invoice{\" \"}\n        {loading && <CircularProgress size={20} style={{ marginLeft: 6 }} />}\n      </Button>\n      <Button\n        style={{\n          marginTop: 4,\n        }}\n        variant=\"contained\"\n        color=\"primary\"\n        startIcon={<Print fontSize=\"inherit\" />}\n        onClick={handlePrint}\n      >\n        Print\n      </Button>\n      <InvoiceShow ref={componentRef} {...props} />\n    </>\n  );\n};\nconst InvoiceShowParent = (props) => {\n  return (\n    <Show {...props}>\n      <InvoicePrintWrapper {...props} />\n    </Show>\n  );\n};\nconst CustomDeleteWrapper = ({ record }) => {\n  return (\n    <CustomDelete\n      dispatchCrudDelete={false}\n      startUndoable={false}\n      resource={\"purchase_invoices\"}\n      record={record}\n      undoable={false}\n    />\n  );\n};\nconst InvoiceList = (props) => {\n  return (\n    <List\n      {...props}\n      bulkActionButtons={false}\n      filters={<OrderFilter />}\n      pagination={<CustomPagination />}\n      sort={{ field: \"id\", order: \"desc\" }}\n      hasCreate={false}\n    >\n      <Datagrid>\n        <TextField\n          source=\"id\"\n          label=\"Invoice#\"\n          style={{\n            fontWeight: \"bold\",\n          }}\n        />\n        <ReferenceField\n          source=\"party_id\"\n          reference=\"parties\"\n          label=\"Party\"\n          sortable={false}\n        >\n          <TextField source=\"business_name\" />\n        </ReferenceField>\n        <NumberField\n          sortable={false}\n          source=\"total_without_discount\"\n          label={`Amount(${app.currencySymbol})`}\n        />\n        <NumberField\n          sortable={false}\n          source=\"discount_amount\"\n          label={`Discount(${app.currencySymbol})`}\n        />\n        <NumberField\n          sortable={false}\n          source=\"total\"\n          label={`Total Amount(${app.currencySymbol})`}\n          style={{\n            fontWeight: \"bold\",\n            textAlign: \"right\",\n          }}\n        />\n        <TextField source=\"van\" sortable={false} />\n        <TextField source=\"created_at\" label=\"Date\" />\n        <TextField source=\"status\" sortable={false} />\n        <ShowButton />\n        <CustomDeleteWrapper />\n      </Datagrid>\n    </List>\n  );\n};\nconst getTotalCount = (data, typeIndex) => {\n  return data.cart\n    .filter((i) => i.type === app.boxTypes[typeIndex])\n    .reduce((a, b) => a + parseFloat(b[\"quantity\"]), 0);\n};\nconst Cart = ({ data, submitOrder, setData, add }) => {\n  const { permissions } = usePermissions();\n  if (data.cart.length === 0) return <p>There is no item in cart.</p>;\n  var t1 = getTotalCount(data, 0);\n  var t2 = getTotalCount(data, 1);\n  var t3 = getTotalCount(data, 2);\n  const updatePrice = (value, key, index) => {\n    var newData = { ...data };\n    newData.cart[index][key] = value;\n    const total = newData.cart.reduce(\n      (a, b) =>\n        parseFloat(a) + parseFloat(b[\"price\"]) * parseFloat(b[\"quantity\"]),\n      0\n    );\n    newData.total = parseFloat(total);\n    setData(newData);\n  };\n  return (\n    <Table size=\"small\">\n      <TableHead>\n        <TableRow>\n          <TableCell>Item</TableCell>\n          <TableCell align=\"right\">Type</TableCell>\n          <TableCell align=\"right\">Quantity</TableCell>\n          <TableCell align=\"center\" style={{ width: \"20%\" }}>\n            Cost Price({app.currencySymbol})\n          </TableCell>\n          <TableCell align=\"center\" style={{ width: \"20%\" }}>\n            Sell Price({app.currencySymbol})\n          </TableCell>\n          <TableCell align=\"right\">Total({app.currencySymbol})</TableCell>\n        </TableRow>\n      </TableHead>\n      <TableBody>\n        {data.cart.map((item, index) => {\n          return (\n            <TableRow key={index}>\n              <TableCell>\n                <Link to={`/items/${item.item_id}/show`} target=\"_blank\">\n                  {item.name}\n                </Link>\n              </TableCell>\n\n              <TableCell align=\"right\">{item.type}</TableCell>\n              <TableCell align=\"right\">{item.quantity}</TableCell>\n              <TableCell align=\"center\">\n                {permissions == app.superAdminRole ? (\n                  <MaterialTextField\n                    variant=\"outlined\"\n                    size=\"small\"\n                    type=\"number\"\n                    value={item.cost_price}\n                    inputProps={{ style: { textAlign: \"center\" } }}\n                    onChange={(event) => {\n                      updatePrice(event.target.value, \"cost_price\", index);\n                    }}\n                  />\n                ) : (\n                  item.cost_price\n                )}\n              </TableCell>\n              <TableCell align=\"right\">\n                <MaterialTextField\n                  variant=\"outlined\"\n                  size=\"small\"\n                  type=\"number\"\n                  value={item.price}\n                  inputProps={{ style: { textAlign: \"center\" } }}\n                  onChange={(event) => {\n                    updatePrice(event.target.value, \"price\", index);\n                  }}\n                />\n              </TableCell>\n              <TableCell align=\"right\">\n                <strong>\n                  {parseFloat(item.price * parseFloat(item.quantity)).toFixed(\n                    2\n                  )}\n                </strong>\n              </TableCell>\n            </TableRow>\n          );\n        })}\n        <TableRow>\n          <TableCell align=\"right\" colSpan={5}>\n            <strong>Total({app.currencySymbol})</strong>\n          </TableCell>\n          <TableCell align=\"right\">\n            <strong>{parseFloat(data.total).toFixed(2)}</strong>\n          </TableCell>\n        </TableRow>\n        <TableRow>\n          <TableCell align=\"right\" colSpan={6}>\n            <strong>Total : </strong> <strong>{t1}</strong> {app.boxTypes[0]},{\" \"}\n            <strong>{t2}</strong>, {app.boxTypes[1]}, <strong>{t3}</strong>{\" \"}\n            {app.boxTypes[2]}\n          </TableCell>\n        </TableRow>\n        <TableRow>\n          <TableCell align=\"right\" colSpan={7}>\n            <Button\n              startIcon={<SaveIcon />}\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={submitOrder}\n            >\n              {add ? \"Add\" : \"Update\"} Purchase Invoice\n            </Button>\n          </TableCell>\n        </TableRow>\n      </TableBody>\n    </Table>\n  );\n};\nconst useStyles = makeStyles({\n  root: {\n    marginTop: \"1em\",\n  },\n\n  headings: {\n    margin: \"10px 6px\",\n  },\n  form: {\n    width: \"100%\",\n  },\n\n  textInput: {\n    marginTop: 8,\n  },\n});\nconst PurchaseOrdersCreate = (props) => {\n  const classes = useStyles();\n  const notify = useNotify();\n  const refresh = useRefresh();\n  const redirect = useRedirect();\n  const [data, setData] = React.useState({\n    cart: [],\n    total: 0,\n  });\n  const [loading, setLoading] = React.useState(false);\n  const [discount, setDiscount] = React.useState(app.discounts[0]);\n  const [purchase_order, setPurchase_order] = React.useState([]);\n  React.useEffect(() => {\n    const loadData = async () => {\n      setLoading(true);\n      const browserUrl = window.location.href.split(\"/\");\n      const purchase_order_id = browserUrl[browserUrl.length - 1];\n      const url = `${app.api}revised_purchase_orders?purchase_order_id=${purchase_order_id}`;\n      await axios\n        .get(url)\n        .then((result) => {\n          const out = result.data[0];\n          if (out) setPurchase_order(out);\n          else setPurchase_order([]);\n          if (out) {\n            setData({\n              ...data,\n              cart: out.cart,\n              total: parseFloat(out.total),\n              purchase_order_id: out.id,\n            });\n          }\n        })\n        .catch(() => {\n          setPurchase_order([]);\n        });\n      setLoading(false);\n    };\n    loadData();\n  }, []);\n  const submitOrder = async () => {\n    var temp = { ...data };\n    temp.cart = temp.cart.map((item) => ({\n      ...item,\n      total: parseFloat(parseFloat(item.price) * parseFloat(item.quantity)),\n      price: parseFloat(item.price).toFixed(2),\n      cost_price: parseFloat(item.cost_price).toFixed(2),\n    }));\n    temp.total = temp.cart\n      .map((item) => parseFloat(item.total))\n      .reduce((partialSum, a) => partialSum + a, 0);\n    temp.van_id = purchase_order.van;\n    temp.party_id = purchase_order.party.id;\n    temp.bank = value;\n    temp.discount = discount.value;\n    temp.total = Math.round(temp.total * 100) / 100;\n    setLoading(true);\n    const url = app.api + \"purchase_invoices\";\n    await axios\n      .post(url, temp)\n      .then((result) => {\n        setLoading(false);\n        notify(`Purchase invoice added successfully.`);\n        redirect(\"/purchase_invoices\");\n        refresh();\n      })\n      .catch((error) => {\n        notify(error, \"error\");\n        setLoading(false);\n      });\n    setLoading(false);\n  };\n  const [value, setValue] = React.useState(\"No\");\n  const handleChange = (event) => {\n    setValue(event.target.value);\n  };\n  if (loading) return <Loading loadingPrimary=\"\" loadingSecondary=\"\" />;\n  else if (purchase_order.length == 0)\n    return (\n      <Card>\n        <CardContent>Sorry, Invalid purchase order.</CardContent>\n      </Card>\n    );\n  else\n    return (\n      <Card className={classes.root}>\n        <Title title=\"Add Purchase Invoice\" />\n        <CardContent>\n          <Table size=\"small\">\n            <TableBody>\n              <TableRow>\n                <TableCell>\n                  <strong>Party: </strong>\n                  {purchase_order.party.business_name}\n                </TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell>\n                  <strong>Van: </strong>\n                  {purchase_order.van}\n                </TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell>\n                  <strong>Date: </strong>\n                  {purchase_order.created_at}\n                </TableCell>\n              </TableRow>\n            </TableBody>\n          </Table>\n          <Grid container spacing={2}>\n            <Grid item xs={6}>\n              <FormControl className={classes.form} size=\"small\">\n                <FormLabel component=\"legend\" className={classes.headings}>\n                  Discount\n                </FormLabel>\n                <Select\n                  required\n                  value={discount.value}\n                  onChange={(event) => {\n                    setDiscount({\n                      value: event.target.value,\n                      label: event.target.value * 100 + \"%\",\n                    });\n                  }}\n                  displayEmpty\n                  fullWidth\n                  variant=\"outlined\"\n                  placeholder=\"Discount\"\n                >\n                  {app.discounts.map((discount, index) => (\n                    <MenuItem key={index} value={discount.value}>\n                      {discount.label}\n                    </MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid item xs={6}>\n              <FormControl className={classes.form} size=\"small\">\n                <FormLabel component=\"legend\" className={classes.headings}>\n                  Add Bank Information to Invioce\n                </FormLabel>\n                <RadioGroup value={value} onChange={handleChange} row>\n                  <FormControlLabel\n                    value=\"Yes\"\n                    control={<Radio />}\n                    label=\"Yes\"\n                  />\n                  <FormControlLabel value=\"No\" control={<Radio />} label=\"No\" />\n                </RadioGroup>\n              </FormControl>\n            </Grid>\n            <Grid item xs={12}>\n              <FormLabel component=\"legend\" className={classes.headings}>\n                Cart\n              </FormLabel>\n              <Cart\n                data={data}\n                submitOrder={submitOrder}\n                setData={setData}\n                add\n              />\n            </Grid>\n          </Grid>\n        </CardContent>\n      </Card>\n    );\n};\nconst Test = () => {\n  return <div>Test</div>;\n};\nexport default {\n  options: { label: \"Purchase Invoices\" },\n  create: PurchaseOrdersCreate,\n  list: InvoiceList,\n  name: \"purchase_invoices\",\n  icon: Receipt,\n  show: InvoiceShowParent,\n};\n","export default __webpack_public_path__ + \"static/media/logo.4c228112.png\";","import * as React from \"react\";\nimport { createElement } from \"react\";\nimport { Card, Box, Typography, Divider } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Link } from \"react-router-dom\";\n\nimport cartouche from \"./cartouche.png\";\n\nimport { app } from \"../contants\";\n\nconst useStyles = makeStyles((theme) => ({\n  card: {\n    minHeight: 52,\n    display: \"flex\",\n    flexDirection: \"column\",\n    flex: \"1\",\n    \"& a\": {\n      textDecoration: \"none\",\n      color: \"inherit\",\n    },\n  },\n  main: () => ({\n    overflow: \"inherit\",\n    padding: 16,\n    background: `url(${cartouche}) no-repeat`,\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    \"& .icon\": {\n      color: app.colorOne,\n    },\n  }),\n  title: {},\n}));\n\nconst CardWithIcon = (props) => {\n  const { icon, title, subtitle, to, children, color } = props;\n  const classes = useStyles(props);\n  return (\n    <Card className={classes.card}>\n      <Link to={to}>\n        <div className={classes.main}>\n          <Box width=\"3em\" className=\"icon\">\n            {createElement(icon, { fontSize: \"large\" })}\n          </Box>\n          <Box textAlign=\"right\">\n            <Typography className={classes.title} color=\"textSecondary\">\n              {title}\n            </Typography>\n            <Typography\n              variant=\"h5\"\n              component=\"h2\"\n              style={{\n                color: color ? color : \"#000\",\n              }}\n            >\n              {subtitle || \"\"}\n            </Typography>\n          </Box>\n        </div>\n      </Link>\n      {children && <Divider />}\n      {children}\n    </Card>\n  );\n};\n\nexport default CardWithIcon;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABZCAYAAADII9YOAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFF2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNi4wLWMwMDYgNzkuZGFiYWNiYiwgMjAyMS8wNC8xNC0wMDozOTo0NCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIyLjQgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMS0wNy0xNFQyMzozODoyNiswNTowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjEtMDctMTVUMDA6MDI6MDQrMDU6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjEtMDctMTVUMDA6MDI6MDQrMDU6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiBwaG90b3Nob3A6SUNDUHJvZmlsZT0ic1JHQiBJRUM2MTk2Ni0yLjEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6ZjM5OGFlZGItZmUyNS05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\"","import * as React from \"react\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport Icon from \"@material-ui/core/Icon\";\nimport logo from \"./logo.png\";\nimport {\n  List,\n  Datagrid,\n  TextField,\n  ReferenceField,\n  DateField,\n  Filter,\n  DateInput,\n  SelectInput,\n  useNotify,\n  useRefresh,\n  useRedirect,\n  NumberField,\n  Create,\n  SimpleForm,\n  required,\n  RadioButtonGroupInput,\n  ReferenceInput,\n  NumberInput,\n  Edit,\n  Toolbar,\n  SaveButton,\n  AutocompleteInput,\n  Show,\n  SimpleShowLayout,\n  ShowButton,\n  EditButton,\n  TopToolbar,\n  CreateButton,\n  ExportButton,\n  Link,\n} from \"react-admin\";\nimport { cloneElement } from \"react\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CardWithIcon from \"./CardWithIcon\";\nimport ReactToPrint from \"react-to-print\";\nimport { app } from \"../contants\";\nimport Card from \"@material-ui/core/Card\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Grid from \"@material-ui/core/Grid\";\nimport AttachMoneyIcon from \"@material-ui/icons/AttachMoney\";\nimport Button from \"@material-ui/core/Button\";\nimport Print from \"@material-ui/icons/Print\";\nimport axios from \"axios\";\nimport CustomPagination from \"../components/PaginationCustom\";\nimport CustomDelete from \"../components/CustomDelete\";\nimport {\n  IconButton,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n} from \"@material-ui/core\";\nimport { stringify } from \"query-string\";\nconst TransactionFilter = (props) => (\n  <Filter {...props}>\n    <SelectInput\n      alwaysOn\n      choices={app.payments.map((item) => ({ id: item, name: item }))}\n      source=\"paid\"\n      label=\"Amount Status\"\n      variant=\"outlined\"\n    />\n    <ReferenceInput\n      source=\"party_id\"\n      reference=\"parties\"\n      alwaysOn\n      variant=\"outlined\"\n      perPage={10000000}\n      filterToQuery={(searchText) => ({ business_name: searchText })}\n    >\n      <AutocompleteInput optionText=\"business_name\" />\n    </ReferenceInput>\n    <NumberInput\n      source=\"purchase_invoice_id\"\n      variant=\"outlined\"\n      fullWidth\n      label={`Purchase Invoice#`}\n      alwaysOn\n    />\n    <SelectInput\n      choices={app.weeks.map((item) => ({ id: item.value, name: item.label }))}\n      source=\"weeks\"\n      label=\"Week\"\n      variant=\"outlined\"\n    />\n    <SelectInput\n      choices={app.filterAmounts.map((item) => ({\n        id: item.value,\n        name: item.label,\n      }))}\n      source=\"amount\"\n      label=\"Amount\"\n      variant=\"outlined\"\n    />\n    <DateInput source=\"date\" label=\"Date\" variant=\"outlined\" />\n  </Filter>\n);\nconst Total = (props) => {\n  const { data } = props;\n  const styles = {\n    flex: { display: \"flex\" },\n    leftCol: { flex: 1 },\n  };\n  const [revenue, setRevenue] = React.useState(0);\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const loadRevenue = async () => {\n    try {\n      // if (props.filterValues.party_id) {\n      //   let tempData = Object.keys(data).map((item) => data[item]);\n      //   console.log(tempData);\n      //   let sum = 0;\n      //   tempData.forEach((tran) => {\n      //     if (tran.paid == \"Unpaid\") sum += parseFloat(tran.amount);\n      //   });\n      //   setRevenue(sum.toFixed(2));\n      // } else {\n      await axios\n        .get(app.api + \"transactions?totalUnpaid=1\")\n        .then((result) => setRevenue(result.data.toFixed(2)));\n      // }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  React.useEffect(loadRevenue, [data]);\n  return (\n    <div style={styles.flex}>\n      <div style={styles.leftCol}>\n        <div style={styles.flex}>\n          <CardWithIcon\n            to=\"/orders\"\n            icon={() => (\n              <h1\n                style={{\n                  padding: 0,\n                  margin: 0,\n                  marginTop: -10,\n                }}\n              >\n                {app.currencySymbol}\n              </h1>\n            )}\n            title={`Total Unpaid Amount(${app.currencySymbol})`}\n            subtitle={revenue.toString()}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\nconst CustomDeleteWrapper = ({ record }) => {\n  return (\n    <CustomDelete\n      dispatchCrudDelete={false}\n      startUndoable={false}\n      resource={\"transactions\"}\n      record={record}\n      undoable={false}\n    />\n  );\n};\nconst ShowPartyTransactions = (props) => {\n  const [transactions, setTransactions] = React.useState([]);\n  const getTransactions = async () => {\n    var params = {\n      filter: JSON.stringify(props.filterValues),\n    };\n    params = `party_transactions_id=${props.record.id}&${stringify(params)}`;\n    const url = app.api + \"transactions?\" + params;\n    await axios.get(url).then(({ data }) => setTransactions(data));\n  };\n  React.useEffect(getTransactions, []);\n  var totalSum = 0;\n  if (transactions.length == 0)\n    return (\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n        }}\n      >\n        <CircularProgress />\n      </div>\n    );\n  else\n    return (\n      <>\n        <Table\n          size=\"small\"\n          style={{\n            // backgroundColor: \"#f2f2f2\",\n            borderRadius: \"5px\",\n            overflow: \"hidden\",\n          }}\n        >\n          <TableHead>\n            <TableRow>\n              <Logo />\n            </TableRow>\n          </TableHead>\n          <TableHead>\n            <TableRow>\n              <TableCell>Party Name</TableCell>\n              <TableCell>Date</TableCell>\n              <TableCell>Amount Status</TableCell>\n              <TableCell align=\"right\">C.Purchase Invoice#</TableCell>\n              <TableCell align=\"right\">Purchase Invoice#</TableCell>\n              <TableCell align=\"right\">Amount({app.currencySymbol})</TableCell>\n              {!props.allowPrint && (\n                <TableCell align=\"center\">Action</TableCell>\n              )}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {transactions.map((transaction, index) => {\n              totalSum += parseFloat(transaction.amount.replace(/,/g, \"\"));\n              return (\n                <TableRow key={index}>\n                  <TableCell>{transaction.party_name}</TableCell>\n                  <TableCell>{transaction.date}</TableCell>\n                  <TableCell>{transaction.paid}</TableCell>\n                  <TableCell align=\"right\">\n                    {transaction.custom_purchase_invoice_id ? (\n                      <Link\n                        to={`/purchase_invoices/${transaction.custom_purchase_invoice_id}/show`}\n                        target=\"_blank\"\n                      >\n                        {transaction.custom_purchase_invoice_id}\n                      </Link>\n                    ) : (\n                      \"--\"\n                    )}\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    {transaction.purchase_invoice_id || \"--\"}\n                  </TableCell>\n                  <TableCell align=\"right\">\n                    <strong>{transaction.amount}</strong>\n                  </TableCell>\n                  <TableCell>\n                    <div\n                      style={{\n                        display: \"flex\",\n                        justifyContent: \"center\",\n                      }}\n                    >\n                      {!props.allowPrint && (\n                        <EditButton\n                          record={transaction}\n                          basePath=\"transactions\"\n                        />\n                      )}\n                      {!props.allowPrint && (\n                        <CustomDeleteWrapper record={transaction} />\n                      )}\n                    </div>\n                  </TableCell>\n                </TableRow>\n              );\n            })}\n            <TableRow>\n              <TableCell align=\"right\" colSpan={5}>\n                <strong>Total</strong>\n              </TableCell>\n              <TableCell align=\"right\">\n                <strong\n                  style={{\n                    marginRight: 7,\n                  }}\n                >\n                  {totalSum.toFixed(2).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}\n                </strong>\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </>\n    );\n};\nclass TransactionCenter extends React.Component {\n  render() {\n    return <ShowPartyTransactions {...this.props} />;\n  }\n}\n// class PartyTransactions extends React.PureComponent {\n//   render() {\n//     return (\n//       <div>\n//         <ReactToPrint\n//           onAfterPrint={() => this.props.setPrint(false)}\n//           trigger={() => {\n//             return (\n//               <div\n//                 style={{\n//                   display: \"flex\",\n//                   justifyContent: \"flex-end\",\n//                   marginTop: 10,\n//                   marginBottom: 10,\n//                 }}\n//               >\n//                 <Button\n//                   variant=\"contained\"\n//                   color=\"primary\"\n//                   startIcon={<Print fontSize=\"inherit\" />}\n//                 >\n//                   Print\n//                 </Button>\n//                 <br />\n//               </div>\n//             );\n//           }}\n//           content={() => this.componentRef}\n//           onBeforeGetContent={async () => {\n//             this.props.setPrint(true);\n//             await app.sleep(1);\n//           }}\n//           pageStyle={\"padding:20px\"}\n//         />\n\n//         <TransactionList\n//           ref={(el) => (this.componentRef = el)}\n//           {...this.props}\n//           print={this.props.print}\n//           setPrint={this.props.setPrint}\n//         />\n//       </div>\n//     );\n//   }\n// }\nconst TransactionPrintWrapper = (props) => {\n  var tableRef;\n  const [allowPrint, setAllowPrint] = React.useState(false);\n  return (\n    <>\n      <div\n        style={{\n          marginRight: 10,\n        }}\n      >\n        <ReactToPrint\n          onAfterPrint={() => setAllowPrint(false)}\n          onBeforeGetContent={async () => {\n            setAllowPrint(true);\n            await app.sleep(1);\n          }}\n          trigger={() => {\n            return (\n              <div\n                style={{\n                  marginTop: 10,\n                  marginBottom: 10,\n                  float: \"right\",\n                }}\n              >\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<Print fontSize=\"inherit\" />}\n                >\n                  Print\n                </Button>\n              </div>\n            );\n          }}\n          pageStyle={\"padding:20px\"}\n          content={() => tableRef}\n        />\n        <TransactionCenter\n          ref={(el) => (tableRef = el)}\n          allowPrint={allowPrint}\n          {...props}\n        />\n      </div>\n    </>\n  );\n};\nconst ListResult = (props) => {\n  return (\n    <>\n      {props.print && <Logo />}\n      <Total {...props} />\n      <Datagrid\n        rowClick=\"expand\"\n        expand={<TransactionPrintWrapper {...props} />}\n      >\n        <TextField\n          source=\"party_name\"\n          label={`Party`}\n          style={{\n            fontWeight: \"bold\",\n          }}\n        />\n        <NumberField\n          source=\"amount\"\n          label={`Total Amount(${app.currencySymbol})`}\n          style={{ fontWeight: \"bold\" }}\n        />\n      </Datagrid>\n    </>\n  );\n};\nconst ListActions = (props) => (\n  <TopToolbar>\n    {cloneElement(props.filters, { context: \"button\" })}\n    <CreateButton />\n    <ExportButton />\n  </TopToolbar>\n);\nclass TransactionList extends React.PureComponent {\n  render() {\n    return (\n      <List\n        filters={this.props.print ? null : <TransactionFilter />}\n        pagination={this.props.print ? null : <CustomPagination />}\n        actions={this.props.print ? null : <ListActions />}\n        {...this.props}\n        bulkActionButtons={false}\n        sort={{ field: \"date\", order: \"desc\" }}\n      >\n        <ListResult {...this.props} print={this.props.print} />\n      </List>\n    );\n  }\n}\n\nconst UserEditToolbar = (props) => (\n  <Toolbar {...props}>\n    <SaveButton {...props} label=\"Update Transaction\" />\n  </Toolbar>\n);\nconst TransactionUpdate = (props) => {\n  const notify = useNotify();\n  const refresh = useRefresh();\n  const redirect = useRedirect();\n\n  return (\n    <Edit\n      {...props}\n      onSuccess={(data) => {\n        redirect(\"/transactions\");\n        refresh();\n      }}\n      onFailure={(data) => {\n        notify(data.body, \"error\");\n        refresh();\n      }}\n      undoable={false}\n    >\n      <SimpleForm toolbar={<UserEditToolbar />}>\n        <NumberInput\n          source=\"f_amount\"\n          variant=\"outlined\"\n          fullWidth\n          validate={[required()]}\n          label={`Amount(${app.currencySymbol})`}\n        />\n        <NumberInput\n          source=\"custom_purchase_invoice_id\"\n          variant=\"outlined\"\n          fullWidth\n          label={`Custom Purchase Invoice#`}\n        />\n        <RadioButtonGroupInput\n          source=\"paid\"\n          label=\"Amount Paid\"\n          choices={[\n            { id: \"Paid\", name: \"Paid\" },\n            { id: \"Unpaid\", name: \"Unpaid\" },\n          ]}\n        />\n      </SimpleForm>\n    </Edit>\n  );\n};\n\nconst TransactionCreate = (props) => {\n  const notify = useNotify();\n  const refresh = useRefresh();\n  const redirect = useRedirect();\n  const onSuccess = () => {\n    notify(`Item added successfully.`);\n    redirect(\"/transactions\");\n    refresh();\n  };\n  return (\n    <Create\n      {...props}\n      onSuccess={onSuccess}\n      onFailure={(data) => {\n        notify(data.body, \"error\");\n      }}\n    >\n      <SimpleForm>\n        <ReferenceInput\n          source=\"party_id\"\n          reference=\"parties\"\n          fullWidth\n          validate={[required()]}\n          variant=\"outlined\"\n          perPage={10000000}\n          filterToQuery={(searchText) => ({ business_name: searchText })}\n        >\n          <AutocompleteInput optionText=\"business_name\" />\n        </ReferenceInput>\n        <NumberInput\n          source=\"amount\"\n          variant=\"outlined\"\n          fullWidth\n          validate={[required()]}\n          label={`Amount(${app.currencySymbol})`}\n        />\n        <NumberInput\n          source=\"custom_purchase_invoice_id\"\n          variant=\"outlined\"\n          fullWidth\n          label={`Custom Purchase Invoice#`}\n        />\n        <DateInput\n          source=\"date\"\n          variant=\"outlined\"\n          fullWidth\n          validate={[required()]}\n        />\n        <RadioButtonGroupInput\n          source=\"paid\"\n          label=\"Amount Paid\"\n          choices={[\n            { id: \"paid\", name: \"Paid\" },\n            { id: \"unpaid\", name: \"Unpaid\" },\n          ]}\n        />\n      </SimpleForm>\n    </Create>\n  );\n};\nconst Logo = () => {\n  const classes = {\n    root: { margin: \"auto\", border: \"none\" },\n    spacer: { height: 20 },\n    invoices: { margin: \"10px 0\" },\n    margin0: { margin: 0 },\n    margin1: { margin: 0, marginTop: 5 },\n  };\n  return (\n    <Card style={classes.root} variant=\"outlined\">\n      <CardContent>\n        <div\n          style={{\n            display: \"flex\",\n            justifyContent: \"space-between\",\n          }}\n        >\n          <div>\n            <img\n              src={logo}\n              style={{\n                width: 100,\n              }}\n            />\n            <h4 style={classes.margin0}>Everyday Fresh Food Ltd.</h4>\n            <p style={classes.margin0}>Unit 25 Chalwyn Industrial Estate</p>\n            <p style={classes.margin0}>Parkstone, Poole</p>\n            <p style={classes.margin0}>BH12 4PE</p>\n          </div>\n        </div>\n      </CardContent>\n    </Card>\n  );\n};\nclass TransactionShow extends React.PureComponent {\n  constructor() {\n    super();\n  }\n  render() {\n    return (\n      <div>\n        <Logo />\n        <Show {...this.props} actions={false}>\n          <SimpleShowLayout>\n            <ReferenceField source=\"party_id\" reference=\"parties\">\n              <TextField source=\"business_name\" />\n            </ReferenceField>\n            <TextField\n              source=\"amount\"\n              label={`Amount(${app.currencySymbol})`}\n            />\n            <TextField source=\"paid\" />\n            <DateField source=\"date\" />\n          </SimpleShowLayout>\n        </Show>\n      </div>\n    );\n  }\n}\n\nexport class PartySingleTransaction extends React.PureComponent {\n  render() {\n    return (\n      <div>\n        <ReactToPrint\n          trigger={() => {\n            return (\n              <div\n                style={{\n                  float: \"right\",\n                }}\n              >\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<Print fontSize=\"inherit\" />}\n                >\n                  Print\n                </Button>\n              </div>\n            );\n          }}\n          content={() => this.componentRef}\n        />\n        <TransactionShow\n          ref={(el) => (this.componentRef = el)}\n          {...this.props}\n        />\n      </div>\n    );\n  }\n}\n\nclass PartyTransactions extends React.PureComponent {\n  render() {\n    return (\n      <div>\n        <ReactToPrint\n          onAfterPrint={() => this.props.setPrint(false)}\n          trigger={() => {\n            return (\n              <div\n                style={{\n                  marginTop: 10,\n                  marginBottom: 10,\n                  float: \"right\",\n                }}\n              >\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  startIcon={<Print fontSize=\"inherit\" />}\n                >\n                  Print\n                </Button>\n                <br />\n              </div>\n            );\n          }}\n          content={() => this.componentRef}\n          onBeforeGetContent={async () => {\n            this.props.setPrint(true);\n            await app.sleep(1);\n          }}\n          pageStyle={\"padding:20px\"}\n        />\n\n        <TransactionList\n          ref={(el) => (this.componentRef = el)}\n          {...this.props}\n          print={this.props.print}\n          setPrint={this.props.setPrint}\n        />\n      </div>\n    );\n  }\n}\nconst PartyTransactionsWrapper = (props) => {\n  const [print, setPrint] = React.useState(false);\n  return <PartyTransactions {...props} print={print} setPrint={setPrint} />;\n};\nexport default {\n  list: PartyTransactionsWrapper,\n  name: \"transactions\",\n  icon: AttachMoneyIcon,\n  create: TransactionCreate,\n  options: { label: \"Party Transactions\" },\n  edit: TransactionUpdate,\n  show: PartySingleTransaction,\n};\n","import * as React from \"react\";\nimport { useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { MenuItemLink, usePermissions } from \"react-admin\";\nimport SubMenu from \"./SubMenu\";\n\nimport parties from \"../parties\";\nimport items from \"../items\";\nimport categories from \"../categories\";\nimport expenses from \"../expenses\";\nimport expense_types from \"../expense_types\";\nimport expense_views from \"../expense_views\";\nimport inventories from \"../inventories\";\nimport orders from \"../orders\";\nimport manual_orders from \"../manual_orders\";\nimport purchase_orders from \"../purchase_orders\";\nimport purchase_order_costing from \"../purchase_order_costing\";\nimport purchase_items from \"../purchase_items\";\nimport order_reports from \"../order_reports\";\nimport purchase_order_reports from \"../purchase_order_reports\";\nimport van_reports from \"../van_reports\";\nimport daily_invoice_reports from \"../daily_invoice_reports\";\nimport invoices from \"../invoices\";\nimport purchase_invoices from \"../purchase_invoices\";\nimport transactions from \"../transactions\";\n\nimport { DashboardSharp } from \"@material-ui/icons\";\nimport ReceiptIcon from \"@material-ui/icons/Receipt\";\nimport DonutSmallIcon from \"@material-ui/icons/DonutSmall\";\nimport { app } from \"../contants\";\nconst Menu = ({ dense = true }) => {\n  const { permissions } = usePermissions();\n  const [state, setState] = useState({\n    orders: false,\n    products: true,\n    reportings: false,\n    payments: false,\n    invoices: false,\n    extras: false,\n  });\n  const classes = useStyles();\n\n  const handleToggle = (menu) => {\n    setState((state) => ({ ...state, [menu]: !state[menu] }));\n  };\n  return (\n    <div className={classes.root}>\n      <MenuItemLink\n        to={`/`}\n        primaryText={\"Dashboard\"}\n        leftIcon={<DashboardSharp />}\n        dense={dense}\n      />\n      {permissions === app.superAdminRole && (\n        <MenuItemLink\n          to={`/parties`}\n          primaryText={\"Parties\"}\n          leftIcon={<parties.icon />}\n          dense={dense}\n        />\n      )}\n      <SubMenu\n        handleToggle={() => handleToggle(\"products\")}\n        isOpen={state.products}\n        name=\"Stocks\"\n        icon={<items.icon />}\n        dense={dense}\n      >\n        <MenuItemLink\n          to={`/categories`}\n          primaryText={\"Categories\"}\n          leftIcon={<categories.icon />}\n          dense={dense}\n        />\n        <MenuItemLink\n          to={`/items`}\n          primaryText={\"Items\"}\n          leftIcon={<items.icon />}\n          dense={dense}\n        />\n        <MenuItemLink\n          to={`/inventories`}\n          primaryText={\"Inventories\"}\n          leftIcon={<inventories.icon />}\n          dense={dense}\n        />\n      </SubMenu>\n      <SubMenu\n        handleToggle={() => handleToggle(\"orders\")}\n        isOpen={state.orders}\n        name=\"Orders\"\n        icon={<orders.icon />}\n        dense={dense}\n      >\n        <MenuItemLink\n          to={`/orders`}\n          primaryText={\"App Orders\"}\n          leftIcon={<orders.icon />}\n          dense={dense}\n        />\n        <MenuItemLink\n          to={`/manual_orders`}\n          primaryText={\"Manual Orders\"}\n          leftIcon={<manual_orders.icon />}\n          dense={dense}\n        />\n        <MenuItemLink\n          to={`/purchase_orders`}\n          primaryText={\"Purchase Orders\"}\n          leftIcon={<purchase_orders.icon />}\n          dense={dense}\n        />\n        {permissions === app.superAdminRole && (\n          <MenuItemLink\n            to={`/purchase_order_costing`}\n            primaryText={\"Purchase Orders Costing\"}\n            leftIcon={<purchase_order_costing.icon />}\n            dense={dense}\n          />\n        )}\n        <MenuItemLink\n          to={`/purchase_items`}\n          primaryText={\"Purchase Items\"}\n          leftIcon={<purchase_items.icon />}\n          dense={dense}\n        />\n      </SubMenu>\n      <SubMenu\n        handleToggle={() => handleToggle(\"reportings\")}\n        isOpen={state.reportings}\n        name=\"Reportings\"\n        icon={<order_reports.icon />}\n        dense={dense}\n      >\n        {permissions === app.superAdminRole && (\n          <MenuItemLink\n            to={`/purchase_order_reports`}\n            primaryText={\"Profit/Loss Reports\"}\n            leftIcon={<purchase_order_reports.icon />}\n            dense={dense}\n          />\n        )}\n        <MenuItemLink\n          to={`daily_invoice_reports`}\n          primaryText={\"Daily Invoice Reportings\"}\n          leftIcon={<daily_invoice_reports.icon />}\n          dense={dense}\n        />\n        {permissions === app.superAdminRole && (\n          <MenuItemLink\n            to={`/order_reports`}\n            primaryText={\"Order Reportings\"}\n            leftIcon={<order_reports.icon />}\n            dense={dense}\n          />\n        )}\n        <MenuItemLink\n          to={`/van_reports`}\n          primaryText={\"Van Reportings\"}\n          leftIcon={<van_reports.icon />}\n          dense={dense}\n        />\n      </SubMenu>\n      <SubMenu\n        handleToggle={() => handleToggle(\"invoices\")}\n        isOpen={state.invoices}\n        name=\"Invoices\"\n        icon={<ReceiptIcon />}\n        dense={dense}\n      >\n        <MenuItemLink\n          to={`/purchase_invoices`}\n          primaryText={\"Purchase Invoices\"}\n          leftIcon={<purchase_invoices.icon />}\n          dense={dense}\n        />\n        <MenuItemLink\n          to={`/invoices`}\n          primaryText={\"Order Invoices\"}\n          leftIcon={<invoices.icon />}\n          dense={dense}\n        />\n      </SubMenu>\n      {permissions === app.superAdminRole && (\n        <SubMenu\n          handleToggle={() => handleToggle(\"payments\")}\n          isOpen={state.payments}\n          name=\"Payments\"\n          icon={<transactions.icon />}\n          dense={dense}\n        >\n          <MenuItemLink\n            to={`/transactions`}\n            primaryText={\"Party Transactions\"}\n            leftIcon={<transactions.icon />}\n            dense={dense}\n          />\n        </SubMenu>\n      )}\n      <SubMenu\n        handleToggle={() => handleToggle(\"extras\")}\n        isOpen={state.extras}\n        name=\"Expenses\"\n        icon={<DonutSmallIcon />}\n        dense={dense}\n      >\n        <MenuItemLink\n          to={`/${expense_types.name}`}\n          primaryText={\"Expense Types\"}\n          leftIcon={<expense_types.icon />}\n          dense={dense}\n        />\n        <MenuItemLink\n          to={`/${expenses.name}`}\n          primaryText={\"Expenses\"}\n          leftIcon={<expenses.icon />}\n          dense={dense}\n        />\n        <MenuItemLink\n          to={`/${expense_views.name}`}\n          primaryText={\"View Expenses\"}\n          leftIcon={<expense_views.icon />}\n          dense={dense}\n        />\n      </SubMenu>\n    </div>\n  );\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    marginTop: theme.spacing(1),\n  },\n}));\n\nexport default Menu;\n","import * as React from \"react\";\nimport { Layout, Sidebar } from \"react-admin\";\nimport { app } from \"../contants\";\nimport AppBar from \"./AppBar\";\nimport Menu from \"./Menu\";\n\nconst CustomSidebar = (props) => <Sidebar {...props} />;\nexport default (props) => {\n  const theme = {\n    palette: {\n      primary: {\n        main: app.colorOne,\n      },\n      secondary: {\n        main: app.colorOne,\n        light: app.colorTwo,\n        dark: \"#001064\",\n        contrastText: \"#fff\",\n      },\n      background: {\n        default: \"#fcfcfe\",\n      },\n      type: \"light\",\n    },\n    shape: {\n      borderRadius: 8,\n    },\n    overrides: {\n      RaMenuItemLink: {\n        root: {\n          // borderLeft: \"5px solid #fff\",\n        },\n        active: {\n          // borderLeft: `5px solid ${app.colorOne}`,\n        },\n      },\n      MuiPaper: {\n        elevation1: {\n          boxShadow: \"none\",\n        },\n        root: {\n          border: \"1px solid #e0e0e3\",\n          backgroundClip: \"padding-box\",\n        },\n      },\n      MuiButton: {\n        contained: {\n          backgroundColor: \"#fff\",\n          color: app.colorOne,\n          boxShadow: \"none\",\n        },\n      },\n      MuiButtonBase: {\n        root: {\n          \"&:hover:active::after\": {\n            content: '\"\"',\n            display: \"block\",\n            width: \"100%\",\n            height: \"100%\",\n            position: \"absolute\",\n            top: 0,\n            right: 0,\n            backgroundColor: \"currentColor\",\n            opacity: 0.3,\n            borderRadius: \"inherit\",\n          },\n        },\n      },\n      MuiAppBar: {\n        colorSecondary: {\n          color: \"#808080\",\n          backgroundColor: \"#fff\",\n        },\n      },\n      MuiLinearProgress: {\n        colorPrimary: {\n          backgroundColor: \"#f5f5f5\",\n        },\n        barColorPrimary: {\n          backgroundColor: \"#d7d7d7\",\n        },\n      },\n      MuiDrawer: {\n        root: {\n          backgroundColor: \"rgba(0, 0, 0, 0.04)\",\n          marginRight: 10,\n          borderBottom: `10px solid ${app.colorOne}`,\n          paddingRight: 10,\n        },\n      },\n      MuiFilledInput: {\n        root: {\n          backgroundColor: \"rgba(0, 0, 0, 0.04)\",\n          \"&$disabled\": {\n            backgroundColor: \"rgba(0, 0, 0, 0.04)\",\n          },\n        },\n      },\n      MuiSnackbarContent: {\n        root: {\n          border: \"none\",\n        },\n      },\n    },\n    props: {\n      MuiButtonBase: {\n        //disableRipple: true,\n      },\n    },\n  };\n\n  return (\n    <Layout\n      {...props}\n      appBar={AppBar}\n      sidebar={CustomSidebar}\n      theme={theme}\n      menu={Menu}\n    />\n  );\n};\n","import * as React from \"react\";\n\nimport CardWithIcon from \"./CardWithIcon\";\nimport { app } from \"../contants\";\n\nconst MonthlyRevenue = ({ value }) => {\n  return (\n    <CardWithIcon\n      to=\"/orders\"\n      icon={() => (\n        <h1\n          style={{\n            padding: 0,\n            margin: 0,\n            marginTop: -10,\n          }}\n        >\n          {app.currencySymbol}\n        </h1>\n      )}\n      title={\"Monthly Revenue\"}\n      subtitle={value}\n    />\n  );\n};\n\nexport default MonthlyRevenue;\n","import * as React from \"react\";\n\nimport ShoppingCartIcon from \"@material-ui/icons/ShoppingCart\";\n\nimport CardWithIcon from \"./CardWithIcon\";\nimport { stringify } from \"query-string\";\nconst NewOrders = ({ value }) => {\n  const filter = { filter: JSON.stringify({ status: \"Progress\" }) };\n  return (\n    <CardWithIcon\n      to={`/orders?${stringify(filter)}`}\n      icon={ShoppingCartIcon}\n      title={\"New Orders\"}\n      subtitle={value}\n    />\n  );\n};\n\nexport default NewOrders;\n","import * as React from \"react\";\nimport {\n  Avatar,\n  Box,\n  Button,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport CustomerIcon from \"@material-ui/icons/PersonAdd\";\nimport { Link } from \"react-router-dom\";\nimport { useTranslate, useQueryWithStore } from \"react-admin\";\nimport { subDays } from \"date-fns\";\n\nimport CardWithIcon from \"./CardWithIcon\";\n\nconst NewCustomers = () => {\n  const translate = useTranslate();\n  const classes = useStyles();\n\n  const aMonthAgo = subDays(new Date(), 30);\n  aMonthAgo.setDate(aMonthAgo.getDate() - 30);\n  aMonthAgo.setHours(0);\n  aMonthAgo.setMinutes(0);\n  aMonthAgo.setSeconds(0);\n  aMonthAgo.setMilliseconds(0);\n\n  const { loaded, data: visitors } = useQueryWithStore({\n    type: \"getList\",\n    resource: \"parties\",\n    payload: {\n      filter: {\n        has_ordered: true,\n        first_seen_gte: aMonthAgo.toISOString(),\n      },\n      sort: { field: \"id\", order: \"DESC\" },\n      pagination: { page: 1, perPage: 10 },\n    },\n  });\n\n  // if (!loaded) return null;\n\n  const nb = visitors ? visitors.reduce((nb) => ++nb, 0) : 0;\n  return (\n    <CardWithIcon\n      to=\"/parties\"\n      icon={CustomerIcon}\n      title={translate(\"Parties\")}\n      subtitle={nb}\n    >\n      <List>\n        {visitors\n          ? visitors.map((record) => (\n              <ListItem\n                button\n                to={`/parties/${record.id}`}\n                component={Link}\n                key={record.id}\n              >\n                <ListItemAvatar>\n                  <Avatar src={`${record.avatar}`} />\n                </ListItemAvatar>\n                <ListItemText primary={`${record.business_name}`} />\n              </ListItem>\n            ))\n          : null}\n      </List>\n      <Box flexGrow=\"1\">&nbsp;</Box>\n      <Button\n        className={classes.link}\n        component={Link}\n        to=\"/parties\"\n        size=\"small\"\n        color=\"primary\"\n      >\n        <Box p={1} className={classes.linkContent}>\n          {translate(\"see all parties\")}\n        </Box>\n      </Button>\n    </CardWithIcon>\n  );\n};\n\nconst useStyles = makeStyles((theme) => ({\n  link: {\n    borderRadius: 0,\n  },\n  linkContent: {\n    color: theme.palette.primary.main,\n  },\n}));\n\nexport default NewCustomers;\n","import * as React from \"react\";\nimport { FC } from \"react\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Link } from \"react-router-dom\";\nimport { app } from \"../contants\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flex: 1,\n  },\n  cost: {\n    marginRight: \"1em\",\n    color: theme.palette.text.primary,\n  },\n}));\n\nconst PendingOrders = ({ orders = [], customers = {} }) => {\n  const classes = useStyles();\n  return (\n    <Card className={classes.root}>\n      <CardHeader title={\"New Orders\"} />\n\n      <List>\n        {orders.length == 0 ? (\n          <ListItem>\n            <ListItemText primary=\"No new orders found.\" />\n          </ListItem>\n        ) : null}\n        {orders.map((record) => {\n          var secondaryText;\n          if (customers[record.customer_id])\n            secondaryText =\n              record.cart.length == 1\n                ? `by ${`${customers[record.party_id].name} - ${\n                    customers[record.party_id].business_name\n                  }`} , one item`\n                : `by ${`${customers[record.party_id].name} - ${\n                    customers[record.party_id].business_name\n                  }`} , ${record.cart.length} items`;\n          return (\n            <ListItem\n              key={record.id}\n              button\n              component={Link}\n              to={`/orders/${record.id}`}\n            >\n              <ListItemAvatar>\n                {customers[record.party_id] ? (\n                  <Avatar src={`${customers[record.party_id].avatar}`} />\n                ) : (\n                  <Avatar />\n                )}\n              </ListItemAvatar>\n              <ListItemText\n                primary={record.created_at}\n                secondary={\n                  customers[record.party_id]\n                    ? record.cart.length == 1\n                      ? `by ${`${customers[record.party_id].name} - ${\n                          customers[record.party_id].business_name\n                        }`} , one item`\n                      : `by ${`${customers[record.party_id].name} - ${\n                          customers[record.party_id].business_name\n                        }`} , ${record.cart.length} items`\n                    : \"\"\n                }\n              />\n              <ListItemSecondaryAction>\n                <span className={classes.cost}>\n                  {app.currencySymbol} {record.total}\n                </span>\n              </ListItemSecondaryAction>\n            </ListItem>\n          );\n        })}\n      </List>\n    </Card>\n  );\n};\n\nexport default PendingOrders;\n","import * as React from \"react\";\nimport { FC } from \"react\";\nimport { Card, CardHeader, CardContent } from \"@material-ui/core\";\nimport {\n  ResponsiveContainer,\n  AreaChart,\n  Area,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n} from \"recharts\";\nimport { useTranslate } from \"react-admin\";\nimport { format, subDays, addDays } from \"date-fns\";\nimport { app } from \"../contants\";\nimport moment from \"moment\";\nconst lastDay = new Date();\nconst lastMonthDays = Array.from({ length: 30 }, (_, i) => subDays(lastDay, i));\nconst aMonthAgo = subDays(new Date(), 30);\n\nconst dateFormatter = (date) => new Date(date).toLocaleDateString();\n\nconst aggregateOrdersByDay = (orders) =>\n  orders\n    .filter((order) => order.status == \"Completed\")\n    .reduce((acc, curr) => {\n      const day = moment(curr.created_at).format(\"YYYY-MM-DD\");\n      if (!acc[day]) {\n        acc[day] = 0;\n      }\n      acc[day] += parseFloat(curr.total);\n      return acc;\n    }, {});\n\nconst getRevenuePerDay = (orders) => {\n  const daysWithRevenue = aggregateOrdersByDay(orders);\n  return lastMonthDays.map((date) => ({\n    date: date.getTime(),\n    total: daysWithRevenue[format(date, \"YYYY-MM-DD\")] || 0,\n  }));\n};\n\nconst OrderChart = ({ orders }) => {\n  const translate = useTranslate();\n  if (!orders) return null;\n\n  return (\n    <Card>\n      <CardHeader title={translate(\"30 Day Revenue History\")} />\n      <CardContent>\n        <div style={{ width: \"100%\", height: \"50vh\" }}>\n          <ResponsiveContainer>\n            <AreaChart data={getRevenuePerDay(orders)}>\n              <defs>\n                <linearGradient id=\"colorUv\" x1=\"0\" y1=\"0\" x2=\"0\" y2=\"1\">\n                  <stop\n                    offset=\"5%\"\n                    stopColor={app.colorOne}\n                    stopOpacity={0.8}\n                  />\n                  <stop offset=\"95%\" stopColor={app.colorOne} stopOpacity={0} />\n                </linearGradient>\n              </defs>\n              <XAxis\n                dataKey=\"date\"\n                name=\"Date\"\n                type=\"number\"\n                scale=\"time\"\n                domain={[addDays(aMonthAgo, 1).getTime(), new Date().getTime()]}\n                tickFormatter={dateFormatter}\n              />\n              <YAxis dataKey=\"total\" name=\"Revenue\" unit={app.currencySymbol} />\n              <CartesianGrid strokeDasharray=\"3 3\" />\n              <Tooltip\n                cursor={{ strokeDasharray: \"3 3\" }}\n                formatter={(value) =>\n                  new Intl.NumberFormat(undefined, {\n                    style: \"currency\",\n                    currency: app.currencyCode,\n                  }).format(value)\n                }\n                labelFormatter={(label) => dateFormatter(label)}\n              />\n              <Area\n                type=\"monotone\"\n                dataKey=\"total\"\n                stroke={app.colorOne}\n                strokeWidth={2}\n                fill=\"url(#colorUv)\"\n              />\n            </AreaChart>\n          </ResponsiveContainer>\n        </div>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default OrderChart;\n","import React, {\n  useState,\n  useEffect,\n  useCallback,\n  FC,\n  CSSProperties,\n} from \"react\";\nimport { useVersion, useDataProvider } from \"react-admin\";\nimport { useMediaQuery, Theme } from \"@material-ui/core\";\nimport { subDays } from \"date-fns\";\n\nimport MonthlyRevenue from \"./MonthlyRevenue\";\nimport { app } from \"../contants\";\n\nimport NewOrders from \"./NewOrders\";\nimport NewCustomers from \"./NewCustomers\";\nimport PendingOrders from \"./PendingOrders\";\n//   import PendingReviews from \"./PendingReviews\";\n\nimport OrderChart from \"./OrderChart\";\n\n//   import { Customer, Order, Review } from \"../types\";\n\n//   interface OrderStats {\n//     revenue: number;\n//     nbNewOrders: number;\n//     pendingOrders: Order[];\n//   }\n\n//   interface CustomerData {\n//     [key: string]: Customer;\n//   }\n\n//   interface State {\n//     nbNewOrders?: number;\n//     nbPendingReviews?: number;\n//     pendingOrders?: Order[];\n//     pendingOrdersCustomers?: CustomerData;\n//     pendingReviews?: Review[];\n//     pendingReviewsCustomers?: CustomerData;\n//     recentOrders?: Order[];\n//     revenue?: string;\n//   }\n\nconst styles = {\n  flex: { display: \"flex\" },\n  flexColumn: { display: \"flex\", flexDirection: \"column\" },\n  leftCol: { flex: 1, marginRight: \"0.5em\" },\n  rightCol: { flex: 1, marginLeft: \"0.5em\" },\n  singleCol: { marginTop: \"1em\", marginBottom: \"1em\" },\n  topZeroMargin: { marginTop: \"0em\", marginBottom: \"1em\" },\n};\n\nconst Spacer = () => <span style={{ width: \"1em\" }} />;\nconst VerticalSpacer = () => <span style={{ height: \"1em\" }} />;\n\nconst Dashboard = () => {\n  const [state, setState] = useState({\n    revenue: app.currencySymbol + \"0.00\",\n    recentOrders: [],\n    newOrders: \"0\",\n  });\n  const version = useVersion();\n  const dataProvider = useDataProvider();\n  const isXSmall = useMediaQuery((theme) => theme.breakpoints.down(\"xs\"));\n  const isSmall = useMediaQuery((theme) => theme.breakpoints.down(\"md\"));\n\n  const fetchOrders = useCallback(async () => {\n    const aMonthAgo = subDays(new Date(), 30);\n    const { data: recentOrders } = await dataProvider.getList(\"all_orders\", {\n      filter: { date_gte: aMonthAgo.toISOString() },\n      sort: { field: \"created_at\", order: \"DESC\" },\n      pagination: { page: 1, perPage: 50 },\n    });\n    const aggregations = recentOrders.reduce(\n      (stats, order) => {\n        if (order.status == \"Completed\") {\n          stats.revenue += parseFloat(order.total);\n        }\n        if (order.status === \"Progress\") {\n          stats.newOrders++;\n          stats.pendingOrders.push(order);\n        }\n        return stats;\n      },\n      {\n        revenue: 0,\n        newOrders: 0,\n        pendingOrders: [],\n      }\n    );\n\n    setState((state) => ({\n      ...state,\n      recentOrders,\n      newOrders: aggregations.newOrders ? aggregations.newOrders : \"0\",\n      revenue: aggregations.revenue.toLocaleString(undefined, {\n        style: \"currency\",\n        currency: app.currencyCode,\n        minimumFractionDigits: 2,\n        maximumFractionDigits: 2,\n      }),\n      // nbNewOrders: aggregations.newOrders,\n      pendingOrders: aggregations.pendingOrders,\n    }));\n    const { data: customers } = await dataProvider.getMany(\"parties\", {\n      ids: aggregations.pendingOrders.map((order) => order.party_id),\n    });\n    setState((state) => ({\n      ...state,\n      pendingOrdersCustomers: customers.reduce((prev, customer) => {\n        prev[customer.id] = customer; // eslint-disable-line no-param-reassign\n        return prev;\n      }, {}),\n    }));\n  }, [dataProvider]);\n\n  // const fetchReviews = useCallback(async () => {\n  //   const { data: reviews } = await dataProvider.getList<Review>(\"reviews\", {\n  //     filter: { status: \"pending\" },\n  //     sort: { field: \"date\", order: \"DESC\" },\n  //     pagination: { page: 1, perPage: 100 },\n  //   });\n  //   const nbPendingReviews = reviews.reduce((nb) => ++nb, 0);\n  //   const pendingReviews = reviews.slice(0, Math.min(10, reviews.length));\n  //   setState((state) => ({ ...state, pendingReviews, nbPendingReviews }));\n  //   const { data: customers } = await dataProvider.getMany<Customer>(\n  //     \"customers\",\n  //     {\n  //       ids: pendingReviews.map((review) => review.customer_id),\n  //     }\n  //   );\n  //   setState((state) => ({\n  //     ...state,\n  //     pendingReviewsCustomers: customers.reduce(\n  //       (prev: CustomerData, customer) => {\n  //         prev[customer.id] = customer; // eslint-disable-line no-param-reassign\n  //         return prev;\n  //       },\n  //       {}\n  //     ),\n  //   }));\n  // }, [dataProvider]);\n\n  useEffect(() => {\n    fetchOrders();\n    // fetchReviews();\n  }, [version]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const {\n    nbNewOrders,\n    nbPendingReviews,\n    pendingOrders,\n    pendingOrdersCustomers,\n    pendingReviews,\n    pendingReviewsCustomers,\n    revenue,\n    recentOrders,\n    newOrders,\n  } = state;\n  return isXSmall ? (\n    <div>\n      <div style={styles.flexColumn}>\n        <MonthlyRevenue value={revenue} />\n        <VerticalSpacer />\n        <NewOrders value={newOrders} />\n        <VerticalSpacer />\n        {/* <PendingOrders\n          orders={pendingOrders}\n          customers={pendingOrdersCustomers}\n        /> */}\n      </div>\n    </div>\n  ) : isSmall ? (\n    <div style={styles.flexColumn}>\n      <div style={styles.flex}>\n        <MonthlyRevenue value={revenue} />\n        <Spacer />\n        <NewOrders value={newOrders} />\n      </div>\n      <div style={styles.singleCol}>\n        <OrderChart orders={recentOrders} />\n      </div>\n      <div style={styles.singleCol}>\n        <PendingOrders\n          orders={pendingOrders}\n          customers={pendingOrdersCustomers}\n        />\n      </div>\n    </div>\n  ) : (\n    <>\n      <div style={styles.flex}>\n        <div style={styles.leftCol}>\n          <div style={styles.flex}>\n            <MonthlyRevenue value={revenue} />\n            <Spacer />\n            <NewOrders value={newOrders} />\n          </div>\n          <div style={styles.singleCol}>\n            <OrderChart orders={recentOrders} />\n          </div>\n          <div style={styles.singleCol}>\n            {/* <PendingOrders\n              orders={pendingOrders}\n              customers={pendingOrdersCustomers}\n            /> */}\n          </div>\n        </div>\n        <div style={styles.rightCol}>\n          <div style={styles.topZeroMargin}>\n            {/* <PendingReviews\n              nb={nbPendingReviews}\n              reviews={pendingReviews}\n              customers={pendingReviewsCustomers}\n            /> */}\n            <NewCustomers />\n          </div>\n          {/* <div style={styles.singleCol}>\n            <Spacer />\n            <PendingOrders\n              orders={pendingOrders}\n              customers={pendingOrdersCustomers}\n            />\n          </div> */}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Dashboard;\n","import DashboardComponent from \"./Dashboard\";\nexport default () => {\n  return (\n    <>\n      <h2>Admin Panel - Dashboard</h2>\n      <DashboardComponent />\n    </>\n  );\n};\n","// /* eslint-disable */\n// // in src/App.js\nimport * as React from \"react\";\nimport { Admin, Resource } from \"react-admin\";\nimport axios from \"axios\";\n\nimport authProvider from \"./providers/authProvider\";\nimport dataProvider from \"./providers/dataProvider\";\n\nimport LoginPage from \"./utilities/LoginPage\";\nimport customRoutes from \"./providers/routes\";\n\nimport layout from \"./layout\";\nimport dashboard from \"./dashboard\";\nimport items from \"./items\";\nimport inventories from \"./inventories\";\nimport parties from \"./parties\";\nimport categories from \"./categories\";\nimport expenses from \"./expenses\";\nimport expense_types from \"./expense_types\";\nimport expense_views from \"./expense_views\";\nimport orders from \"./orders\";\nimport invoices from \"./invoices\";\nimport purchase_invoices from \"./purchase_invoices\";\nimport purchase_order_costing from \"./purchase_order_costing\";\nimport daily_invoice_reports from \"./daily_invoice_reports\";\nimport order_reports from \"./order_reports\";\nimport purchase_order_reports from \"./purchase_order_reports\";\nimport van_reports from \"./van_reports\";\nimport purchase_orders from \"./purchase_orders\";\nimport purchase_items from \"./purchase_items\";\nimport manual_orders from \"./manual_orders\";\nimport transactions from \"./transactions\";\nimport { app } from \"./contants\";\n\n// import UnderConstruction from \"./components/UnderContrction\";\n\nexport default function App() {\n  React.useEffect(() => {\n    const validate = async () => {\n      var userToken = null;\n      try {\n        userToken = JSON.parse(localStorage.getItem(\"auth\"));\n        if (userToken) {\n          await axios\n            .post(app.api + \"validate\", {\n              token: userToken.token_id,\n            })\n            .then((result) => {\n              if (result.data == false) localStorage.removeItem(\"auth\");\n            });\n        } else {\n          localStorage.removeItem(\"auth\");\n        }\n      } catch (e) {\n        localStorage.removeItem(\"auth\");\n      }\n    };\n    validate();\n  }, []);\n  // return <UnderConstruction />;\n  return (\n    <Admin\n      layout={layout}\n      dashboard={dashboard}\n      dataProvider={dataProvider}\n      authProvider={authProvider}\n      loginPage={LoginPage}\n      customRoutes={customRoutes}\n    >\n      {(permissions) => [\n        <Resource {...categories} />,\n        <Resource {...expenses} />,\n        <Resource {...expense_types} />,\n        <Resource {...expense_views} />,\n        <Resource {...items} />,\n        <Resource {...inventories} />,\n        <Resource {...orders} />,\n        <Resource {...manual_orders} />,\n        <Resource {...purchase_orders} />,\n        <Resource {...purchase_items} />,\n        <Resource {...invoices} />,\n        <Resource {...purchase_invoices} />,\n        <Resource {...purchase_invoices} />,\n        <Resource {...daily_invoice_reports} />,\n        permissions === app.superAdminRole ? <Resource {...parties} /> : null,\n        permissions === app.superAdminRole ? (\n          <Resource {...purchase_order_costing} />\n        ) : null,\n        permissions === app.superAdminRole ? (\n          <Resource {...order_reports} />\n        ) : null,\n        permissions === app.superAdminRole ? (\n          <Resource {...purchase_order_reports} />\n        ) : null,\n        permissions === app.superAdminRole ? (\n          <Resource {...transactions} />\n        ) : null,\n        <Resource {...van_reports} />,\n      ]}\n    </Admin>\n  );\n}\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","/* eslint-disable */\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\n(function (proxied) {\n  parseFloat = function () {\n    if (typeof arguments[0] === \"string\") {\n      arguments[0] = arguments[0].replace(/,/g, \"\");\n    }\n    return proxied.apply(this, arguments);\n  };\n})(parseFloat);\n\nReactDOM.render(\n  // <React.StrictMode>\n  //   <App />\n  // </React.StrictMode>,\n  <App />,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}